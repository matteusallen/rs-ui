(this["webpackJsonpopen-stalls"]=this["webpackJsonpopen-stalls"]||[]).push([[0],{1011:function(e,n,t){},1012:function(e,n,t){},1013:function(e,n,t){},1014:function(e,n,t){},1022:function(e,n,t){},108:function(e,n,t){"use strict";(function(e){t.d(n,"b",(function(){return S}));var a=t(10),r=t.n(a),s=t(16),i=t(5),c=t(4),o=t(86),l=t(591),d=t(549),u=t(548),p=t(265),b=t(52),m=t(550),j=t(551),h=t(90);const x="http://localhost:5000",O=new d.a({uri:"".concat(x,"/graphql"),credentials:"same-origin"}),g=new l.a({uri:"".concat(x,"/graphql"),credentials:"same-origin"}),v=Object(u.a)(),f=Object(m.a)(((e,{headers:n})=>{const t=h.a.getToken();return{headers:Object(c.a)(Object(c.a)({},n),{},{auth:t?"Bearer ".concat(t):""})}})),y=Object(j.a)((e=>{if(e.graphQLErrors){const n=Object(i.a)(e.graphQLErrors,1)[0];n&&"Unauthenticated!"===n.message&&h.a.clearToken()}e.networkError&&console.warn("Error: Cannot connect to API")})),A=f.concat(y),w=v.concat(O),N=v.concat(g);n.a=new o.a({connectToDevTools:e.browser,shouldBatch:!0,link:Object(b.d)((e=>!0===e.getContext().slow),b.a.from([A,w]),b.a.from([A,N])),cache:new p.a});const S=function(){var e=Object(s.a)(r.a.mark((function e(n){var t,a,s,i,o,l,d,u,p,b,m,j,h,O,g,v,f,y;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.path,a=n.method,s=n.body,i=n.cType,o=n.header,l=n.isDownload,d=n.fileName,u="".concat(x,"/").concat(t),b="application/json"===(p=i||"application/json")?JSON.stringify(s):s,m={"Content-Type":"".concat(p),token:"Hkuc#2T!RhRN0ZyO@F3pp5f8A"},"multipart/form-data"===p&&delete m["Content-Type"],j=Object(c.a)(Object(c.a)({},m),o),e.next=9,fetch(u,{method:a,body:b,headers:j});case 9:if(h=e.sent,O=h.clone(),!(l&&h.status<400)){e.next=27;break}return e.next=14,h.blob();case 14:if("application/json"!==(g=e.sent).type){e.next=19;break}return e.next=18,O.json();case 18:return e.abrupt("return",e.sent);case 19:return u=window.URL.createObjectURL(new Blob([g],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),(v=document.createElement("a")).href=u,v.setAttribute("download",d),document.body.appendChild(v),v.click(),v.parentNode.removeChild(v),e.abrupt("return",{success:!0});case 27:if(f=h.json(),!(h.status>=400)){e.next=33;break}return e.next=31,f;case 31:throw y=e.sent,Error(y.message);case 33:return e.abrupt("return",f);case 34:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}).call(this,t(157))},1086:function(e,n){},1126:function(e,n,t){},1127:function(e,n,t){},1128:function(e,n,t){},1129:function(e,n,t){},1130:function(e,n,t){},1131:function(e,n,t){},1132:function(e,n,t){},1133:function(e,n,t){},1134:function(e,n,t){},1135:function(e,n,t){},1136:function(e,n,t){},1137:function(e,n,t){},1138:function(e,n,t){},1139:function(e,n,t){},1140:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t(1),s=t.n(r),i=t(37),c=t.n(i),o=t(387),l=t.n(o),d=t(543),u=t.n(d),p=t(44),b=t(29),m=t(1239),j=t(4),h=t(10),x=t.n(h),O=t(16);const g=Object(r.createContext)(),v=g.Provider,f=g.Consumer;class y extends r.PureComponent{constructor(e){var n;super(e),n=this,this.handleLogin=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({currentUser:t});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.handleLogout=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({currentUser:null,rejectedRoutes:[]});case 1:case"end":return e.stop()}}),e)}))),this.handleUpdate=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({currentUser:t});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.rejectRoute=e=>{const n=this.state.rejectedRoutes;this.setState({rejectedRoutes:[...n,e]})},this.getLastRejectedUrl=(e,n)=>{if(this.state.rejectedRoutes.length>0){e([...this.state.rejectedRoutes].pop())}else n()},this.state={currentUser:null,rejectedRoutes:[]}}render(){return Object(a.jsx)(v,{value:{user:this.state.currentUser,onLogin:this.handleLogin,onLogout:this.handleLogout,onUpdate:this.handleUpdate,rejectedRoutes:this.state.rejectedRoutes,rejectRoute:this.rejectRoute,getLastRejectedUrl:this.getLastRejectedUrl},children:this.props.children})}}function A(e){return function(n){return Object(a.jsx)(f,{children:t=>Object(a.jsx)(e,Object(j.a)(Object(j.a)({},n),t))})}}var w=t(5);const N=Object(r.createContext)({message:"",open:!1,options:{},showSnackbar:()=>{},hideSnackbar:()=>{}}),S=N.Provider,I=N.Consumer,C=e=>{const n=e.children,t=Object(r.useState)(""),s=Object(w.a)(t,2),i=s[0],c=s[1],o=Object(r.useState)(!1),l=Object(w.a)(o,2),d=l[0],u=l[1],p=Object(r.useState)({}),b=Object(w.a)(p,2),m=b[0],j=b[1],h=Object(r.useCallback)((()=>{u(!1)}));return Object(a.jsx)(S,{value:{snackbarOpen:d,snackbarMessage:i,showSnackbar:(e,n={})=>{d||(c(e),j(n),u(!0))},hideSnackbar:h,options:m},children:n})},D=e=>{const n=n=>Object(a.jsx)(I,{children:t=>{const r=t.hideSnackbar,s=t.showSnackbar;return Object(a.jsx)(e,Object(j.a)(Object(j.a)({},n),{},{hideSnackbar:r,showSnackbar:s}))}});return n.displayName="WithSnackbarContext",n};var k=t(2),_=t(20),E=t(3),R=t(1190);var T,P={button:{primary:{active:"#10AC84",disabled:"#c8d6e5"},secondary:{active:"#222f3e"}},background:{primary:"#F2F4F7",primary_hover:"#E5E7EA",footerBackground:"rgb(87, 101, 116)",inputs:"#F1F4F7"},icons:{blue:"#2E86DE"},border:{primary:"#C8D6E5",primary_hover:"#AFBDCC",secondary:"#2875c3",tertiary:"#2875C3"},text:{primary:"#11181F",secondary:"#576574",accent:"#0FAC84",link:"#2875c3",lightGray:"#C8D6E5",lightGray2:"#8395A7",darkBlue:"#2875C3"},error:{primary:"#EE5253"},primary:"#10AC84",secondary:"#2875c3",white:"#FFFFFF"};var M,B=Object(E.b)((({className:e,size:n=40})=>Object(a.jsx)(R.a,{className:e,size:n,color:"primary"})))(T||(T=Object(k.a)(["\n    .MuiCircularProgress-colorPrimary {\n      color: ","\n    }\n  }\n"])),P.border.tertiary),F=t(17),L=t.n(F);const q=L()(M||(M=Object(k.a)(["\n  query UserRolesForLocalContext {\n    userRoles {\n      id\n      name\n    }\n  }\n"])));var z;const Y=Object(r.createContext)(),V=Y.Provider,U=Y.Consumer,W=e=>{const n=Object(r.useState)(),t=Object(w.a)(n,2),s=t[0],i=t[1],c=Object(_.c)(q),o=c.data,l=c.loading;return Object(r.useEffect)((()=>{if(o&&o.userRoles){const e=o.userRoles.filter((e=>5!==Number(e.id)));i({userRoles:e})}else i([])}),[o]),l?Object(a.jsx)(Q,{children:Object(a.jsx)(B,{})}):Object(a.jsx)(V,{value:{userRoles:s},children:e.children})};const Q=E.b.div(z||(z=Object(k.a)(["\n  overflow: hidden;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));var G=t(108),H=t(24);const K="/",Z={LOGIN:"".concat(K,"login"),CREATE_ACCOUNT:"".concat(K,"create-account"),EMAIL_SENT:"".concat(K,"email-sent"),FORGOT_PASSWORD:"".concat(K,"forgot-password"),RESET_PASSWORD:"".concat(K,"reset-password"),CREATE_PASSWORD:"".concat(K,"create-password"),ABOUT:"".concat(K,"about"),TERMS:"".concat(K,"terms"),ENDUSER:"".concat(K,"end-user-agreement"),PRIVACY:"".concat(K,"privacy"),ADMIN:"".concat(K,"admin/"),SUPER_ADMIN:"".concat(K,"super-admin/"),OPS:"".concat(K,"ops/"),ROOT:K},X=Z.ADMIN,J=Z.ROOT,$=Z.OPS,ee=Z.SUPER_ADMIN,ne={RENTER:{CREATE_ORDER:["".concat(J,"reservation/:eventId/checkout"),"".concat(J,"reservation/:eventId/rvs"),"".concat(J,"reservation/:eventId"),"".concat(J,"reservation/:eventId/stalls")],CONFIRM_RESERVATION:"".concat(J,"reservation/confirmation/:orderId"),EVENTS:"".concat(J,"events"),RESERVATIONS:"".concat(J,"reservations"),HELP:"".concat(J,"help"),VIEW_RESERVATION:"".concat(J,"reservation/details/:orderId")},ADMIN:{EVENTS:"".concat(X,"events"),CREATE_EVENT:"".concat(X,"events/new"),EDIT_EVENT:"".concat(X,"events/edit/:eventId"),ORDERS:"".concat(X,"orders"),CREATE_ORDER:"".concat(X,"order/new"),EDIT_ORDER:"".concat(X,"order/edit/:orderId"),GROUPS:"".concat(X,"groups"),REPORTS:"".concat(X,"reports"),USERS:"".concat(X,"users"),PUSH_DEMO:"".concat(K,"push-notifications-demo")},OPS:{STALLS:"".concat($,"stalls"),RVS:"".concat($,"rvs")},SUPER_ADMIN:{CREATE_VENUE:"".concat(ee,"venues/new"),MAIN:"".concat(ee),VENUES:"".concat(ee,"venues")}};var te,ae=Z,re=t(1247),se=t(27),ie=t(553),ce=t.n(ie);const oe=L()(te||(te=Object(k.a)(["\n  query LocalUserFromToken($token: String) {\n    user(token: $token) {\n      payload {\n        id\n        email\n        role {\n          id\n          name\n        }\n        firstName\n        lastName\n        phone\n        savedCreditCards {\n          id\n          last4\n          fingerprint\n          name\n        }\n        venues {\n          id\n        }\n      }\n      error\n    }\n  }\n"])));var le={OPS:"operations",RENTER:"renter",RESERVATION_ADMIN:"reservation admin",SUPER_ADMIN:"super admin",VENUE_ADMIN:"venue admin"},de=t(90);t(554),t(209);var ue;t(558);const pe=L()(ue||(ue=Object(k.a)(["\n  mutation LogOut($input: LogoutInput) {\n    logOut(input: $input) {\n      error\n      success\n    }\n  }\n"]))),be=Object(re.a)(pe,{props:({mutate:e})=>({logoutUser:()=>{const n=de.a.getToken();return e({variables:{input:{token:n}}})}}),options:e=>({onCompleted:function(){var n=Object(O.a)(x.a.mark((function n(){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.history.push(ae.ROOT),n.next=4,de.a.clearToken();case 4:return n.next=6,e.onLogout();case 6:e.client.clearStore(),e.history.push(ae.ROOT),n.next=16;break;case 10:return n.prev=10,n.t0=n.catch(0),e.history.push(ae.ROOT),n.next=15,de.a.clearToken();case 15:e.history.push(ae.ROOT);case 16:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}()})});var me,je=Object(se.a)(re.b,H.j,A,be);const he=E.b.div(me||(me=Object(k.a)(["\n  overflow: hidden;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));var xe,Oe,ge,ve,fe,ye,Ae,we,Ne,Se,Ie=Object(se.a)(re.b,H.j,A,(e=>{class n extends r.Component{constructor(...e){var n;super(...e),n=this,this.state={proceed:!1},this.checkIfRenterRoute=()=>{const e=this.props.location;let n=!1;return Object.keys(ne.RENTER).forEach((t=>{e.pathname===ne.RENTER[t]&&(n=!0)})),n},this.isAuthenticated=()=>{const e=de.a.getToken(),n=this.props,t=n.history,a=n.user,r=n.location;return!e&&(r.pathname.startsWith(ae.OPS)||r.pathname.startsWith(ae.ADMIN)||this.checkIfRenterRoute())?(this.props.rejectRoute(r.pathname),t.push(ae.LOGIN),this.proceed()):e?a?this.isAuthorized():this.getUserWithToken(e):this.proceed()},this.getUserWithToken=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,r,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.client,s=a.onLogin,i={query:oe,variables:{token:t}},e.next=4,r.query(i).then(function(){var e=Object(O.a)(x.a.mark((function e({data:n}){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s(n.user.payload));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",n.isAuthorized());case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.isAuthorized=Object(O.a)(x.a.mark((function e(){var t,a,r,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.location,r=t.history,s=t.user,i=ce()(s,"role.name","").toLowerCase(),s){e.next=7;break}return de.a.clearToken(),n.props.rejectRoute(a.pathname),r.push(ae.ROOT),e.abrupt("return",n.proceed());case 7:if(i!==le.RENTER||!a.pathname.startsWith(ae.OPS)&&!a.pathname.startsWith(ae.ADMIN)){e.next=10;break}return r.push(ae.ROOT),e.abrupt("return",n.proceed());case 10:if(i!==le.OPS||a.pathname.startsWith(ae.OPS)){e.next=13;break}return r.push(ae.OPS),e.abrupt("return",n.proceed());case 13:if(i!==le.VENUE_ADMIN&&i!==le.RESERVATION_ADMIN||a.pathname.startsWith(ae.ADMIN)){e.next=16;break}return r.push(ae.ADMIN),e.abrupt("return",n.proceed());case 16:if(i!==le.SUPER_ADMIN||a.pathname.startsWith(ae.SUPER_ADMIN)){e.next=19;break}return r.push(ae.SUPER_ADMIN),e.abrupt("return",n.proceed());case 19:return e.abrupt("return",n.proceed());case 20:case"end":return e.stop()}}),e)}))),this.proceed=()=>this.setState({proceed:!0}),this.onError=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.logoutUser();case 2:return e.abrupt("return",n.isAuthenticated());case 3:case"end":return e.stop()}}),e)})))}componentDidMount(){this.isAuthenticated()}shouldComponentUpdate(e){return!this.props.user&&e.user||this.props.user&&!e.user?(this.isAuthenticated(),!0):!this.props.user||!e.user||this.props.user.role===e.user.role||(this.isAuthenticated(),!0)}render(){const n=this.state.proceed?Object(a.jsx)(e,Object(j.a)({onError:this.onError},this.props)):Object(a.jsx)(he,{children:Object(a.jsx)(B,{})});return Object(a.jsx)(a.Fragment,{children:n})}}return n}),be)((e=>Object(a.jsx)("div",{className:"App",children:e.children}))),Ce=t(1198),De=t(1197),ke=t.p+"static/media/horse-in-stall.0cb74904.jpeg",_e=t.p+"static/media/open-stalls-white.7970e632.png",Ee=t.p+"static/media/rodeo-logistics-logo-white.c75cef84.png";const Re=Object(E.a)(xe||(xe=Object(k.a)(["\n  font-family: 'IBMPlexSans-SemiBold';\n  font-size: 41px;\n  font-weight: 600;\n  line-height: 50px;\n  letter-spacing: 0.9px;\n  color: ",";\n  @media screen and (min-width: 960px) {\n    font-size: 2.5625rem;\n    line-height: 50px;\n    letter-spacing: 1.2px;\n  }\n"])),P.text.primary),Te=Object(E.a)(Oe||(Oe=Object(k.a)(["\n  font-family: 'IBMPlexSans-SemiBold';\n  margin-bottom: 5px;\n  font-size: 1.5625rem;\n  line-height: 35px;\n  letter-spacing: 1.1px;\n  color: ",";\n  @media screen and (min-width: 960px) {\n    font-size: 1.875rem;\n    line-height: 50px;\n    letter-spacing: 0.9px;\n  }\n"])),P.text.primary),Pe=Object(E.a)(ge||(ge=Object(k.a)(["\n  font-family: 'IBMPlexSans-SemiBold';\n  font-size: 1.375rem;\n  line-height: 25px;\n  letter-spacing: 1px;\n  color: ",";\n\n  @media screen and (min-width: 960px) {\n    font-size: 1.5625rem;\n    line-height: 25px;\n    letter-spacing: 1.1px;\n  }\n"])),P.text.primary),Me=Object(E.a)(ve||(ve=Object(k.a)(["\n  font-family: 'IBMPlexSans-SemiBold';\n  font-size: 1.125rem;\n  line-height: 0;\n  letter-spacing: 0.8px;\n  color: ",";\n  @media screen and (min-width: 960px) {\n    font-size: 1.375rem;\n    line-height: 25px;\n    letter-spacing: 0.97px;\n  }\n"])),P.text.primary),Be=Object(E.a)(fe||(fe=Object(k.a)(["\n  font-family: 'IBMPlexSans-SemiBold';\n  font-size: 1.125rem;\n  margin: 0;\n  letter-spacing: 0.8px;\n  color: ",";\n"])),P.text.primary),Fe=Object(E.a)(ye||(ye=Object(k.a)(["\n  font-family: 'IBMPlexSans-Regular';\n  font-size: 1rem;\n  line-height: 25px;\n  letter-spacing: 0;\n"]))),Le=Object(E.a)(Ae||(Ae=Object(k.a)(["\n  font-family: 'IBMPlexSans-Regular';\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 25px;\n  letter-spacing: 0;\n"]))),qe=Object(E.a)(we||(we=Object(k.a)(["\n  ","\n  font-family: 'IBMPlexSans-Bold';\n  font-weight: bold;\n"])),Fe),ze=Object(E.a)(Ne||(Ne=Object(k.a)(["\n  font-family: 'IBMPlexSans-Bold';\n  font-size: 0.8125rem;\n  line-height: 17px;\n  letter-spacing: 0.65px;\n  text-transform: uppercase;\n"]))),Ye=Object(E.a)(Se||(Se=Object(k.a)(["\n  font-family: 'IBMPlexSans-Regular';\n  font-size: 0.8125rem;\n  line-height: 17px;\n  letter-spacing: 0.65px;\n  text-transform: uppercase;\n"])));var Ve;const Ue=E.b.div(Ve||(Ve=Object(k.a)(["\n  background-image: url(",");\n  background-color: gray;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: top center;\n  box-shadow: inset 0 0 0 2000px rgba(0.07, 0.09, 0.12, 0.5);\n  color: transparent;\n  height: 250px;\n  box-sizing: border-box;\n  @include display-flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n\n  .open-stalls-logo {\n    display: block;\n    width: 235px;\n    padding: 25px 0 10px 0;\n    height: 50px;\n    margin: auto;\n  }\n  .rodeo-logo {\n    width: 254px;\n    height: 37px;\n    margin-bottom: 8px;\n  }\n  p {\n    ","\n    width: 40%;\n    margin: 0 auto;\n    color: #fff;\n    margin-bottom: 25px;\n  }\n\n  @media screen and (min-width: 600px) {\n    background-image: url(",");\n    background-color: gray;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: center 40%;\n    box-shadow: inset 0 0 0 2000px rgba(0.07, 0.09, 0.12, 0.5);\n  }\n\n  @media screen and (min-width: 960px) {\n    background-image: url(",");\n    background-color: gray;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: 60% center;\n    color: transparent;\n    height: 100%;\n    box-sizing: border-box;\n    @include display-flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding-top: 225px;\n\n    .rodeo-logo {\n      margin-bottom: 25px;\n    }\n\n    .open-stalls-logo {\n      width: 280px;\n      height: 65px;\n    }\n\n    p {\n      width: 70%;\n    }\n  }\n"])),ke,Fe,ke,ke);var We=e=>Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)(Ue,{className:"login-header--background",children:[Object(a.jsx)("img",{className:"open-stalls-logo",src:_e,alt:"Open Stalls Logo"}),Object(a.jsx)("img",{className:"rodeo-logo",src:Ee,alt:"Rodeo Logistics Logo"}),Object(a.jsx)("p",{children:e.description})]})}),Qe=t(94),Ge=t.n(Qe);var He;const Ke=Object(E.a)(He||(He=Object(k.a)(["\n  display: -webkit-box; /* OLD - iOS 6-, Safari 3.1-6, BB7 */\n  display: -ms-flexbox; /* TWEENER - IE 10 */\n  display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */\n  display: flex; /* NEW, Spec - Firefox, Chrome, Opera */\n"]))),Ze="768px",Xe="960px",Je="1200px",$e={MEDIUM_MOBILE_WIDTH:"375px",DESKTOP_WIDTH:Je,BIG_TABLET_WIDTH:Xe,SMALL_TABLET_WIDTH:Ze},en=(e,n)=>"\n  @media screen and (min-width: ".concat($e[e],") {\n    ").concat(n,"\n  }\n"),nn=()=>window.innerWidth<=Number(Xe.replace(/px/i,""));var tn,an;const rn=E.b.div(tn||(tn=Object(k.a)(["\n  ","\n  ","\n\n  p {\n    text-align: left;\n  }\n\n  span {\n    padding: 0 8px 0 0;\n  }\n"])),Ke,Fe),sn=Object(E.b)(b.b)(an||(an=Object(k.a)(["\n  ","\n  color: ",";\n  align-self: flex-end;\n  font-size: 0.9375rem;\n  line-height: 17px;\n  letter-spacing: 1px;\n  text-decoration: none;\n"])),Fe,P.text.link);var cn,on=()=>Object(a.jsx)(rn,{children:Object(a.jsxs)("p",{children:["By signing in, I agree to the",Object(a.jsx)(sn,{to:"/terms",target:"_blank",id:"",children:"  Terms of Use"}),",",Object(a.jsx)(sn,{to:"/privacy",target:"_blank",children:" Privacy Policy "})," and",Object(a.jsx)(sn,{to:"/end-user-agreement",target:"_blank",children:" End User Agreement"})]})});const ln=L()(cn||(cn=Object(k.a)(["\n  mutation Login($input: LoginInput) {\n    logIn(input: $input) {\n      user {\n        id\n        email\n        role {\n          id\n          name\n        }\n      }\n      auth {\n        token\n        error\n        success\n      }\n    }\n  }\n"]))),dn=Object(re.a)(ln,{props:({mutate:e})=>({loginUser:n=>e({variables:{input:n}})}),options:e=>({onCompleted:function(){var n=Object(O.a)(x.a.mark((function n({logIn:t}){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(sessionStorage.removeItem("filters"),sessionStorage.removeItem("reservationsOrder"),!t.auth.token){n.next=7;break}return de.a.setToken(t.auth.token),n.next=6,e.onLogin(t.user);case 6:e.getLastRejectedUrl((n=>e.history.push(n)),(()=>{3===Number(t.user.role.id)&&e.history.push(ne.RENTER.EVENTS)}));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})});var un=Object(se.a)(H.j,A,dn),pn=t(1195),bn=t(1196),mn=t(1143),jn=t(268),hn=t.n(jn),xn=t(267),On=t.n(xn);t(979);var gn,vn,fn,yn,An,wn,Nn,Sn,In,Cn,Dn=({hasOneNumber:e,hasOneUppercase:n,hasOneLowercase:t,hasEightCharacters:r,passwordFieldBlurred:s})=>{const i=s&&!r,c=s&&!t,o=s&&!n,l=s&&!e,d=()=>Object(a.jsx)("span",{className:"list-bullet",children:"\u2022"});return Object(a.jsxs)("div",{className:"password-requirements",children:[Object(a.jsx)("span",{children:"Passwords must:"}),Object(a.jsxs)("ul",{className:"requirements-list",children:[Object(a.jsxs)("li",{children:[s||r?i?Object(a.jsx)(On.a,{color:"error"}):Object(a.jsx)(hn.a,{htmlColor:P.button.primary.active}):Object(a.jsx)(d,{})," ",Object(a.jsx)("span",{className:i?"error-text":"",children:"Be a minimum of 8 characters"})]}),Object(a.jsxs)("li",{children:[s||t?c?Object(a.jsx)(On.a,{color:"error"}):Object(a.jsx)(hn.a,{htmlColor:P.button.primary.active}):Object(a.jsx)(d,{})," ",Object(a.jsx)("span",{className:c?"error-text":"",children:"Include at least one lowercase letter (a-z)"})]}),Object(a.jsxs)("li",{children:[s||n?o?Object(a.jsx)(On.a,{color:"error"}):Object(a.jsx)(hn.a,{htmlColor:P.button.primary.active}):Object(a.jsx)(d,{})," ",Object(a.jsx)("span",{className:o?"error-text":"",children:"Include at least one uppercase letter (A-Z)"})]}),Object(a.jsxs)("li",{children:[s||e?l?Object(a.jsx)(On.a,{color:"error"}):Object(a.jsx)(hn.a,{htmlColor:P.button.primary.active}):Object(a.jsx)(d,{})," ",Object(a.jsx)("span",{className:l?"error-text":"",children:"Include at least one number (0-9)"})]})]})]})},kn=t(42),_n=t(1192);const En=Object(E.a)(gn||(gn=Object(k.a)(["\n  & {\n    width: 160px;\n    height: 36px;\n    border-radius: 3px;\n    ","\n\n    .progress-spinner {\n      color: inherit;\n      position: relative;\n      left: -10px;\n    }\n  }\n"])),Fe),Rn=Object(E.a)(vn||(vn=Object(k.a)(["\n  &&& {\n    color: ",";\n    background-color: ",";\n    ","\n    box-shadow: 0 2px 10px 0 rgba(0,0,0,0.16), 0 2px 5px 0 rgba(0,0,0,0.26);\n  }\n"])),P.white,P.button.primary.active,En),Tn=Object(E.a)(fn||(fn=Object(k.a)(["\n  &&& {\n    background-color: ",";\n    color: ",";\n    ","\n  }\n"])),P.button.primary.disabled,P.text.secondary,En),Pn=Object(E.a)(yn||(yn=Object(k.a)(["\n  &&& {\n    background-color: ",";\n    color: ",";\n    ","\n    box-shadow: 0 2px 10px 0 rgba(0,0,0,0.16), 0 2px 5px 0 rgba(0,0,0,0.26);\n  }\n"])),P.button.secondary.active,P.white,En),Mn=Object(E.a)(An||(An=Object(k.a)(["\n  &&& {\n    background-color: ",";\n    color: ",";\n    ","\n  }\n"])),P.button.primary.disabled,P.text.secondary,En),Bn=Object(E.a)(wn||(wn=Object(k.a)(["\n  &&& {\n    background-color: ",";\n    color: ",";\n    border: solid 1px ",";\n    ","\n    box-shadow: 0 2px 10px 0 rgba(0,0,0,0.16), 0 2px 5px 0 rgba(0,0,0,0.26);\n  }\n"])),P.white,P.text.primary,P.text.primary,En),Fn=Object(E.a)(Nn||(Nn=Object(k.a)(["\n  ","\n  border-radius: 0.5;\n"])),Bn),Ln=Object(E.a)(Sn||(Sn=Object(k.a)(["\n  &&& {\n    background-color: transparent;\n    color: ",";\n    border: solid 1px ",";\n    ","\n    box-shadow: none;\n  }\n"])),P.error.primary,P.error.primary,En),qn=Object(E.a)(In||(In=Object(k.a)(["\n  &&& {\n    background-color: transparent;\n    color: ",";\n    border: solid 1px ",";\n    ","\n    box-shadow: none;\n  }\n"])),P.border.primary,P.border.primary,En);var zn,Yn=Object(E.b)((e=>{const n=e.isLoading,t=(e.primary,e.secondary,e.tertiary,e.warn,e.children),r=Object(kn.a)(e,["isLoading","primary","secondary","tertiary","warn","children"]);return Object(a.jsx)(_n.a,Object(j.a)(Object(j.a)({},r),{},{children:n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(R.a,{size:24,className:"progress-spinner"}),"Loading..."]}):t}))}))(Cn||(Cn=Object(k.a)(["\n  ","\n"])),(e=>e.primary?e.disabled?Tn:Rn:e.secondary?e.disabled?Mn:Pn:e.tertiary?e.disabled?Fn:Bn:e.warn?e.disabled?qn:Ln:void 0));var Vn,Un,Wn,Qn,Gn=Object(E.b)((function(e){let n=e.className,t=Object(kn.a)(e,["className"]);return Object(a.jsx)(mn.a,Object(j.a)({id:"outlined-text-field",className:n,margin:"dense",variant:"outlined"},t))}))(zn||(zn=Object(k.a)(["\n  &&& {\n    margin: 0 16px 0 0;\n    height: 40px;\n    width: 200px;\n    * {\n      ","\n      /* line-height: 1em; */\n      font-size: 0.9375rem;\n    }\n    label {\n      font-size: 0.9375rem;\n    }\n    label[class^='MuiInputLabel-outlined'],\n    label[class*='MuiInputLabel-outlined'] {\n      top: -4px;\n    }\n    label[class^='MuiInputLabel-outlined Mui-focused'],\n    label[class*='MuiInputLabel-outlined Mui-focused'] {\n      top: -8px;\n    }\n    label[class^='MuiInputLabel-outlined MuiFormLabel-filled'],\n    label[class*='MuiInputLabel-outlined MuiFormLabel-filled'] {\n      top: -8px;\n    }\n    label[class^='MuiInputLabel-shrink'],\n    label[class*=' MuiInputLabel-shrink'] {\n      transform: translate(14px, 1px) scale(0.75);\n      top: -8px;\n    }\n    div {\n      height: 100%;\n      text-align: left;\n    }\n    div[class^='MuiSelect-selectMenu'] {\n      padding-top: 0;\n    }\n    svg {\n      top: calc(50% - 6px);\n      right: 4px;\n    }\n  }\n"])),Fe),Hn=(Object(E.b)(mn.a)(Vn||(Vn=Object(k.a)(["\n  width: 215px;\n  border-radius: 5px 5px 0 0;\n  &&& {\n    margin-right: 20px;\n    .MuiFilledInput-root {\n      background-color: ",";\n      font-family: 'IBMPlexSans-Regular';\n\n      &:hover {\n        background-color: ",";\n      }\n    }\n    .MuiFilledInput-root.Mui-disabled {\n      opacity: 0.5;\n    }\n    .MuiFormLabel-root {\n      ",";\n      color: ",";\n      font-size: 0.9375rem;\n      line-height: 24px;\n    }\n    .MuiFormLabel-root.Mui-disabled {\n      opacity: 0.5;\n    }\n  }\n"])),P.background.primary,P.background.primary_hover,Fe,P.text.secondary),Object(E.b)(mn.a)(Un||(Un=Object(k.a)(["\n  width: 100%;\n  &&& {\n    margin-top: 20px;\n    margin-bottom: 20px;\n\n    .MuiFilledInput-root {\n      background-color: ",";\n      font-family: 'IBMPlexSans-Regular';\n\n      &:hover {\n        background-color: ",";\n      }\n    }\n    .MuiFilledInput-root.Mui-disabled {\n      opacity: 0.5;\n    }\n    .MuiFormLabel-root {\n      ",";\n      color: ",";\n      font-size: 0.9375rem;\n      line-height: 24px;\n    }\n    .MuiFormLabel-root.Mui-disabled {\n      opacity: 0.5;\n    }\n    .MuiFilledInput-underline.Mui-error:after {\n      border-bottom-color: ",";\n    }\n    .MuiFilledInput-underline:after {\n      border-bottom-color: ",";\n    }\n  }\n"])),P.background.primary,P.background.primary_hover,Fe,P.text.secondary,P.error.primary,P.border.secondary)),Kn=t(118),Zn=Object(E.b)(Kn.b)(Wn||(Wn=Object(k.a)(["\n  width: 100%;\n  &&& {\n    margin-top: 20px;\n    margin-bottom: 20px;\n}\n\n    .MuiFilledInput-root {\n      background-color: ",";\n      font-family: 'IBMPlexSans-Regular';\n\n      &:hover {\n        background-color: ",";\n      }\n    }\n    .MuiFilledInput-root.Mui-disabled {\n      background-color: ",";\n      opacity: 0.5;\n    }\n    .MuiFilledInput-input {\n      color: ",";\n      '& $error': {\n        color: ",";\n      }\n    }\n    .MuiFilledInput-underline.Mui-error:after {\n      border-bottom-color: ",";\n    }\n    .MuiFilledInput-underline:after {\n      border-bottom-color: ",";\n    }\n    .MuiFormLabel-root {\n      ",";\n      color: ",";\n      font-size: 0.9375rem;\n      line-height: 24px;\n    }\n    .MuiFormLabel-root.Mui-disabled {\n        opacity: 0.5;\n    }\n    .MuiFormHelperText-root {\n      color: ",";\n      text-transform: uppercase;\n    }\n    .Mui-error {\n      color: ",";\n    }\n  }\n"])),P.background.primary,P.background.primary_hover,P.background.primary_hover,P.text.primary,P.error.primary,P.error.primary,P.border.secondary,Fe,P.text.secondary,P.error.primary,P.error.primary);var Xn,Jn=Object(E.b)((e=>{const n=e.value,t=e.onChange,r=e.className,s=e.label,i=e.name,c=Object(kn.a)(e,["value","onChange","className","label","name"]);delete c.initialError,delete c.initialValue,delete c.initialTouched;return Object(a.jsx)(mn.a,Object(j.a)(Object(j.a)({id:"phone-field"},c),{},{className:r,label:s,type:"tel",name:i,autoComplete:i,variant:"filled",value:!n||n.length<=3?n:n.length<=6?"(".concat(n.slice(0,3),") ").concat(n.slice(3)):"(".concat(n.slice(0,3),") ").concat(n.slice(3,6)," - ").concat(n.slice(6,10)),onChange:t,inputProps:{maxLength:16}}))}))(Qn||(Qn=Object(k.a)(["\n  width: 100%;\n  &&& {\n    margin-top: 20px;\n    margin-bottom: 20px;\n\n    .MuiFilledInput-root {\n      background-color: ",";\n      font-family: 'IBMPlexSans-Regular';\n\n      &:hover {\n        background-color: ",";\n      }\n    }\n    .MuiFilledInput-root.Mui-disabled {\n      background-color: ",";\n      opacity: 0.5;\n    }\n    .MuiFilledInput-input {\n      color: ",";\n      '& $error': {\n        color: ",";\n      }\n    }\n    .MuiFilledInput-underline.Mui-error:after {\n      border-bottom-color: ",";\n    }\n    .MuiFilledInput-underline:after {\n      border-bottom-color: ",";\n    }\n    .MuiFormLabel-root {\n      ",";\n      color: ",";\n      font-size: 0.9375rem;\n      line-height: 24px;\n    }\n    .MuiFormLabel-root.Mui-disabled {\n      opacity: 0.5;\n    }\n    .MuiFormHelperText-root {\n      text-transform: uppercase;\n    }\n    .Mui-error {\n      color: ",";\n    }\n  }\n"])),P.background.primary,P.background.primary_hover,P.background.primary_hover,P.text.primary,P.error.primary,P.error.primary,P.border.secondary,Fe,P.text.secondary,P.error.primary),$n=t(1194),et=t(600);var nt,tt=Object(E.b)((function(e){const n=Object(r.useState)(!1),t=Object(w.a)(n,2),s=t[0],i=t[1],c=e.value,o=e.onChange,l=e.className,d=e.label,u=e.name,p=Object(kn.a)(e,["value","onChange","className","label","name"]);return Object(a.jsx)(mn.a,Object(j.a)(Object(j.a)({id:"password-field"},p),{},{className:l,classes:{root:"password-field"},label:d,type:s?"text":"password",name:u,autoComplete:u,variant:"filled",value:c,onChange:o,InputProps:{classes:{adornedEnd:"password-field__adorned-end"},endAdornment:Object(a.jsx)($n.a,{position:"end",classes:{root:"password-field__adornment"},children:Object(a.jsx)(et.a,{classes:{root:"password-field__adornment-button"},"aria-label":"toggle password visibility",onClick:()=>i(!s),onMouseDown:function(e){e.preventDefault()},children:s?"HIDE":"SHOW"})})}}))}))(Xn||(Xn=Object(k.a)(["\n  &&&.password-field {\n    width: 100%;\n    font-size: 15px;\n    margin-bottom: 20px;\n    text-transform: uppercase;\n    background-color: ",";\n    .MuiInputLabel-formControl {\n      color: #242424;\n      font-size: 15px;\n    }\n    .MuiInputLabel-shrink {\n      color: #adadad;\n    }\n    .MuiFormLabel-root.Mui-error {\n      color: ",";\n    }\n    .MuiFilledInput-underline.Mui-error:after {\n      border-bottom-color: ",";\n    }\n    .MuiFilledInput-underline:after {\n      border-bottom-color: ",";\n    }\n    .Mui-error {\n      color: ",";\n    }\n    input,\n    label {\n      font-family: 'IBMPlexSans-Regular';\n      background-color: ",";\n    }\n    input:-webkit-autofill,\n    input:-webkit-autofill:hover,\n    input:-webkit-autofill:focus,\n    input:-webkit-autofill:active {\n      -webkit-box-shadow: 0 0 0 30px "," inset !important;\n    }\n\n    .password-field__adornment {\n      background-color: transparent;\n\n      .password-field__adornment-button {\n        &:hover {\n          background-color: transparent;\n        }\n      }\n    }\n    .password-field__adorned-end {\n      background-color: transparent;\n    }\n  }\n\n  span[class^='MuiIconButton-label'],\n  span[class*='MuiIconButton-label'] {\n    ","\n    font-size: 0.9375rem;\n    color: ",";\n  }\n"])),P.background.primary,P.error.primary,P.error.primary,P.border.secondary,P.error.primary,P.background.primary,P.background.primary,Fe,P.text.link);const at=(e="",n=!1)=>e.replace(/\$/g,"").replace(/\s/g,"").replace(/[a-z]/i,"").replace(/,/g,"").replace(n?"":/-/g,"");var rt=Object(E.b)((e=>{const n=e.value,t=void 0===n?"":n,r=e.onChange,s=e.className,i=e.label,c=e.name,o=e.type,l=Object(kn.a)(e,["value","onChange","className","label","name","type"]);return Object(a.jsx)(mn.a,Object(j.a)(Object(j.a)({id:"money-field"},l),{},{className:s,label:i,type:"text",name:c,autoComplete:c,variant:"filled",value:"".concat(t&&"percent"!==o?"$":"").concat(((e="")=>{const n="".concat(e),t=n.split("."),a=Object(w.a)(t,2),r=a[0],s=a[1];if(!r)return s?"0.".concat(s.substr(0,2)):n;if(r.length>3){const e=(e=>e.length<=3?e:e.split("").reverse().map(((n,t)=>(t+1)%3===0&&t+1!==e.length?",".concat(n):n)).reverse().join(""))(r);return s?"".concat(e,".").concat(s.substr(0,2)):n.match(/\.$/)?"".concat(e,"."):"".concat(e)}return s?"".concat(r,".").concat(s.substr(0,2)):n})(t)).concat(t&&"percent"===o?"%":""),onChange:r}))}))(nt||(nt=Object(k.a)(["\n  width: 100%;\n  &&& {\n    margin-top: 20px;\n    margin-bottom: 20px;\n\n    .MuiFilledInput-root {\n      background-color: ",";\n      font-family: 'IBMPlexSans-Regular';\n\n      &:hover {\n        background-color: ",";\n      }\n    }\n    .MuiFilledInput-root.Mui-disabled {\n      opacity: 0.5;\n    }\n    .MuiFormLabel-root {\n      ",";\n      color: ",";\n      font-size: 0.9375rem;\n      line-height: 24px;\n    }\n    .MuiFormLabel-root.Mui-disabled {\n      opacity: 0.5;\n    }\n    .MuiFilledInput-underline.Mui-error:after {\n      border-bottom-color: ",";\n    }\n    .MuiFilledInput-underline:after {\n      border-bottom-color: ",";\n    }\n  }\n"])),P.background.primary,P.background.primary_hover,Fe,P.text.secondary,P.error.primary,P.border.secondary);const st=/[a-z]/,it=/[A-Z]/,ct=/\d/,ot=/^[\w!@#$%^&*()_+\-={}[\]';:|,.<>]{8,}/,lt=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,dt=/\D/g,ut=/^[a-z]/i;var pt,bt,mt,jt,ht,xt;const Ot=Object(E.b)(Yn)(pt||(pt=Object(k.a)(["\n  &&& {\n    width: 100%;\n    margin: 20px auto 25px;\n    height: auto;\n  }\n"]))),gt=Object(E.b)(bn.a)(bt||(bt=Object(k.a)(["\n  ","\n  flex-direction: column;\n  align-self: center;\n  width: 100%;\n  &&& {\n    padding: 8px 0;\n  }\n"])),Ke),vt=Object(E.b)(mn.a)(mt||(mt=Object(k.a)(["\n  &&& {\n    font-size: 15px;\n    margin-bottom: 20px;\n    text-transform: uppercase;\n    width: 100%;\n    background-color: ",";\n    .MuiInputLabel-formControl {\n      color: #242424;\n      font-size: 15px;\n    }\n    .MuiInputLabel-shrink {\n      color: #adadad;\n    }\n    .MuiFormLabel-root.Mui-error {\n      color: ",";\n    }\n    input,\n    label {\n      font-family: 'IBMPlexSans-Regular';\n      background-color: ",";\n    }\n    input:-webkit-autofill,\n    input:-webkit-autofill:hover,\n    input:-webkit-autofill:focus,\n    input:-webkit-autofill:active {\n      -webkit-box-shadow: 0 0 0 30px "," inset !important;\n    }\n  }\n  &.create-acct--pw {\n    margin-top: 25px;\n  }\n"])),P.background.primary,P.error.primary,P.background.primary,P.background.primary),ft=Object(E.b)(b.b)(jt||(jt=Object(k.a)(["\n  ","\n  color: ",";\n  align-self: flex-end;\n  font-size: 0.9375rem;\n  line-height: 17px;\n  letter-spacing: 1px;\n  text-decoration: none;\n  padding: 0 2px;\n   &:focus {\n    outline-style: ridge;\n  }\n"])),Fe,P.text.link),yt=Object(E.b)((e=>{const n=e.className,t=e.email,s=e.emailError,i=e.error,c=e.password,o=e.passwordError,l=e.registerForm,d=Object(r.useState)(!1),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(r.useState)(!1),j=Object(w.a)(m,2),h=j[0],x=j[1],O="login"===e.type,g=O&&Object(a.jsx)("div",{style:{textAlign:"right"},children:Object(a.jsx)(ft,{to:"/forgot-password",children:"FORGOT PASSWORD?"})}),v=c.match(ct),f=c.match(it),y=c.match(st),A=c.match(ot),N=t.match(lt),S=v&&f&&y&&A;return Object(a.jsx)(pn.a,{className:n,children:Object(a.jsxs)("form",{onSubmit:n=>{n.preventDefault(),(N&&S||!l)&&(N&&!Object(Qe.isEmpty)(c)||l)?e.onSubmit():b(!0)},children:[Object(a.jsx)("h2",{className:"".concat(n,"__header"),children:e.heading}),Object(a.jsxs)("div",{style:l?{minHeight:"370px"}:{width:"100%"},children:[i&&Object(a.jsx)("p",{"data-testid":"e2e-auth-error",className:"".concat(n,"__error-banner e2e-auth-error"),children:i}),Object(a.jsx)(vt,{id:"email-field",label:"Email",type:"email",name:"email",helperText:!N&&p&&s,error:p&&!N,autoComplete:"email",variant:"filled",value:e.email,onChange:n=>e.updateEmail(n.target.value)}),g,Object(a.jsx)(tt,{label:"Password",name:"password",helperText:p&&Object(Qe.isEmpty)(c)&&o||p&&!S&&l&&o,error:p&&Object(Qe.isEmpty)(c)||p&&!S&&l,value:e.password,onChange:n=>e.updatePassword(n.target.value),onBlur:l?()=>x(!0):null,onKeyPress:n=>{if("Enter"===n.key)return e.onSubmit()}}),l&&Object(a.jsx)(Dn,{hasOneNumber:v,hasOneUppercase:f,hasOneLowercase:y,hasEightCharacters:A,passwordFieldBlurred:h})]}),e.children,Object(a.jsxs)(gt,{children:[Object(a.jsx)(Ot,{"data-testid":"auth-form-submit-button",primary:!0,variant:"contained",size:"large",className:"".concat(n,"__submit-button"),type:"submit",children:O?"SIGN IN":"SIGN UP"}),Object(a.jsxs)(At,{children:[O&&"DON'T HAVE AN ACCOUNT? ",Object(a.jsxs)(ft,{id:O?"sign-up":"login",to:O?"/create-account":"login",className:O?"e2e-signup":"e2e-back-to-signin",children:[O?"SIGN UP":"BACK TO SIGN IN"," "]})]})]})]})})}))(ht||(ht=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n  &&& {\n    padding: 25px;\n  }\n  &__error-banner {\n    background-color: ",";\n    border-radius: 3px;\n    color: #ffffff;\n    font-family: 'IBMPlexSans-Regular';\n    font-size: 14px;\n    line-height: 25px;\n    margin-top: 0px;\n    margin-bottom: 10px;\n    text-align: left;\n    padding: 12px 10px 11px 10px;\n    width: 346px;\n  }\n  h2 {\n    ","\n  }\n  &__header {\n    &&& {\n      margin-bottom: 7px;\n    }\n  }\n  &__submit-button {\n    &&& {\n      margin-bottom: 0px;\n      margin-top: 5px;\n    }\n  }\n  form {\n    ","\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    @media screen and (min-width: 960px) {\n      padding-top: 20px;\n    }\n    p.Mui-error {\n      color: ",";\n      font-family: 'IBMPlexSans-Regular'\n      font-size: 11px;\n      letter-spacing: 0.48px;\n      line-height: 11px;\n      margin-left: 0;\n      padding-left: 12px;\n      white-space: nowrap;\n    }\n  }\n"])),Ke,P.error.primary,Te,Ke,P.error.primary),At=E.b.p(xt||(xt=Object(k.a)(["\n  ","\n  &&& {\n    font-size: 15px;\n    letter-spacing: 1.05px;\n    line-height: 17px;\n    color: ",";\n  }\n"])),Fe,P.text.primary);var wt=yt;var Nt=un((e=>{const n=Object(r.useState)(""),t=Object(w.a)(n,2),s=t[0],i=t[1],c=Object(r.useState)(""),o=Object(w.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(!1),p=Object(w.a)(u,2),b=p[0],m=p[1],h=()=>{const e=!Object(Qe.isEmail)(s)||Object(Qe.isEmpty)(s)?"Please enter a valid email":null,n=Object(Qe.isEmpty)(l)?"Please enter a valid password":null;return[e||n]},g=function(){var n=Object(O.a)(x.a.mark((function n(){var t,a,r,i,c,o;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=h(),a=Object(w.a)(t,2),r=a[0],i=a[1],r||i){n.next=7;break}return n.next=4,e.loginUser({email:s,password:l});case 4:c=n.sent,(o=c.data.logIn.auth).error&&m(o.error);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),v=Object(Qe.isEmpty)(s)?"PLEASE ENTER AN EMAIL ADDRESS TO SIGN IN":"PLEASE ENTER A VALID EMAIL ADDRESS",f={email:s,emailError:v,error:b,updateEmail:i,password:l,passwordError:"PLEASE ENTER A PASSWORD TO SIGN IN",updatePassword:d,onSubmit:g,registerForm:!1,type:"login",heading:"SIGN IN"};return Object(a.jsx)(wt,Object(j.a)(Object(j.a)({},f),{},{children:Object(a.jsx)(on,{})}))}));const St="Seamlessly reserve and pay for stalls all across the country";var It;const Ct=Object(E.b)(De.a)(It||(It=Object(k.a)(["\n  ","\n  flex-direction: column;\n  height: auto;\n  &&& {\n    box-shadow: 0 2px 5px 0 rgba(17, 24, 31, 0.3), 0 2px 10px 0 rgba(17, 24, 31, 0.1);\n    border-radius: 0;\n  }\n\n  @media screen and (min-width: ",") {\n    ","\n    flex-direction: row;\n    width: 100vw;\n    max-width: 793px;\n    height: 665px;\n    left: 50%;\n    top: 50%;\n    position: absolute;\n    -webkit-transform: translate3d(-50%, -50%, 0);\n    -moz-transform: translate3d(-50%, -50%, 0);\n    transform: translate3d(-50%, -50%, 0);\n  }\n"])),Ke,Xe,Ke);var Dt,kt=e=>Object(a.jsxs)(Ct,{className:"".concat(String(e.className),"__login-card"),children:[Object(a.jsx)(We,{headline:"OPEN STALLS",description:St}),Object(a.jsx)(Nt,{})]});const _t=Object(E.b)(Ce.a)(Dt||(Dt=Object(k.a)(["\n  &&& {\n    max-width: 100%;\n    overflow-x: hidden;\n  }\n"])));var Et=Object(H.j)((()=>Object(a.jsx)("section",{children:Object(a.jsxs)(_t,{container:!0,children:[Object(a.jsx)(Ce.a,{className:"card--container",item:!0,xs:12,md:2}),Object(a.jsx)(Ce.a,{className:"card--container",item:!0,xs:12,md:8,children:Object(a.jsx)(kt,{})}),Object(a.jsx)(Ce.a,{className:"card--container",item:!0,xs:12,md:2})]})})));t(980),t(981);var Rt,Tt=()=>Object(a.jsxs)("div",{className:"sign-up-hero",children:[Object(a.jsx)("img",{className:"open-stalls-logo",src:_e,alt:"Open Stalls Logo"}),Object(a.jsx)("img",{className:"rodeo-logo",src:Ee,alt:"Rodeo Logistics Logo"}),Object(a.jsx)("p",{children:St})]}),Pt=t(587),Mt=t(1200),Bt=t(562),Ft=t.n(Bt);var Lt=L()(Rt||(Rt=Object(k.a)(["\n  mutation Register($input: RegisterInput!) {\n    register(input: $input) {\n      userId\n      error\n    }\n  }\n"])));t(982);var qt=e=>{const n=Object(r.useState)(!1),t=Object(w.a)(n,2),s=t[0],i=t[1],c=e.onChange,o=e.label,l=e.name,d=Object(kn.a)(e,["onChange","label","name"]);return Object(a.jsx)("div",{className:"input-password-wrapper",children:Object(a.jsx)(mn.a,Object(j.a)({id:"password",classes:{root:"input-password"},label:o,type:s?"text":"password",name:l||"password",autoComplete:l||"password",variant:"filled",onChange:c,InputProps:{classes:{adornedEnd:"input-password-adornment-end"},endAdornment:Object(a.jsx)($n.a,{position:"end",classes:{root:"input-password-adornment"},children:Object(a.jsx)("span",{className:"show-hide-password",onClick:()=>i(!s),children:s?"HIDE":"SHOW"})})}},d))})},zt=t(18),Yt=t(1199);const Vt="#2875c3",Ut=Object(zt.a)((e=>({tooltip:{backgroundColor:Vt,fontFamily:"IBMPlexSans-Regular, Roboto, Helvetica, Arial, sans-serif",fontWeight:"normal",fontStyle:"normal",fontSize:15,padding:12,maxWidth:"400px !important",overflowWrap:"break-word"},arrow:{color:Vt}})))(Yt.a);var Wt=e=>{const n=e.children,t=Object(kn.a)(e,["children"]);return Object(a.jsx)(Ut,Object(j.a)(Object(j.a)({},t),{},{children:n}))},Qt=t(602);var Gt=({setTermsAndConditionsChecked:e})=>Object(a.jsxs)("p",{className:"terms-text",children:[Object(a.jsx)("span",{children:Object(a.jsx)(Qt.a,{color:"primary",inputProps:{"aria-label":"terms and conditions checkbox"},"data-testid":"terms-and-conditions-checkbox",onChange:n=>{e(n.target.checked)}})}),Object(a.jsxs)("span",{children:[" I have read and accept the",Object(a.jsx)(b.b,{to:"/terms",target:"_blank",children:" Terms of Use"}),",",Object(a.jsx)(b.b,{to:"/privacy",target:"_blank",children:" Privacy Policy "}),"and",Object(a.jsx)(b.b,{to:"/end-user-agreement",target:"_blank",children:" End User Agreement"})]})]}),Ht=t(57);var Kt=new class{constructor(){this.firstName="",this.lastName="",this.phone="",this.email="",this.password="",Object(Ht.f)(this,{firstName:Ht.g,lastName:Ht.g,phone:Ht.g,email:Ht.g,password:Ht.g,setProp:Ht.b,errors:Ht.c,toJSON:Ht.c,reset:Ht.b})}setProp(e,n){this[e]=n}get errors(){const e=!!this.password.match(ct),n=!!this.password.match(it),t=!!this.password.match(st),a=this.password.length>=8;return{firstName:!this.firstName.match(ut),lastName:!this.lastName.match(ut),phone:!Ge.a.isMobilePhone(this.phone,"en-US",{strictMode:!1}),email:!Ge.a.isEmail(this.email),password:!(e&&n&&t&&a),passwordDetails:{hasOneNumber:e,hasOneUppercase:n,hasOneLowercase:t,hasEightCharacters:a}}}get toJSON(){const e=Object(Ht.i)(this);return{firstName:e.firstName.trim(),lastName:e.lastName.trim(),phone:e.phone.replace(dt,""),email:this.email.trim().toLowerCase(),password:e.password}}reset(){this.firstName="",this.lastName="",this.phone="",this.email="",this.password=""}};function Zt(e){return e?{firstName:"Please enter a valid first name",lastName:"Please enter a valid last name",phone:"Please enter a valid phone number",email:"Please enter a valid email",password:"Password does not meet requirements"}[e]:"".concat(function(e){return e.split("").reduce(((e,n,t)=>{if(0===t)return e.push(n.toUpperCase()),e;const a=n.charCodeAt(0);return a>=65&&a<=90&&e.push(" "),e.push(n),e}),[]).join("")}(e)," is required")}t(983);const Xt={name:"This is the name that will show on your reservations.",phone:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{style:{display:"flex"},children:"We use this number to text you stall and"}),Object(a.jsx)("span",{style:{display:"flex"},children:"RV spot assignments during the event."})]}),email:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{style:{display:"flex"},children:"You will use this email and password"}),Object(a.jsx)("span",{style:{display:"flex"},children:"to log in to your account."})]})};var Jt=Object(se.a)(un,Pt.a)((({loginUser:e})=>{const n=Object(r.useState)({firstName:!1,lastName:!1,phone:!1,email:!1,password:!1}),t=Object(w.a)(n,2),s=t[0],i=t[1],c=Object(r.useState)(!1),o=Object(w.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(!1),p=Object(w.a)(u,2),m=p[0],h=p[1],g=Object(r.useState)(null),v=Object(w.a)(g,2),f=v[0],y=v[1],A=Object(r.useState)("name"),N=Object(w.a)(A,2),S=N[0],I=N[1],C=Object(Mt.a)("(max-width:959px)"),D=Kt.toJSON,k=D.email,E=D.password,R=D.firstName,T=D.lastName,P=D.phone,M=Object(_.b)(Lt,{variables:{input:{email:k,password:E,firstName:R,lastName:T,phone:P}},onCompleted:function(){var n=Object(O.a)(x.a.mark((function n({register:t,error:a}){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==t&&void 0!==t&&t.error){n.next=6;break}return n.next=3,e({email:k,password:E});case 3:Kt.reset(),n.next=13;break;case 6:if(!t.error){n.next=11;break}throw y(t.error),new Error(t.error.message);case 11:if(!a){n.next=13;break}throw new Error(a.message);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),B=Object(w.a)(M,1)[0],F=e=>{i(Object(j.a)(Object(j.a)({},s),{},{[e]:!0}))},L=!C||"credentials"===S,q=!l&&m&&(!C||C&&"credentials"===S),z=Object(a.jsx)(mn.a,{id:"first-name",label:"First Name",variant:"filled",className:"first-name",defaultValue:Kt.firstName,"data-testid":"first-name",error:s.firstName&&Kt.errors.firstName,helperText:s.firstName&&Kt.errors.firstName?Zt("firstName"):"",onBlur:()=>F("firstName"),onChange:e=>{Kt.setProp("firstName",e.target.value)}}),Y=Object(a.jsx)(mn.a,{id:"last-name",label:"Last Name",variant:"filled",className:"last-name",defaultValue:Kt.lastName,"data-testid":"last-name",error:s.lastName&&Kt.errors.lastName,helperText:s.lastName&&Kt.errors.lastName?Zt("lastName"):"",onBlur:()=>F("lastName"),onChange:e=>{Kt.setProp("lastName",e.target.value)}});return Object(a.jsx)("div",{className:"sign-up-form",children:Object(a.jsx)("div",{className:"sign-up-form-wrapper",children:Object(a.jsxs)("form",{autoComplete:"off",children:[Object(a.jsxs)("div",{className:"form-inputs",children:[C&&"name"!==S&&Object(a.jsx)("div",{className:"back-button-wrapper",children:Object(a.jsxs)(_n.a,{className:"back",onClick:()=>{var e;"credentials"===(e=S)?I("phone"):"phone"===e&&I("name")},children:[Object(a.jsx)(Ft.a,{})," Back"]})}),Object(a.jsx)("h2",{children:"Create Account"}),q&&Object(a.jsx)("div",{className:"terms-and-conditions-error",children:'You must please read and accept the "Terms of Use", "Privacy Policy" and "End User Agreement" before proceeding'}),f&&Object(a.jsx)("div",{className:"sign-up-error",children:f||""}),C?"name"===S&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{className:"step-description",children:Xt.name}),Object(a.jsx)("div",{className:"sign-up-input-row",children:z}),Object(a.jsx)("div",{className:"sign-up-input-row",children:Y})]}):Object(a.jsxs)("div",{className:"sign-up-input-row",children:[Object(a.jsx)(Wt,{arrow:!0,title:Xt.name,placement:"left",children:z}),Y]}),(C&&"phone"===S||!C)&&Object(a.jsxs)(a.Fragment,{children:[C&&Object(a.jsx)("p",{className:"step-description",children:Xt.phone}),Object(a.jsx)("div",{className:"sign-up-input-row",children:Object(a.jsx)(Wt,{title:Xt.phone,arrow:!0,placement:"left",children:Object(a.jsx)(mn.a,{id:"phone",label:"Phone Number",variant:"filled",value:Kt.phone,"data-testid":"phone",error:s.phone&&Kt.errors.phone,helperText:s.phone&&Kt.errors.phone?Zt("phone"):"",onBlur:()=>F("phone"),onChange:e=>{Kt.setProp("phone",function(e){const n=e.replace(/\D/g,"");return!n||n.length<=3?n:n.length<=6?"(".concat(n.slice(0,3),") ").concat(n.slice(3)):"(".concat(n.slice(0,3),") ").concat(n.slice(3,6),"-").concat(n.slice(6,10))}(e.target.value))}})})})]}),(C&&"credentials"===S||!C)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"sign-up-input-row",children:Object(a.jsx)(Wt,{title:Xt.email,arrow:!0,placement:"left",children:Object(a.jsx)(mn.a,{id:"email",label:"Email",variant:"filled",defaultValue:Kt.email,autoComplete:"off","data-testid":"email",error:s.email&&Kt.errors.email,helperText:s.email&&Kt.errors.email?Zt("email"):"",onBlur:()=>F("email"),onChange:e=>{Kt.setProp("email",e.target.value)}})})}),Object(a.jsx)("div",{className:"sign-up-input-row",children:Object(a.jsx)(qt,{id:"password",label:"Password",variant:"filled",defaultValue:Kt.password,"data-testid":"password",autoComplete:"new-password",error:s.password&&Kt.errors.password,helperText:s.password&&Kt.errors.password?Zt("password"):"",onBlur:()=>F("password"),onChange:e=>{Kt.setProp("password",e.target.value)}})}),Object(a.jsx)(Dn,{hasOneNumber:Kt.errors.passwordDetails.hasOneNumber,hasOneUppercase:Kt.errors.passwordDetails.hasOneUppercase,hasOneLowercase:Kt.errors.passwordDetails.hasOneLowercase,hasEightCharacters:Kt.errors.passwordDetails.hasEightCharacters,passwordFieldBlurred:s.password}),Object(a.jsx)(Gt,{setTermsAndConditionsChecked:d})]})]}),Object(a.jsxs)("div",{className:"form-footer",children:[C&&("name"===S||"phone"===S)&&Object(a.jsx)(_n.a,{variant:"contained",className:"next","data-testid":"sign-up-next",onClick:()=>{var e;"name"!==(e=S)||Kt.errors.firstName||Kt.errors.lastName?"phone"!==e||Kt.errors.phone||I("credentials"):I("phone")},children:"Next"}),L&&Object(a.jsx)(_n.a,{type:"submit",variant:"contained","data-testid":"sign-up-submit",onClick:e=>{e.preventDefault(),h(!0);!Kt.errors.firstName&&!Kt.errors.lastName&&!Kt.errors.phone&&!Kt.errors.email&&!Kt.errors.password&&l&&B().catch((e=>{console.error("Error in Renter SignUp flow:",e)}))},children:"Sign Up"}),Object(a.jsxs)("p",{className:"sign-in-text",children:["Have an account? ",Object(a.jsx)(b.b,{to:"/login",children:"Sign in"})]})]})]})})})}));var $t,ea=()=>Object(a.jsxs)("div",{className:"sign-up-page",children:[Object(a.jsx)(Tt,{}),Object(a.jsx)(Jt,{})]});var na,ta=Object(E.b)((e=>Object(a.jsx)("div",{className:e.className,id:e.id||"error-alert",children:e.label})))($t||($t=Object(k.a)(["\n  &&& {\n    ","\n    align-items: center;\n    width: 100%;\n    height: auto;\n    margin: 20px 0 25px;\n    padding: 12px 0 11px 20px;\n    ","\n    font-size: 14px;\n    text-align: left;\n    background-color: ",";\n    color: ",";\n    border-radius: 3px;\n\n    &.forgot-password {\n      max-width: 415px;\n    }\n  }\n"])),Ke,Fe,P.error.primary,P.white),aa=t.p+"static/media/rodeo-logistics-logo-dark.9901a676.png",ra="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAACACAYAAAAcT/NJAAAhPElEQVR4nO3deZwcRfnH8c9uQjgihEjCLeEIl0IgRJAjAnLIjaAIgoIRFA8QVjEcKrccCjEEBQUFFRH4GRAEwg3KZUhQCOESEbkhHIENIQk59/fHs/PKsJmuru6uPmb2+369+hXY6al6ZrZ359nqqqfaaE2DgPWBod3H+sAqwEcaHAAzGxydwHPAv4Fnuo8ZRb2AJtQV8fW2QqMQEZFeqRU+bPoDWwOfBrYHtgAG5NTXNCyxeQi4B3gAmJ1TX81GCY2IiJSmGT9s2rAEZn9gByyB6VtSLPOASVhyczcwEVhQUixlU0IjIiLi4ZPAecCL2IdnFY83gLHA8JzegyqLek9ERER6vUHAydhclrKTlaTH48BoYPXg70o1KaERERHpYWPgUmAO5ScmWY8FwFXAJkHfoepRQiMiIqWp2vyGHYHjgd3JJ7aZwHtYojS7+982YPkeR3sOfXcBNwBnAf/Kof2yRSUvVbvGRESkBVXlw2ZjbH7MXgHaeh+YCjyK3fZ5EXi5+3jPs43+wFrAht3HRt3/bgysGCDG24DTsdVSrUIJjYiI9FqDgYuA+aS/pTMdGA8ciSUdeYyu1LQBw4DvATdhdWnSxr0IuBybJ9QKdMtJRER6nXbgONInBC8A5wJbkm8CE6cP8CngHGwEKG1C9g2afyRDCY2IiPQqQ4EHSf7BPwMbzdmWan74twO7AFdgt72Svr6JwOZFBx2QEhoREekV2oDvALNI9kH/H+C72GTdZtEfuwWWdLn5fGxSdBUTtjhKaEREpOWtAdxJsg/3R4F9ac4P95o+wKHAUyR77ROAlUqINwslNCIi0tK2Bl7H/8P8GeAgmjuR6akd+CLwBP7vw0vY7bVmoYRGRERKk3fScBhWIG9pj3NnAD8Cfg0sDND3ssA63cfa2CjRIuCDuuMd4LXu41Xsdlie+gIdwKks3unbZQFwIjAmx5hCiUpeWikxFRGRXqYdqyvjOxpxNbBqgH7XxObp3IolLElu81wToP8kcV6XILZfUu5qLh8aoRERkZayDFajxeeD+k2sKnBWG2NJ0ULPfhsdRweII6k98F/ufQ3Qr4QYfSmhERGRlrEscAd+H9ATsZGKLFYAfke2RKZ2bJ4xlrRWAm7xiK8Le299blWVQQmNiIi0hOWAe/C/hZJ1tOGThNuFewbl3tJpw+bK+FRMfphqVhdWQiMiIk3vI8C9xH8YzwIOCdDf3sBcj/58j1sDxBTCSOAV/JKaqo3UKKEREZGmtjRwH/Efws8AmwTob3eST/iNO34YIK5Q1sBvefcdwFIlxdhIMyQ02wAXYpuWdpL+eunsbuPC7jZFijACOB+Ygm2ZkvS6fRf73TIOXbdSvBHYit0pZLt+c/29e5VHIH/D5rtktSH+2wrMxUZezsCWjz/kOHf7ALGFNBC/7SGuojrLoquc0KyB/0T1NMdN3X2I5GEV4FrCX7cTyD6PUSRO01y/Z3h0+gC2FUBW/YBHPPp7ETiCJROoqOJ+c7GVWVWzLHAz8a93bFkB9lDVhGYLrM5QXslM7XgNGJ4ivjximQE8ie19NjJFTHnFleb68GljSN35w4BLsNuyr2O1p6KeNwsbOb4c+KzvG1OwTUm/8a3PMQ2bjxinqOsh6fXRyHCsbMijpBsJqB3Tu9s4j3Q/23j2s3XKtkP1n+doXVWu31iHenQ2iTAjM2C7c8f1dxaNi/gNdTznwUDx5aEv8CfiX3dHSfHVC/kLKZQ1KCaZqR2vkXykpoi4bgXWqmBcPteHTxtDsEn9l2aM5V5ggyRvUs5WI98Pg9oxDfhYTCxFXQ9Jr496qwDjc4xlfHcfSfi026oJTZWuX6eRxE/KfQS7dRLCAOBtR1/zgC85nv81x3N/GijGvPQlfqRmHvCpsgLsFuIXUmh53maKOm5MGGNRcb0BbFnBuELEMQS4LFA875B+VCu06ynu+3BbTCxFxZH0+qjZFNsuJu94Xuruy5dPm62a0FTp+o00kPis63GyLS1eEdgLOAebcDwnpr9jYtq7xPHcfTLEWZTlgH/gfg9eIFwCmUbWX0ihbe2IKe8jyS+oIuN6A/+RmqJiChHHVwLHNB1Y1/N9ystWFH/duhK5omPxvT7ARgJ8VoeGOl7p7tOHT3utmNBU7fqN9OeYRp8m+bAc2F9Zx2ITiBckeBHXebT994jnLgI+miLWMnyU+F27ry8tumy/kPIwzhFT3se4BHEWHdstFYsrRBz/yyGuuzzfp7xcQPHXxkWOeIqOxff6ALihhLhu8IzNp61WTGgu8Ow76PWbdIXMKKwyb5R3sIq7L3u2NwD76+pwbPJmGptiS7lcngA+0eDrbwErp+y3DB/DVmut7jjnWGxZW9GifvmUtQrrceLLBEzDtt9IYkXiRzmewH9Y2veXdkgjiZ87VlRccddHGe9PzQ7YCHEZfK7f17Bb8T4G4f69AfbH6McjHivr+xB3fWyNVZ0vwzbY72MXn/fNp520fPrflvDvYejrdzDxo2JPe7YFwHrATNwZ0n6ebW2NJUazYtqLO2737O/piOdP83x+lXwa9wjWXMLU+0kqy19Yeeh0xFQ7TkjR7iEe7XYmaK/ov2K6sErdVYmrKnE0Oi72iC8v7zriqh0dCdrr8GhvhuP5ZX0P4lxYYmw+fzj6tNOKIzShr9/vebQ3o69nY23AFbir015M/DDczsCPgR09+40zwfO8mRFfXxGbdLsgSDTFuB84FfhJxOP9sO9F1WrrFG1AC/X9Lpao+uhH/G3UHTNFs9gT2Py2sr2F7eeWxLLEf592SBdOECuW0KdrRarvH38rEV/wcz42TymEnTzOeQkbDUhiHeKnTnwmYZu9yYol9Om9ovow3JnRVNy1XHYjflJr0mMR/reprnG004wf/O3EbwJ6WMExpf0Lq+h46o+8RmiSvG6ftnZL0N4uHu25/hJPElej27ih+cQxJEW7ozza9Xmf8uLzujsStNfh2WZWkzz6mBSgn5pOj/5Gp2j3Yo92Oz3a8XnPW3GEJvT16zNC0+WzIePywLmOx+dgS6Y/aPDY+tiS49vI9qbNAyYDvwC+DGyGjRY94vn8KY7HOjLEVZZF2Nyj1x3nnEc5WbJUX6jaUK1O71P1DeilfUsDPgnNj3FPxunAVt/UWx74GTYkvVeKuOZhNUS+hyVCK2B1Vo7Byv1PBWYnaM8112Z/rEhgs3kTONLx+MpE35YSERFpKXEJzfq4RzCuw6pz1tsRm+E8Gruf72sRcA/wDWBVYF9s6ddD+M8fiPIo7pVQl2G3H/pk7KdoN+Mu5PZtbNWZiIhIS4tLaH5KdFLyPvDduv9fBvg5lpQkuaf9H2wkZk1s0vBvsUmQoY1xPLYUdlttErYXTDM5luiJme3YBGIREZGW5kpoPo57GfbZLJ7DsRHwLywx8a078hQ2wXJjbCTGNR8khD8QX3tjBPBPLAmIm6lfFS/gvrX0OYqZvCkiIlIaV0JzPNHJyfPYaAzY1gGTiC7I1NNU4ECsVsrV2K2mInRhc046Y85bCjgNS9BG5BtSMOdjI12NtAE/LDAWERGRwkUlNGthq4minIRN3D0F+Ct+qwGmAQdhczpqO6IW7SlgT+x2WZxNsfk759B4B+8qmYf71tJBWGFEERGRlhSV0ByHFZxr5N/YnkF/BE7H7xbT77ARnNo+UGWaCOyNX6GovsCJ2LLvbXOMKYTxwLMRj/XBXoeIiEhLapTQDAS+7njOWOBa3CM4Nc8Du2J7NeUx0Tete7EE64+e52+EVegdi+18XUULsUncUQ4j2w7oIiIildUooTmI6A/tt7CCbvt4tH0RNk+m7F1ro7yLfcjviW0HH6cdW8I+leqWvL6C6I1B+2EFEEVERFpOo4TGVWRuMLY5oss84AjgaJIVvyvLrdgqoN94nr8ecDeWsC2fV1ApzccqBEdpxgKCIpLdhdiCh7hDpIrG4XH99kxo1iPbXJE3sVoyl2doowzvYSugdsFuk8VpA76DFetLss9OEX5PdF2arYANiwtFRFIKvWHuou424w6REEq5fnsmNF/J0OFj2AfmAxnaKNvd2Oqmi/CbvLwWtk/VZVRn36SZuHc91yiNSPX91+OcVXOPQiQdn+s3bjfzxHomNGk/7O4EtgNezBZOJczCbpd9mujaLj0dji0J3zevoBK6wvHYV/Avfigi5XBt1VJzFLB63oGIpOBz/R5N4Ou3PqEZRrpaJfdhFYVnhQioQh7EdvUeg60girMaVpPnKspfTXQn0cvShwBbFhiLiCQ31eOcj2CbAItUTSnXb31Cs3OK5z+E1XRphsm/aXwA/ACbV/Sk53MOxkZrvphXUB4WYolVlJ2KCkREUrkCvz+kDqH6NbKk9ynl+q1PaHZJ+NxHgD2wORutbjKwBXAWfpOdBmNFBP9Cefe5r3U8VtVl5yJiXsR+f8Rpw1YwxW00LFKkUq7fWiNLAdsneN7TwGeJ3xeplcwDfozdrnnU8zn7Y6M1h+UVlMPDRG/xMJLoXdRFpBrO9zxvBFYqQ6RKkly/h4fosJbQbIXdz/LxPvZBPT1EAE1oCvZ+nYwlOXEGYjt93wKsmV9YS1iAVTduZDnsNYhIdU3GNvD1cRYwIMdYRJKaDFzjee7ZBLh+awlNkvkzXweeydpxk1sA/AQYju007mMPbB7OkRS3yugex2OaRyNSfSfgN0dxMLa3nkiVHI//9Xta1s5qCc1wz/N/Cfxf1k5byFPYcvUfEF3Mrt4KwCXYdhDr5BhXjSuhGVlA/yKSzcvAuZ7nHoXtUSdSFUmu36OBjbN0VktofH4IJmG7cMuHLcSWdm9G9C2ennYCHgeOId/JfFOInue0UY79ikg45+NX46svcEG+oYgkluT6HZelo3ZgaeLrz7wPHIjfnJHQ2oG9Sug3qWeBHYDvEj0Zt15/7Jt3H7BBTjEtwkaRGlmT6u4cLiKLzcFGgX3sis1xFKmKpNfvfmk7asf29ukTc97pwEtpO8loH+BG4Gsl9Z9EF3ZbblP8dxnfDts2YjTx34c0ouY7tZFfIiUiYV0L/N3z3DHAMvmFIpLYtcC9nueOwQZaEmvHdpp2eZqMw0AZHYfFeRnwrRLjSOIFLNM8Epjhcf4yWMXEicAmgWNxTeDWRpUizeNY/IqVrYP/X8QiRfG9ftcl5fXbTvxciqOB+WkaD2AEtqcS2IjCr4Cx2L22ZvAbLGGc4Hn+lsC/gFOw2kAhuBIajdCINI+pwKWe555IsWUiROI8hn0m+jiJFNdvO7YHUZQ/414pk7dG94I7gNspf78kX69i20McCrzjcX4/7Bbfw1h14qyU0Ii0jpOBdz3O6w+cl3MsIkkluX4T7/PUjq3/buQD4PtJGwwsajuGnbDRm2ZyJbaa7DrP8zfDVpadTcr7id3+53hspQztikjxpgOnep77JRaPcItUwdv4X78Hk7C8SDvRIx2/w0YXyrIi8MmIx2YCfysulGDeAA7AVoy96XF+X2zo7VFg65R9zu0+Glk+ZZsiYNdnmqOowpKt6ldEr17sSfs8SdXkdv1GjdAsxH8fhrxsSfSqn9spZwl5KOOx0RrXjtj1NgYexGZ/p1lqHbWBqBIayWIKNr8u6bFdCbG2kgXYBEsfm2OLE0SqYgE2dcTHcOAbvg1HjdBci/tWRRFcc3tuLyyK/EwHvgzsC7zmcX47dgvwMaJHrqJEJTS++3eJSLXcBdzgee6Z2J5yIlVxJ/BXz3N/guf1Wyus19NPPTvK0yqOx8qqiZOHm7CVUJd7nj8Uq0j8pQR9aIRGpPUcR/Tt5HqDgDNyjkUkqSTXr9c+Ze1YMbh6E7E5G2VzJTRvFBZFMTqBI4Dd8EvWlgH+COzo2b4SGpHW8z/g557nfpvwNa5EsngOK8Pi49vE18xrWM/lT0kiytFHHY/5LPtqRndgv3R+ihURdE2e7IttzT6U+K0WouoI9UsaoIhUytnAKNy36MHmI44Dds47oAraG1g14XO2zSMQWcJZwFeJv377YhOEY6/fGdgoTRf2wRe1jLtoF7I4rp5Hb9hRdgfgv0S/B7XjFI+2Jkc8tzNgvFHxlSXufesCTkjR7iGebYeMc7cE7e0SKD6fNtIeSZZi+rQ3JEF7NaM8224Gh+L/3h+QcyyTPGKYFLC/PK/Ton6O0q5g9eHT/zY59u/jMPzf7y+4Guq5HOou4K3u/94sXLypdDoec43etIp7gWHYkNwix3k+e1z1j/j6rKRBiUjlXAk85Hnu+cCyOcYiktQf8U9yz8exT1k7MLvu/+uXER+WPK6g3nY8FnsvrUXMxlY27YUVOmxkbeLfj6jVTD67gotEeQN4JcXhMxFQ/HVhy7h9RgyGAMfnG45IIl3AMfhdv2vjuH7bWTwiAzaHA2xW8R4pgwtlquOxpMuWm91twCWOx9ePeb4SGsnDzsDHUhwPlxFsi5sM/MHz3BOAtXKMRSSpycAVnueegP0eWUI7iyvW/pvFq4d2JX6STt6mOB7bk95XbdT1IRC3hUHUaiYlNCKt4ySiVzTWW5byC6eK9OR7/S5HxPVbP0Lz97qv74ZtPZBlD6GsOrEkq5HV6X17lLh2Re90PLYa0Tt3+2yWKa1nTtkBSC6mYUXIfHwR/7IPIkV4HVv15ONAbOHMh9SP0Nxb9/Wduv8te5TmesdjHUUFUQGDsGXcUVxVnYc6HnsuXThSsPFYZWmf4y8e7flUppbmdAG2OtLHOKK3lxEpw1j8r98L6XH99mXxBpT3d/+7AovvT30CeCFbfJmMx4ahGtkPW4n1WGHRlGcc0ZuIvon79pwrofG9cKRcoQsgTg7cnlTHPGwhwY0e5w4DvglcnGtE5buI5PXVRgP75xCLuM3DKgj7bIuwxPXbF9v18j0WJzYb1j1hc2BCiChTehSbHDyswWNt2ETZ7bDNNFvV3ljtkyi/xz07fD3HY0poeiefURxpXjdhCzw+63HumViBzla+/fwiVgE/iWl5BCJebiTl9dsOPAk8W3dC/VyNsmvRAJzjeOxTRI/g5Glr4DzgHiwpeBabgzSGsEWKVsC2Wo8yE/hZTBuuFVBKaHqfJ3HfypXW0IHtahzno/jPuxEpSgf+1++Z9V9oA35T9/9nsbgq338CBZdFOxZHVOXARdgEoSIMB+5zxFI7HsSSraz+ENPPUR5tPBvx3LksWVgxi6pVWvWpOtkslYJDHfPwr9Lr014R9aB84hiSot1Rnm03s7H4vcYFwKaB+qxipeDRKdq92LPtEPH19krBUS4g4fVb25zyhrpG6kdo1iO6ymxRFmFFo6K0YevXR+Ucx3exapw+q6u2Bf6B/UJZLmV/x+Aubng/8fe+VyV6Ds3TuCsQS2tZCBwJPFB2IFKY03EXKK3pQ7rkXiRPp5Hw+q39hX5X3YNr1v13O8n2XcnLrVh57yhLA78DLiN8We/+wNXYjOokmzm2Y8Nmj5N8eeTJWHYa5QPg68T/hbCd4zF9sPUe07Bq078vOQ4pVifwI89zD6T8Va0i9TqBH3ueeyCwWi2hqS9F3nNFRdkVg2s6sMldLodjoygbB+rzAGzS9JcytLEuNtfmT7hXHAFshc3FOQN34cDT8Lsd6BpNUkLT+qZic8yGAreXHIuU47e4V0HWLAUckW8oIon9hgTXb98GDzRKaDqyxRTEdGAfbH6KaxnrMOAJ4BbgUuBOovdBamQgcDCWHI1IFemS2rC5Fwdh8d8BPI9loIOBDbDX5nMf+w78q3y6Rtfudzwm1XIc/kutu7BVi68A7+YWkTSL2i37e+NOJNzvO5FQEl2/jRKanvv+bICNMriKtxXlcSwpuAH37Z92bLnz3lhV1Lux5ecPYonRO1iS04bdYlu/+9gJ+BzJKiRP727HZwfwPsD23Ucaz2GjRT7L1FfFJjE38gKLl+lL9T2JRtQkvfuwml5fjDkvbk84kTJ4X7+NVrk02shw98whhXMrNh/Adx+iZbHE5lfYEPyrWJIzG5gFvIQlPL/G7sP5JjOvYKNXg7C9lPYk32XQb2PFBH3/6v4C0auYNDoj0rv8w+OcuFviImXxqSM0tNEH3rwGX/tCxmBCuwsbTclSwn1Z0k8gvhcbnr2t7mu3Yre7xhB+9dCT2PyaJxI8x5XNllksUUSqqcy9+0SyWrpRQvNeg699BrvtVCUPYwnEdQX2ORebkLsLi/fAqjcH+AG2bDtJ8uEyHqsT8HyC56xK9ITgOcDNWYMSERGpkkYJzYwGX2vDJslWzXRsJdIh5F/19i5sK4jTia9gOAmrsvxV0s89moglJQfit6V6PdftpgnYrTYRqa6+HkfIwpgiIZVy/fqO0IAVrqvqzqxXYwUBRxE2senClruOBHYF/p3guYuwgn8bAV/Bb7+Ul4BfYCNi25J+Iug3HI/9OWWbIlKc+R7HMaVFJ+JWyvXbaJVTVEKzBrAbthy6ihZiWwVciSUEBwGfx2/1Ub0ubDXV+O62XsgY13ysBs2fsIRwM2B1bLn2QGyU6WUsmQmRjO1I9B5cs9H8GRERaUGNEpr7gJ0jzj+G6iU0K2NVdc8HHsESm7u6j+8AW2CF9jbBkrKVsJVJfbCl27Oxgn3PYYnM/ViSkYeF3TE+klP74K4Z9Ffs9YqIiLSURgnNJVi57EZ1XnbDNtJ6KM+gEmrHCuEdDPwNqyx4G7a8eT42nyXkZmhVti5WoC/KhUUFIiIiUqRGc2jewG63RDk1p1hC+AxwFfAWNtK0f7nhFK6D6IlWD1GtRFRERCSYqA+/XziesztWE6Uq3mLJrQ36YCuEjis+nNKsDXzT8fjYguIQEREpXFRCMwn3X/OnhQ8ltYVY4blGtqH37CB7NtHbQbwE/KXAWERERArlWgfuurW0B9XaDiFqkm1tfk2rG4F7R/BfEF87R0REpGm5Epo7cO/5cxHptw4IzVUt+Ds0nvzcSs7Dih828ipwcYGxiIiIFC6uUt+PHI+tG/N4ke7CJjM3sh5waIGxFO1gbDJ0lJPRUm0REWlxcQnN/dhITZTRWI2Xsi3EqgVHOQNYoaBYirQK7gncU7FigyIiIi3NZy+FDqyeSyP9sLovVdgSYSzRca4J/KzAWIryK6xQYJTRhN/5W0REpHJ8EpqnsSq8UbbDRkDK9hLwe8fjR2LbArSKQ3DX2bkd9+haq2u0yWpv6FtaQ2cJfUZteyOSVGcJfb7nO1n2TGwVzToRj5+EFbK7PURUGfwE+DKwXIPH2rDRpGHAnCKDysE6uG81vQ98u6BYquplYEDMOcdge34lMdCz797gSrL/LG0bIpAW9AqwYsw5o4GvebY3yOOcVz3bkrAuxX5npxHi5+dSYGbg/kNfv4M9zkl0/e6FbdwYdbyJ7ZVUthNxxzmmvNCCWA6Ygvs1fquEuKJiKcs4R0x5H+MSxOnT3m6JX312Rb1XIeIYkuL1jQoUX14ucMSU13FRgLgnefQTcisan9c1OkW7F3u2HSK+sn9+8uj/ggL6XuL69bnlVDMBuNzx+GDgGqKLuxVlDPCU4/EOrOBes7qc6N20Ae4Efl1QLFXmmiTeyn1La7iqhD513UoopVy/SRIasCH6ZxyPjwSuwG9uTl7mY399RRWSa8eSgmWKCiig43HfInkPOKKgWKruIeDmEvq9Ce2ZJdlNBm4osL/bgQcK7E9aW9Ncv8OBubiHfqqwq/MZuGM8t7zQUjkAW57uek2HlRZd+iHRPK0BvIb7PQt5vEby264+7eqWk/sYkuL1jQoUX55Ww+Zj5f09mAZ8LFDMuuWUPL6yf37y6r9prt8Oj05OytJBAEsBjxEd3zxg/dKiS2YvLF7X+112Epn2By5vW1BMUvNad19J+bSthMZ9DEnx+kYFii9vm5Lvh8I04JMB41VCkzy+sn9+8uy/aa7fP3h0Vsbk1HrDsVtQUfFdX15o3nbGVpK43ud7KH97h7QXfBHWwG4F5fVDdRPpJ8T7tK+Exn0MSfH6RgWKrwirANcS/r2fgNXoCkkJTfL4yv75ybN/aJLrtx+2VDuu0xNDdZjSmbjjG15eaLFGYsv5XPE/j7u4XlGyXPBF2QYbyXocq5OQ9geps7uNC8k+wdynPyU07mNIitc3yqPdqhWlHIEtepgCvEPy9/pd4AnCXLdRelNC43N9NMPPT57916v89TsIeM4jkPOJ3jwxb/2A/zhiu6akuOJ8DpiF+319H6urUwUhLngREZHSbITVoIlLai6nvC0SPueIawHhJsSFchTxE4DnALuUFWADSmhERKTpDQPeJj6puRtYuaQYJzviKvu2WE0bcB7x7+NcYM+SYoyihEZERFrCcPzui72KzQ0p2ucdMT1ZQjw9rQTcSPz7Nx/Yr5wQnZTQiIhIy9gSm7jj86F8XMGxtWP7S0TFtFHB8dTbHr+lbQuAA0uKMY4SGhERaSmfAF4k/sO5C7iFdCsU0vqZI5ajC4yjpg9wKpaoxL1Xs7C5QFWlhEZERFrO6sRvoFg73ge+TzEThkc44ri+gP7rbQ5MdMRTf7xO2OJXeVBCIyIiLWl5bH8Fnw/sLuBfWMKRp3ZgekT/b+fcd80AbB29z6hMF7buvshRrLSU0IiISMvqA5yFFSDy+fBeiO3SuWGOMbkqFq6WY7/t2F5L0xz99zzuwBKgZqCERkREWt7u+C3rrh0LsF27h+YQy4mOfnfNob8+wJeBpxz99jzmY3thlblreVJKaEREpFdYE7+tEnomNlcSdpn3Po7+vhewn77A14BnHf01Ov4LbBUwjqIooRERkV6jDVtNNJNkH/JdwNPYUu9BGWNYx9HHBRnbBtgAOId0Ozxfgc09akZKaEREpNdZC7iV5B/4XViV3OuBr5Nuh+OliJ7Tc3XK1zMAOBx4IOVreg7YN2XfVaGERkREeq0D8dvc0nU8BpwL7AQM9Ow3aqXTPZ7Pb8NWZP0IuB+b85Im9tnAKcAynv1WmRIaERHp1foBxwJvkS2xqR0vYlsInAEcAHwKu83Uv67PJyOeG7UFwtpYUbtTgOuANwLEeR3NsRzblxIaERER7LbNGUSPnoQ4ZgMvdP/b6PG3esS0OdAZsP9FwF+xJKvVKKERERGpsxxwFLbaJ6/EJuqY0SOWLQK1uwCrr7Np9renspTQiIiINNCO7ZB9M+nnqCQ9PugRw8cztvc2VhV4vTBvSaUpoREREYmxMjbP5p/km9DM69Hv0JRtXA/sh62o6i2U0IiIiCSwNvAt4AbgPcImNAt69LWu5/PeByZgt8qy1slpVkpoRESkNG1lB5DRUsC22CTbEd1Hlts7i/jwrt/rAP+LOO+fwJ3dx0SWHN3pbaKSl2a/xkREpAm04ofNQGATbCRnSN0xGFu6/ZHuf/vz4eSlpv49GQI8iO14XX88ha2UksWU0IiISGn+H4jLpfg4jf07AAAAAElFTkSuQmCC";const sa=L()(na||(na=Object(k.a)(["\n  mutation ForgotPassword($input: ForgotPasswordInput!) {\n    forgotPassword(input: $input) {\n      success\n      error\n    }\n  }\n"])));var ia,ca,oa,la,da,ua,pa,ba,ma;const ja=Object(E.b)(Ce.a)(ia||(ia=Object(k.a)(["\n  &&& {\n    max-width: 100%;\n    overflow-x: hidden;\n  }\n"]))),ha=E.b.div(ca||(ca=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  .open-stalls-logo {\n    width: 300px;\n    margin-bottom: 10px;\n  }\n\n  .rodeo-logistics-logo {\n    width: 300px;\n    margin-bottom: 30px;\n  }\n  @media screen and (min-width: 960px) {\n    left: 50%;\n    top: 50%;\n    position: absolute;\n    -webkit-transform: translate3d(-50%, -50%, 0);\n    -moz-transform: translate3d(-50%, -50%, 0);\n    transform: translate3d(-50%, -50%, 0);\n  }\n"])),Ke),xa=Object(E.b)(De.a)(oa||(oa=Object(k.a)(["\n  ","\n  flex-direction: column;\n  height: auto;\n  margin-bottom: 24px;\n  &&& {\n    box-shadow: 0 2px 5px 0 rgba(17, 24, 31, 0.3), 0 2px 10px 0 rgba(17, 24, 31, 0.1);\n    border-radius: 0;\n  }\n\n  @media screen and (min-width: 960px) {\n    ","\n    flex-direction: row;\n    width: 100vw;\n    max-width: 385px;\n    height: inherit;\n    padding: 25px;\n  }\n"])),Ke,Ke),Oa=Object(E.b)(pn.a)(la||(la=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  height: inherit;\n  align-items: flex-start;\n  max-width: 375px;\n  h2 {\n    ","\n    margin: 0;\n  }\n  p {\n    ","\n    text-align: left;\n  }\n"])),Ke,Te,Fe),ga=Object(E.b)(mn.a)(da||(da=Object(k.a)(["\n  &&& {\n    width: 100%;\n\n    .MuiFormHelperText-root {\n      font-size: 0.6875rem;\n    }\n  }\n"]))),va=Object(E.b)(bn.a)(ua||(ua=Object(k.a)(["\n  ","\n  flex-direction: column;\n  align-self: center;\n  width: 100%;\n  &&& {\n    padding: 8px 0px;\n  }\n"])),Ke),fa=Object(E.b)(Yn)(pa||(pa=Object(k.a)(["\n  &&& {\n    width: 100%;\n    margin: 20px auto 25px;\n    height: auto;\n  }\n"]))),ya=Object(E.b)(b.b)(ba||(ba=Object(k.a)(["\n  ","\n  color: ",";\n  font-size: 0.9375rem;\n  line-height: 17px;\n  letter-spacing: 1px;\n  text-decoration: none;\n"])),Fe,P.text.link),Aa=E.b.div(ma||(ma=Object(k.a)(["\n  width: 100%;\n  max-width: 385px;\n  margin-bottom: 25px;\n\n  h2 {\n    color: ",";\n    font-family: 'IBMPlexSans-SemiBold';\n    font-size: 30px;\n    letter-spacing: 0.91px;\n    line-height: 50px;\n    margin: 0;\n  }\n\n  .wrapper {\n    margin: 15px 25px 25px;\n  }\n\n  p {\n    color: ",";\n    font-family: 'IBMPlexSans-Regular';\n    font-size: 16px;\n    letter-spacing: 0;\n    line-height: 25px;\n  }\n"])),P.text.primary,P.text.primary);var wa,Na=Object(se.a)(H.j)((e=>{const n=Object(r.useState)(""),t=Object(w.a)(n,2),s=t[0],i=t[1],c=Object(r.useState)(!1),o=Object(w.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(!1),p=Object(w.a)(u,2),b=p[0],m=p[1],j=Object(r.useState)(!1),h=Object(w.a)(j,2),g=h[0],v=h[1],f=Object(_.b)(sa),y=Object(w.a)(f,2),A=y[0],N=y[1],S=N.data,I=N.loading,C=N.error;I&&(b||m(!0)),Object(r.useEffect)((()=>{C&&(m(!1),d(!1))}),[C]),Object(r.useEffect)((()=>{S&&(m(!1),d(!0))}),[S]);const D=s?s.trim():"",k=Object(Qe.isEmail)(D);let E=null;k||(E="PLEASE ENTER A VALID EMAIL ADDRESS"),Object(Qe.isEmpty)(D)&&(E="PLEASE ENTER AN EMAIL ADDRESS");const R=Object(r.useCallback)(Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k?A({variables:{input:{email:s}}}):v(!0);case 1:case"end":return e.stop()}}),e)})))),T=Object(r.useMemo)((()=>Object(a.jsx)(ta,{className:"forgot-password",label:"The link you clicked has expired. You can request a new reset password below."}))),P=Object(r.useMemo)((()=>Object(a.jsx)(Aa,{children:Object(a.jsx)(De.a,{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("h2",{children:"REQUEST SUBMITTED"}),Object(a.jsx)("p",{children:"If there is an account matching this email address, you will receive a password link via email. Please check your email inbox."})]})})}))),M=Object(r.useMemo)((()=>Object(a.jsxs)(Oa,{children:[Object(a.jsx)("h2",{children:"UNEXPECTED ERROR"}),Object(a.jsx)("p",{children:"Something went wrong. Please try again"})]})));return Object(a.jsxs)(ja,{container:!0,children:[Object(a.jsx)(Ce.a,{className:"card--container",item:!0,xs:12,md:2}),Object(a.jsx)(Ce.a,{className:"card--container",item:!0,xs:12,md:8,children:Object(a.jsxs)(ha,{children:[Object(a.jsx)("img",{className:"open-stalls-logo",src:ra,alt:"Open Stalls Logo"}),Object(a.jsx)("img",{className:"rodeo-logistics-logo",src:aa,alt:"Rodeo Logistics Logo"}),!l&&!C&&e.location.search.match(/expired=true/g)&&T,!b&&C&&M,l?P:Object(a.jsx)(xa,{children:Object(a.jsxs)(Oa,{children:[Object(a.jsx)("h2",{children:"FORGOT PASSWORD"}),Object(a.jsx)("p",{children:"Enter the email address associated with your account and we\u2019ll send you a link to reset your password."}),Object(a.jsx)(ga,{"data-testid":"emailInput",label:"Email",type:"email",name:"email",autoComplete:"email",variant:"filled",value:s||"",onChange:e=>i(e.target.value),helperText:g&&!k&&E,error:g&&!k}),Object(a.jsx)(va,{children:Object(a.jsx)(fa,{primary:!0,variant:"contained",size:"large",onClick:R,disabled:b,children:"SUBMIT"})})]})}),Object(a.jsx)(ya,{to:"/login",children:"BACK TO SIGN IN"})]})}),Object(a.jsx)(Ce.a,{className:"card--container",item:!0,xs:12,md:2})]})})),Sa=t(397),Ia=t(9),Ca=t(11);const Da=L()(wa||(wa=Object(k.a)(["\n  mutation ResetPassword($input: ResetPasswordInput!) {\n    resetPassword(input: $input) {\n      success\n      error\n    }\n  }\n"])));var ka,_a=Object(re.a)(Da,{props:({mutate:e})=>({resetPassword:n=>e({variables:{input:n}})}),options:()=>({onCompleted:function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})});const Ea=L()(ka||(ka=Object(k.a)(["\n  query($token: String) {\n    checkResetPasswordTokenExpired(token: $token) {\n      error\n      expired\n    }\n  }\n"])));var Ra,Ta,Pa,Ma,Ba,Fa,La;const qa=Object(E.b)(Ce.a)(Ra||(Ra=Object(k.a)(["\n  &&& {\n    max-width: 100%;\n    overflow-x: hidden;\n    margin: 0;\n  }\n"]))),za=E.b.div(Ta||(Ta=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  .open-stalls-logo {\n    width: 300px;\n    margin-bottom: 10px;\n  }\n  .rodeo-logistics-logo {\n    width: 300px;\n    margin-bottom: 30px;\n  }\n  @media screen and (min-width: 960px) {\n    left: 50%;\n    top: 50%;\n    position: absolute;\n    -webkit-transform: translate3d(-50%, -50%, 0);\n    -moz-transform: translate3d(-50%, -50%, 0);\n    transform: translate3d(-50%, -50%, 0);\n  }\n"])),Ke),Ya=Object(E.b)(De.a)(Pa||(Pa=Object(k.a)(["\n  ","\n  flex-direction: column;\n  height: auto;\n  width: 100%;\n  margin-bottom: 24px;\n\n  & form {\n    width: 100%;\n  }\n\n  &&& {\n    box-shadow: 0 2px 5px 0 rgba(17, 24, 31, 0.3), 0 2px 10px 0 rgba(17, 24, 31, 0.1);\n    border-radius: 0;\n  }\n\n  @media screen and (min-width: 960px) {\n    ","\n    flex-direction: row;\n    width: 100vw;\n    max-width: 385px;\n    height: inherit;\n    padding: 25px;\n  }\n"])),Ke,Ke),Va=Object(E.b)(pn.a)(Ma||(Ma=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  height: inherit;\n  align-items: center;\n  width: 100%;\n\n  &&& {\n    padding: 0;\n  }\n  h2 {\n    ","\n    margin: 0;\n  }\n  h2.success-msg {\n    margin-bottom: 20px;\n  }\n  p {\n    ","\n    text-align: left;\n    margin: 0;\n  }\n  .min-char {\n    ","\n    font-size: 0.6875rem;\n    margin: 4px 0 0;\n  }\n\n  div[class^='MuiFormControl-root'],\n  div[class*='MuiFormControl-root'] {\n    width: 100%;\n  }\n"])),Ke,Te,Fe,Fe),Ua=Object(E.b)(bn.a)(Ba||(Ba=Object(k.a)(["\n  ","\n  flex-direction: column;\n  align-self: center;\n  width: 100%;\n  &&& {\n    padding: 8px 0px 0px;\n  }\n"])),Ke),Wa=Object(E.b)(Yn)(Fa||(Fa=Object(k.a)(["\n  &&& {\n    width: 100%;\n    margin: 20px auto 0px;\n    height: auto;\n  }\n"]))),Qa=Object(E.b)(b.b)(La||(La=Object(k.a)(["\n  ","\n  color: ",";\n  background-color: ","\n  box-shadow: 0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12);\n  align-self: flex-end;\n  font-size: 0.9375rem;\n  line-height: 17px;\n  letter-spacing: 1px;\n  text-decoration: none;\n  border-radius: 3px;\n  width: 100%;\n  margin: 20px 0 0;\n  padding: 12px 0;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n    &&&:hover {\n      box-shadow: 0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12);\n    }\n"])),Fe,P.white,P.button.primary.active);var Ga,Ha=Object(se.a)(H.j,_a)((e=>{const n=Object(r.useState)(!1),t=Object(w.a)(n,2),s=t[0],i=t[1],c=e.location,o=new URLSearchParams(c.search).get("token"),l=Object(_.c)(Ea,{variables:{token:o}}),d=l.data,u=l.loading,p=Object(Ia.e)({initialValues:{password:"",checkedTermsAndConditions:!1},validationSchema:Ca.e().shape({password:Ca.f().required().min(8).matches(ct).matches(it).matches(st)}),onSubmit:function(){var n=Object(O.a)(x.a.mark((function n(t){var a,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.password,n.next=3,e.resetPassword({password:a,resetPasswordToken:e.location.search.slice(7)});case 3:r=n.sent,r.data.resetPassword.success&&i(!0);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),b=p.values.password,m=b.match(ct),h=b.match(it),g=b.match(st),v=b.match(ot);return!u&&d&&d.checkResetPasswordTokenExpired.expired?Object(a.jsx)(H.a,{to:"/forgot-password?expired=true"}):Object(a.jsxs)(qa,{container:!0,spacing:10,children:[Object(a.jsx)(Ce.a,{className:"card--container",item:!0,xs:12,md:2}),Object(a.jsx)(Ce.a,{className:"card--container",item:!0,xs:12,md:8,children:Object(a.jsxs)(za,{children:[Object(a.jsx)("img",{className:"open-stalls-logo",src:ra,alt:"Open Stalls Logo"}),Object(a.jsx)("img",{className:"rodeo-logistics-logo",src:aa,alt:"Rodeo Logistics Logo"}),Object(a.jsx)(Ya,{children:Object(a.jsxs)("form",{onSubmit:p.handleSubmit,children:[!s&&Object(a.jsxs)(Va,{children:[Object(a.jsx)("h2",{children:"RESET PASSWORD"}),Object(a.jsx)("p",{children:"Enter your new password."}),Object(a.jsxs)(Sa.a,{children:[Object(a.jsx)(tt,Object(j.a)({label:"Password"},p.getFieldProps("password"))),Object(a.jsx)(Dn,{hasOneNumber:m,hasOneUppercase:h,hasOneLowercase:g,hasEightCharacters:v,passwordFieldBlurred:p.touched.password})]}),Object(a.jsx)(Ua,{children:Object(a.jsx)(Wa,{primary:!0,type:"submit",variant:"contained",size:"large",children:"SUBMIT"})})]}),s&&Object(a.jsxs)(Va,{children:[Object(a.jsx)("h2",{className:"success-msg",children:"SUCCESS!"}),Object(a.jsx)("p",{children:"Your password has been successfully reset."}),Object(a.jsx)("p",{children:"You can now sign in with your new password."}),Object(a.jsx)(Ua,{children:Object(a.jsx)(Qa,{to:"/login",children:"GO TO SIGN IN"})})]})]})})]})}),Object(a.jsx)(Ce.a,{className:"card--container",item:!0,xs:12,md:2})]})})),Ka=t(593),Za=t(565),Xa=t(567),Ja=t.n(Xa),$a=t(568),er=t.n($a),nr=t(232);var tr,ar=Object(E.b)((e=>Object(a.jsx)(nr.a,{className:e.className,variant:"h1",children:e.label})))(Ga||(Ga=Object(k.a)(["\n  &&& {\n    ","\n  }\n"])),Re),rr=t(1201),sr=t(566),ir=t(1248),cr=t(1249);const or=Object(rr.a)(Object(sr.a)(ir.b,cr.b,cr.a)),lr=Object(E.b)(nr.a)(or);var dr,ur=Object(E.b)((e=>Object(a.jsx)(lr,{className:e.className,variant:"h2",sx:!!e.styles&&e.styles,title:!!e.title&&e.title,children:e.label})))(tr||(tr=Object(k.a)(["\n  &&& {\n    ","\n  }\n"])),Te);var pr,br=Object(E.b)((e=>Object(a.jsx)(nr.a,{className:e.className,variant:"h3",children:e.label})))(dr||(dr=Object(k.a)(["\n  &&& {\n    ","\n  }\n"])),Pe);var mr,jr=Object(E.b)((e=>Object(a.jsx)(nr.a,{className:e.className,variant:"h4",children:e.label})))(pr||(pr=Object(k.a)(["\n  &&& {\n    ","\n  }\n"])),Me);var hr,xr=Object(E.b)((e=>Object(a.jsx)(nr.a,{className:e.className,variant:"h5",children:e.label})))(mr||(mr=Object(k.a)(["\n  &&& {\n    ","\n  }\n"])),Be);var Or=Object(E.b)((e=>{const n=e.className,t=e.documentTitle,s=e.documentUrl,i=(e.titleSize,Object(kn.a)(e,["className","documentTitle","documentUrl","titleSize"])),c=Object(r.useState)(null),o=Object(w.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(1),p=Object(w.a)(u,2),b=p[0],m=p[1],h=e=>{m((n=>n+e))},x=()=>{h(-1)},O=()=>{h(1)},g=()=>Object(a.jsxs)("div",{className:"pagination",children:[Object(a.jsx)("button",{type:"button",disabled:b<=1,onClick:x,className:1===b?"disabled":null,children:Object(a.jsx)(Ja.a,{})}),Object(a.jsxs)("span",{className:"page-numbers",children:["Page ",b||(l?1:"--")," of ",l||"--"]}),Object(a.jsx)("button",{type:"button",disabled:b>=l,onClick:O,className:b===l?"disabled":null,children:Object(a.jsx)(er.a,{})})]});return Object(a.jsxs)("div",{className:"".concat(n,"__pdf-viewer"),children:[Object(a.jsx)(ar,{label:t}),g(),Object(a.jsx)(Ka.a,Object(j.a)(Object(j.a)({file:s,onLoadSuccess:({numPages:e})=>{d(e),m(1)}},i),{},{children:Object(a.jsx)(Za.a,{pageNumber:b,width:1280})})),g()]})}))(hr||(hr=Object(k.a)(["\n  &__pdf-viewer {\n    width: 1280px;\n    margin: 0 auto;\n\n    .pagination {\n      margin: 20px 0 40px 0;\n\n      .page-numbers {\n        font-size: 16px\n        text-transform: uppercase;\n        font-family: 'IBMPlexSans-Bold';\n      }\n\n      button {\n        border: 0;\n        background: transparent;\n        padding: 0 12px;\n        cursor: pointer;\n        color: #2573c2;\n\n        &.disabled {\n          color: #a6a6a6;\n        }\n\n        svg {\n          top: 6px;\n          position: relative;\n        }\n      }\n    }\n  }\n"])));var gr=()=>Object(a.jsx)(Or,{documentTitle:"Rodeo Logistics \u2013 Website Terms of Use",documentUrl:"https://open-stalls.s3.us-east-2.amazonaws.com/docs/agreements/rodeo-logistics-website-terms-of-use.pdf",titleSize:41});var vr=()=>Object(a.jsx)(Or,{documentTitle:"Rodeo Logistics \u2013 Privacy Policy",documentUrl:"https://open-stalls.s3.us-east-2.amazonaws.com/docs/agreements/rodeo-logistics-privacy-policy.pdf",titleSize:41});var fr=()=>Object(a.jsx)(Or,{documentTitle:"Rodeo Logistics \u2013 Website End User Agreement",documentUrl:"https://open-stalls.s3.us-east-2.amazonaws.com/docs/agreements/rodeo-logistics-end-user-agreement.pdf",titleSize:41});const yr="admin_home:access",Ar="admin_full:access",wr="is_admin",Nr="is_super_admin",Sr="ops_home:access",Ir="renter_home:access";var Cr={1:{static:[Sr,"admin_export:accounting_report","admin_export:other_users",Ar,yr,wr]},2:{static:[Sr]},3:{static:[Ir]},4:{static:[yr,wr,Sr]},5:{static:[Nr]}},Dr=t(1207),kr=t(48),_r=t.n(kr),Er=t(1202),Rr=t(1203),Tr=t(1250),Pr=t(1204),Mr=t(1205),Br=t(1206),Fr=t(68),Lr=t.p+"static/media/account-drop-down-rectangle.0b235e4f.svg";var qr,zr,Yr=Object(se.a)(Object(zt.a)((e=>({appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"black",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:64},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),height:64},appBarWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",height:"100%"},appBarSectionBranding:{display:"inline-flex",height:"100%",alignItems:"center"},appBarSectionAccount:{display:"inline-flex",height:"100%",alignItems:"center",paddingRight:42,position:"relative",userSelect:"none"},signOutButtonMobile:{fontSize:16,marginTop:10},accountDropdownRectangle:{position:"absolute",right:66,top:41,zIndex:1e3},accountDropdownMenu:{position:"absolute",right:22,top:50,minWidth:"210px",padding:"20px 0",display:"flex",flexDirection:"column",alignItems:"flex-start",background:"#FFFFFF",boxShadow:"0px 2px 5px rgba(17, 24, 31, 0.3), 0px 0px 5px rgba(17, 24, 31, 0.1)",borderRadius:"3px"},dropDownLabel:{color:"#11181F",fontFamily:"IBMPlexSans-Regular",fontSize:"16px",fontWeight:500,letterSpacing:"0.7px",cursor:"pointer"},dropDownUserName:{color:"#11181F",fontFamily:"IBMPlexSans-Regular",fontSize:"16px",lineHeight:"25px",fontWeight:700,letterSpacing:"0.7px",textTransform:"capitalize",padding:"0 20px"},dropDownEmail:{color:"#8395A7",fontFamily:"IBMPlexSans-Regular",fontSize:"12px",lineHeight:"11px",fontWeight:400,textAlign:"left",letterSpacing:"0.53px",textOverflow:"ellipsis",width:"100%",overflow:"hidden",marginBottom:"8px",padding:"0 20px"},dropDownDivider:{border:0,borderTop:"1px solid #C8D6E5",height:1,width:"100%",margin:0},dropDownLink:{color:"#11181F",fontFamily:"IBMPlexSans-Regular",fontSize:"16px",lineHeight:"44px",fontWeight:500,letterSpacing:"0.7px",cursor:"pointer",width:"100%",textAlign:"left",padding:"0 20px","&.active-link":{fontWeight:900},"&:hover":{backgroundColor:"#F5F5F5"}},dropDownAdminSignOutLink:{paddingLeft:"20px",color:"#2875C3",fontFamily:"IBMPlexSans-Regular",fontSize:"16px",lineHeight:"25px",fontWeight:700,letterSpacing:"0.7px",cursor:"pointer"},appTitle:{fontFamily:"IBMPlexSans-SemiBold",fontSize:"1.125rem",letterSpacing:"0.8px"},appLogo:{display:"inline-flex",marginLeft:"25px",verticalAlign:"middle",width:"212px",height:"30px"},openstallsLogo:{display:"inline-flex",verticalAlign:"middle",width:"150px",height:"33px"},menuButton:{marginLeft:12,marginRight:12},userName:{paddingLeft:12,fontSize:"16px",lineHeight:"25px",fontWeight:400,textTransform:"none"},dropDownArrow:{transform:"translate(5px, 0)"},hide:{display:"none"},menuChip:{color:"white",borderColor:"white","& > *":{color:"white"},"& > .MuiChip-icon":{marginLeft:8},"& > .MuiChip-deleteIcon:hover":{color:"white"}}})),{withTheme:!0}),je,A)((({classes:e,showHamburger:n,drawerOpen:t,handleDrawerOpen:r,toggleAccountDropdown:s,showAccountDropdown:i,user:c,logoutUser:o})=>{const l=Object(Fr.a)(),d=Object(Mt.a)(l.breakpoints.up("md")),u=Object(Mt.a)(l.breakpoints.down("sm")),p="".concat(c.firstName||""," ").concat(c.lastName||"").trim(),m={display:i?"flex":"none"},j=t?{marginLeft:100}:{},h=u?25:n?0:40,x=u?{paddingRight:25}:{},O=n?{}:{display:"none"},g=c.role.name===le.RENTER;return Object(a.jsx)(Er.a,{position:"fixed",className:_r()(e.appBar,{[e.appBarShift]:t}),children:Object(a.jsx)(Rr.a,{disableGutters:!0,children:Object(a.jsxs)("div",{className:e.appBarWrapper,style:j,children:[Object(a.jsxs)("div",{className:e.appBarSectionBranding,style:{paddingLeft:h},children:[Object(a.jsx)(et.a,{color:"inherit","aria-label":"Open drawer",onClick:r,style:O,className:_r()(e.menuButton,{[e.hide]:t}),children:Object(a.jsx)(Pr.a,{})}),Object(a.jsx)("img",{src:_e,alt:"Open Stalls",className:e.openstallsLogo}),d&&Object(a.jsx)("img",{src:Ee,alt:"Rodeo Logistics Logo",className:e.appLogo})]}),Object(a.jsxs)("div",{className:e.appBarSectionAccount,"data-testid":"user-account",style:x,children:[d&&Object(a.jsxs)(a.Fragment,{children:[g&&Object(a.jsx)(Tr.a,{clickable:!0,icon:Object(a.jsx)(Pr.a,{}),className:e.menuChip,onClick:s,onDelete:s,deleteIcon:Object(a.jsx)(Mr.a,{}),variant:"outlined"}),!g&&Object(a.jsxs)(_n.a,{color:"inherit",onClick:s,"data-testid":"account-dropdown-button",children:[Object(a.jsx)(Mr.a,{}),Object(a.jsx)("span",{className:e.userName,children:p}),Object(a.jsx)(Br.a,{className:e.dropDownArrow})]})]}),u&&Object(a.jsx)(_n.a,{color:"inherit",onClick:o,"data-testid":"sign-out-button-mobile",className:e.signOutButtonMobile,children:"Sign Out"}),Object(a.jsx)("img",{src:Lr,alt:"account-dropdown-down-arrow",className:e.accountDropdownRectangle,style:m}),Object(a.jsxs)("div",{className:e.accountDropdownMenu,style:m,children:[Object(a.jsx)("span",{className:e.dropDownUserName,"data-testid":"account-dropdown-username",children:p}),Object(a.jsx)("span",{className:e.dropDownEmail,"data-testid":"account-dropdown-email",children:c.email}),g&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.c,{"data-testid":ne.RENTER.EVENTS,to:ne.RENTER.EVENTS,className:e.dropDownLink,activeClassName:"active-link",children:"Events"}),Object(a.jsx)(b.c,{"data-testid":ne.RENTER.RESERVATIONS,to:ne.RENTER.RESERVATIONS,className:e.dropDownLink,activeClassName:"active-link",children:"Reservations"}),Object(a.jsx)("hr",{className:e.dropDownDivider}),Object(a.jsx)(b.c,{"data-testid":ne.RENTER.HELP,to:ne.RENTER.HELP,className:e.dropDownLink,activeClassName:"active-link",children:"Help"})]}),Object(a.jsx)("span",{className:g?e.dropDownLink:e.dropDownAdminSignOutLink,"data-testid":"sign-out-button",onClick:o,children:"Sign Out"})]})]})]})})})}));const Vr=E.b.section(qr||(qr=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: 100vh;\n"]))),Ur=Object(E.b)((e=>{const n=Object(Fr.a)(),t=Object(Mt.a)(n.breakpoints.up("md")),s=Object(r.useState)(!1),i=Object(w.a)(s,1)[0],c=Object(r.useState)(!1),o=Object(w.a)(c,2),l=o[0],d=o[1],u=e.className;return Object(a.jsxs)("div",{className:"".concat(u,"__root"),children:[Object(a.jsx)(Dr.a,{}),t&&Object(a.jsx)(Yr,{showHamburger:i,drawerOpen:!1,handleDrawerOpen:()=>{},toggleAccountDropdown:()=>{d(!l)},showAccountDropdown:l}),Object(a.jsx)(Vr,{onClick:()=>{d(!1)},children:Object(a.jsx)("div",{className:"".concat(u,"__pageContainerWrapper"),children:e.children})})]})}))(zr||(zr=Object(k.a)(["\n  &__root {\n    display: flex;\n    flex-direction: column;\n  }\n\n  &__pageContainerWrapper {\n    height: calc(100% - 100px);\n  }\n\n  @media screen and (min-width: ",") {\n    &__toolbar {\n      width: 100vw;\n    }\n\n    &__appLogoMobile {\n      display: none;\n    }\n\n    &__appLogoDesktop {\n      display: block;\n      margin-left: 25px;\n      width: 212px;\n      height: 30px;\n    }\n  }\n\n  @media screen and (min-width: ",") {\n    &__toolbar {\n      width: 1215px;\n    }\n  }\n"])),Ze,Xe);var Wr,Qr=Object(se.a)(H.j)(Ur),Gr=t(8),Hr=t.n(Gr);const Kr=L()(Wr||(Wr=Object(k.a)(["\n  query CurrentRentableEvents($orderBy: [String], $filterBy: EventFilterInput, $limit: Int, $offset: Int) {\n    events(orderBy: $orderBy, filterBy: $filterBy, limit: $limit, offset: $offset) {\n      id\n      name\n      checkInTime\n      checkOutTime\n      startDate\n      endDate\n      openDate\n      closeDate\n      rvSoldOut\n      stallSoldOut\n      venue {\n        id\n        city\n        state\n        phone\n        timeZone\n      }\n      stallProducts {\n        nightly\n        startDate\n        endDate\n        name\n        description\n        price\n      }\n      rvProducts {\n        startDate\n        nightly\n        endDate\n        price\n      }\n    }\n  }\n"])));var Zr;const Xr=L()(Zr||(Zr=Object(k.a)(["\n  query RentableEventsByNameOrCity($input: EventSearchInput) {\n    searchEvents(input: $input) {\n      id\n      name\n      startDate\n      endDate\n      closeDate\n      openDate\n      venue {\n        id\n        city\n        state\n        phone\n        timeZone\n      }\n      rvProducts {\n        id\n        price\n        nightly\n        description\n        name\n        endDate\n        startDate\n      }\n      stallProducts {\n        id\n        price\n        nightly\n        description\n        name\n        endDate\n        startDate\n      }\n      rvSoldOut\n      stallSoldOut\n    }\n  }\n"])));var Jr,$r=t(319),es=t(317),ns=t(318),ts=t(569),as=t.n(ts);var rs,ss=Object(E.b)((e=>{const n=e.onClick,t=e.start,r=e.style,s=1===t?"hide":null;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("button",{className:"".concat(e.className,"__scrollto ").concat(s),onClick:n,type:"button",style:r,children:[Object(a.jsx)(as.a,{}),"Top"]})})}))(Jr||(Jr=Object(k.a)(["\n  &__scrollto {\n    width: 40px;\n    height: 40px;\n    border-radius: 3px;\n    z-index: 100000;\n    background: #2875c3;\n    border: 0;\n    color: white;\n    text-transform: uppercase;\n    font-size: 11px;\n    text-align: center;\n    cursor: pointer;\n    box-shadow: 0 2px 6px rgba(17, 24, 31, 0.03), 0 2px 3px rgba(17, 24, 31, 0.1);\n\n    &.hide {\n      display: none;\n    }\n\n    svg {\n      with: 24px;\n      height: 24px;\n      margin-bottom: -7px;\n      position: relative;\n      top: -2px;\n    }\n  }\n"]))),is=t(88),cs=t.n(is);var os,ls=Object(E.b)((e=>Object(a.jsx)(De.a,{style:e.style,className:"".concat(e.className),"data-testid":"".concat(e.dataTestId||""),children:e.children})))(rs||(rs=Object(k.a)(["\n  &&& {\n    width: 100%;\n    margin: 0 0 20px;\n    padding: 20px;\n    box-shadow: 0 2px 10px rgba(17, 24, 31, 0.1), 0 2px 5px rgba(17, 24, 31, 0.3);\n    border-radius: 0;\n    text-align: left;\n    overflow: visible;\n  }\n"])));var ds=Object(E.b)((e=>Object(a.jsx)(Yn,{"data-testid":e.dataTestId,primary:!0,className:e.className,onClick:e.onClick,children:e.label})))(os||(os=Object(k.a)(["\n  &&& {\n    height: 46px;\n    width: 200px;\n    border-radius: 3px\n    box-shadow: 0 2px 10px 0 rgba(0,0,0,0.16), 0 2px 5px 0 rgba(0,0,0,0.26);\n    align-self: flex-end;\n    padding-top: 6px;\n\n    @media screen and (max-width: ",") {\n        width: 100%;\n      }\n  }\n  .plus-icon {\n    padding-right: 10px;\n  }\n"])),Ze);const us=e=>{if(!e)return;const n=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return"("+n[1]+") "+n[2]+"-"+n[3]};var ps="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAABpCAIAAABXi488AAAACXBIWXMAAAsTAAALEwEAmpwYAAAE82lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTA5VDEyOjE4OjQwLTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA3LTA5VDEyOjE4OjQwLTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0wOVQxMjoxODo0MC0wMzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjdmZjg4NzMtMTczOS1kOTRlLWI1ZGMtNzhmYjg1YzgwZjVjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmY3ZmY4ODczLTE3MzktZDk0ZS1iNWRjLTc4ZmI4NWM4MGY1YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmY3ZmY4ODczLTE3MzktZDk0ZS1iNWRjLTc4ZmI4NWM4MGY1YyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZjdmZjg4NzMtMTczOS1kOTRlLWI1ZGMtNzhmYjg1YzgwZjVjIiBzdEV2dDp3aGVuPSIyMDIwLTA3LTA5VDEyOjE4OjQwLTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+dpbgaAAAAmZJREFUWMPtWIlu4jAQzf9/1B4tvbu0BQrZ0HLkTsgBCUkIObqvmDpOShdQ1ZVW8qiyYnue38yzPa4QXt5ZWZZos7y4G5po6UjDhPdDRfHqvc7y2986WjqyH0k5f0nGcZwcyZEcyZEcyZFf8iId/QoSP7R5UdDvg5AH2t84if0TTo786l1hkQdxNnhY/oOiheF+WF5YbI7u/mgpBm0Qrc56Clo60sB/GK2kuOc95Un1aMo7OEvGyPLxat3qKmPD747sIEpZWrqKUBPgbWFgvrUnprfUnFCUHRoP6yzQMHCPkzSbLxNtFl70tZMHWZ0FeV60JcN0wyBOUxSIN2egXjl1N+yNbQT28GR1ni2QiFPn5/1UtuYkYaxy8ajiD/XlcWzDf8sZRun1QEOls/yIlCwYnGRrESfZWVdBzpd9DSuC/2qghZvMBVLXEOetqLe6clsyoacbxLN5pNgLECIW3QmxouUt20MzXmWkGgpEN3SiZL0BKycd+bKvjo25YgfAECFsP7oZ6MskJbBtnhU4Tq9FfaT7EAOu4Bxq3o2oS6qL2hvGFazSdtsvy87Iwmaih8SAXGcFPn7cT6Ec2RHCUXESW60z5Ik50H6/g7YLzCLhVkdGLES83SfBD5OB7DiLiOh51ddGhg/+se6fdhUSbQ1J+zg0UBKJAfmseV6QbHbCnJoLDNr+kj3ANYUm5hwp9SczXBF6shEIdv+0I2O2phDtwFQ7gKQ7awIOCWbprag42WLTuFNsl/UU2CH2KjYq2OajRiDsLXYfzfJ35b96kT7FefT/Q/yXCI7kSI7kSI7kv0TseQX/AKzJ+hEK7yZnAAAAAElFTkSuQmCC";const bs=(e,n)=>e.localeCompare(n,void 0,{numeric:!0,sensitivity:"base"});var ms=1,js=2,hs=3;const xs=e=>{var n;const t=[];if(e.stallProductId){const n=e.stalls,a=n.quantity,r=n.start,s=n.end;a>0&&t.push({xProductId:e.stallProductId,xRefTypeId:ms,quantity:Number(a),startDate:Hr()(r).format("YYYY-MM-DD"),endDate:Hr()(s).format("YYYY-MM-DD")})}if(e.rvProductId){const n=e.rv_spot,a=n.quantity,r=n.start,s=n.end;a>0&&t.push({xProductId:e.rvProductId,xRefTypeId:hs,quantity:Number(a),startDate:Hr()(r).format("YYYY-MM-DD"),endDate:Hr()(s).format("YYYY-MM-DD")})}return null===(n=Object.keys(e.addOns))||void 0===n||n.forEach((n=>{const a=+e.addOns[n];a>0&&t.push({xProductId:n,xRefTypeId:js,quantity:a})})),t},Os=e=>e.charAt(0).toUpperCase()+e.slice(1),gs=(e,n)=>n&&e%1===0?e.toFixed(0):parseFloat(e).toFixed(2);var vs=t(127);const fs=e=>0===Object.entries(e).length&&e.constructor===Object;var ys=t(570);const As="YYYY-MM-DD",ws=Object(ys.extendMoment)(Hr.a),Ns=e=>e.map((e=>e.format(As))),Ss=(e,n)=>Array.from(ws.range(e,n).by("day")),Is=({eventStartDate:e,eventEndDate:n,selectedStartDate:t,pristine:a,isEdit:r})=>{const s=ws(e,As),i=ws(n,As),c=t?ws(t,As):null,o=a?i.clone():i.clone().add(-1,"days"),l=a?i.clone():i.clone().add(1,"days"),d=Ss(s,o),u=c?Ss(r?c:c.add(1,"days"),l):[];return[Ns(d),Ns(u)]};var Cs=t(30);const Ds=e=>e.order.orderItems.reduce(((e,n)=>n.addOnProduct?Object(j.a)(Object(j.a)({},e),{},{addOnProducts:[...e.addOnProducts,n]}):n.reservation&&n.reservation.stallProduct?Object(j.a)(Object(j.a)({},e),{},{stallProduct:n}):n.reservation&&n.reservation.rvProduct?Object(j.a)(Object(j.a)({},e),{},{rvProduct:n}):e),{addOnProducts:[],stallProduct:{},rvProduct:{}}),ks=e=>{const n=e.order,t=n.event,a=n.fee,r=n.total,s=n.platformFee,i=Ds(e),c=i.addOnProducts.reduce(((e,n)=>{const t={};return t[n&&n.addOnProduct&&n.addOnProduct.id||""]=n.quantity||0,Object(j.a)(Object(j.a)({},e),t)}),{}),o=i.stallProduct,l=void 0===o?{}:o,d=i.rvProduct,u=void 0===d?{}:d,p=Object(Cs.a)(l,"reservation",{}),b=Object(Cs.a)(u,"reservation",{}),m=Object(Cs.a)(b,"rvProduct.id",""),h=Object(Cs.a)(p,"stallProduct.id",""),x={end:Hr()(Object(Cs.a)(b,"endDate",""),As),quantity:Object(Cs.a)(u,"quantity",0),start:Hr()(Object(Cs.a)(b,"startDate",""),As)};return{event:t,addOns:c,stalls:{end:Hr()(Object(Cs.a)(p,"endDate",""),As),quantity:Object(Cs.a)(i,"stallProduct.quantity",0),start:Hr()(Object(Cs.a)(p,"startDate",""),As)},rv_spot:x,rvProductId:m,stallProductId:h,hideHeader:!0,showFooter:!0,fee:a,total:r,platformFee:s}},_s=e=>{const n=ks(e),t=n.event,a=n.addOns,r=n.stalls,s=n.rv_spot,i=n.rvProductId,c=n.stallProductId,o=n.fee,l=n.total,d=n.platformFee;return{addOnProducts:t.addOnProducts,addOns:a,rvProductId:i,rv_spot:s,stalls:r,stallProductId:c,payments:e.order&&e.order.payments?e.order.payments:[],orderFee:o,orderTotal:l,platformFee:d}},Es=e=>Hr()(e,"hh:mm:ss").format("h:mma"),Rs=({addOns:e,stallProductId:n,stallsQuantity:t,stallsStart:a,stallsEnd:r,rvProductId:s,rvsQuantity:i,rvsStart:c,rvsEnd:o})=>{const l=[];return n&&t&&a&&r&&l.push({xProductId:n,xRefTypeId:ms,quantity:parseInt(t),startDate:Hr()(a).format("YYYY-MM-DD"),endDate:Hr()(r).format("YYYY-MM-DD")}),fs(e)||Object.keys(e).map((n=>{const t=parseInt(e[n]);t>0&&l.push({xProductId:n,xRefTypeId:js,quantity:t})})),s&&i&&c&&o&&l.push({xProductId:s,xRefTypeId:hs,quantity:parseInt(i),startDate:Hr()(c).format("YYYY-MM-DD"),endDate:Hr()(o).format("YYYY-MM-DD")}),l},Ts=(e,n)=>{switch(parseInt(e.xRefTypeId)){case ms:return Object(j.a)({unit:"Stall",by:"x",duration:Number(Hr()(e.endDate).diff(Hr()(e.startDate),"days")),quantityUnit:"night"},e);case hs:return Object(j.a)({unit:"RV spot",by:"x",duration:Number(Hr()(e.endDate).diff(Hr()(e.startDate),"days")),quantityUnit:"night"},e);case js:{const t=n.find((n=>n.id===e.xProductId)),a=t||{addOn:{}};return Object(j.a)({unit:a.addOn.unitName||"",by:"of",duration:null,quantityUnit:a.addOn.name||""},e)}default:return Object(j.a)(Object(j.a)({},e),{},{by:"",duration:null,quantityUnit:"",unit:""})}},Ps=e=>{const n=Hr()(e.startDate),t=Hr()(e.endDate);return Hr()(n).isSame(t,"month")?"".concat(Hr()(e.startDate).format("MMM DD")," - ").concat(Hr()(e.endDate).format("DD, YYYY")):"".concat(Hr()(e.startDate).format("MMM DD")," - ").concat(Hr()(e.endDate).format("MMM DD, YYYY"))};var Ms,Bs;const Fs=Object(E.b)(ls)(Ms||(Ms=Object(k.a)(["\n  &&&& {\n    height: 150px;\n    box-sizing: border-box;\n    padding: 15px 25px;\n    display: flex;\n\n    &&&& h2 {\n      font-size: 1.45rem;\n    }\n\n    &.empty {\n      height: 318px;\n    }\n    @media screen and (min-width: ",") {\n    }\n\n    @media screen and (max-width: ",") {\n      flex-direction: column;\n      height: auto;\n      padding: 25px;\n    }\n  }\n"])),Xe,Ze);var Ls,qs,zs=Object(E.b)((({className:e,event:n,style:t,getReference:r})=>{const s=cs.a.utc(n.openDate).format("MM/DD/YYYY HH:mm:ss"),i=cs()(s),c=cs()().tz(n.venue.timeZone).format("MM/DD/YYYY HH:mm:ss"),o=()=>{if(0==n.stallProducts.length||n.stallSoldOut&&cs()(c).isAfter(i))return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAAF6klEQVRYCcVYXWxURRSeM3d3SxuDEiDExhjwh6IRlB8JvBh9MGgNglC3hURBRUqpwYAGQ2lfLG35UX5MKNsQ/p7obqpgQBM1SgxBg0DEiDGCQXxQxNKEh2Lt7t45fnPbezv37r3t8oKT7N5zvvOdmTMzZ37uJRFSWvZ+PEHl+rYT8zwWYqyPQvSPEHyGZPztxlVVZ322QWVTqmsWq9x7xDSbBZeaHBKih4k+k/HSdRtfX3DNtGkZdn/JZDKJi9fVOWZ+xG/xaySoL2HFHl2/quqSadma6nqwX+XPC+YyEw/KRHRh8jg5M5lMZk2bNBUtX+wRz40UjObpnmft/Botm8XBRghG83Ubui3TV8sFAZFSDwdJkTpxITcMi6ggrK2CgISkWIR/AYz8soJgGBbkeHpIW4UBeez/RygICHN7z+0KJawtX0Bb2jMVzGL57QtILG/t6JpitucLKMtqO/K/6BzCUus2K3PkMKyA5AIcs/P5911NP72AWvak5yGYStM4kkySzgU5YViQ49e5sjmVecbFnIAwl1iBvM0Fi3liY+xPjJIHg1yNaVsQH04nZW9x7U5Abe3pFzA6U12wyOeO9a8k/wpyNcbEmPriC/J2Wksq87T2cAJSJN4q3t05b67FR5W2RvkkSsrawCoINoqvcbbtdfpJmzsy9+ZtdUVPmwaKLCua6pfsG46LnHxVKTUsx/TH2caWiD8gc7ZacCvBID/ON66uOWBWFiY3rEoexNH9fZgtDHPymLJPYMp4to9AdFISVWK1bPXhgwpLXoveqDCbiWmOJay1JubJRNuEZT2Lzn3pYRAwSXNpU3vnj4jOu2pQSWJi44rFv2sibN/CNsd10lcGjM4tJX/z7sPfwH+uWweepzHdTp2thz4aa/f2X/dsRD9IbG4TPACCzNvlWtdDiIMybtqQcmm/PrJGUnb6WCQSum6NUW/2Pp+NeTxG6HAWy85rmEhcBgnJSHPgON90QOVVjXXVH5rYSHJrKl1p2+oTk4eRPoH6v0K3l6ON+10bprBbHxO9+I1xQQSno24B2YW8J660Hs8DRxCUEuODFATxFOrHL1AwehIB/BmAI1UWVBFpjDCQ4JkRpkKY+YbEZBYfEKuVbe3Hix6lHQeO3KWYFxe2HI6gwz9h2dMv4eZQdLQteje7SRnKMMCbff0fQHUWiQFHiiTFBdJniLLtzyNZIQYkZXr0xNHL1lRWhh6iehQR+C4E/lKIeyRE0lpEHR1n4932r91wvjOMqXdm7Lh6qfou9FiNV5H2ByXJ80qovx1fpknYK2YI4sXIzbt99RH9jET+F2tlug8fVJA6PZPHW+WytnZWDqQjYSQpqLGxvmb6xrrqqXD4wuQ4DbLYgPMqLZQ44fyY9+P16I1gMHpHrhgnpzatXjIDHWgw6xmS6bB+R0MOIe6EfFcQZYeMAxLH5Nda0scA9qBTQXvROolTaMzWfGbl1Gn6on47Fo+lNIaOD5TmPZ07heI3XV0/QTyGGuqFFZ8gVC6Nnvt3VpM8jIwR+g3vS9UyEb+azWV3Y0aeN+loZyeOpLUa8+7PVlmiGefKi8C8VYG80Tv1fGHnNDe6kLiE93jEy5PDSMAn5YX4TmQLJkF3+o8x42ST6+dMmVYali3qiQlaiN70ucZinhjiI411NVM2rq5+CJXf0rGi04RJvlyfTOrTwileQFrbUF9zRlj02oCpuH98yTiGQNTAj48X5+Wkgw2fpU11SZxpQ8XLoSEI145UeomweZ/+oGDiYbKzLZTEF8Zsm3O2fTRqWft9KY/sXdkUctELDUg7t+3ufDwv+ChEL6f8lQ5p6OngCsItdISibxPSii9tqK06HUb1TZlJ0NNn3VEyDR8fdum5Nm1BGclv6V8QD+h4lxD74yVlj0UFo/mRI2RW1rw3M4lySq+ERWg4dEc3+T7Z+eImuhIsNr9TX4PdevhSVEBuFfqYuc6Xn2RbYR/hChwd5ZiCcqx35waAym5iNG8Av4JN4Jy0rJNjqfTT2tr5+AxYXPkPolsoeiwd7QkAAAAASUVORK5CYII=",alt:"Grey Horseshoe Icon"}),Object(a.jsxs)("span",{className:"disabled-text",children:[Object(a.jsx)("strong",{children:"Stalls"})," ",0!==n.stallProducts.length?"Sold Out":"Unavailable"]})]});const e=n.stallProducts.length&&n.stallProducts.reduce((function(e,n){return+n.price<+e.price?n:e}));let t="";if(e.nightly)t="night";else{const n=cs()(e.startDate),a=cs()(e.endDate),r=Math.abs(n.diff(a,"days"));t=r+" night"+(r>1?"s":"")}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAAFy0lEQVRYCcVXXWxUVRA+c7bdClSBEGxsEHYrUjTSbikiJMbIg/EvQQpRI4lK1MADBgUJ0EYTYyK7BeTHxEQf+Hkw0foTTDAaNaCGoEGstBVDROy2qCAihgQt7e7eO35zy1nPvXu3u33BTe7OzDdzZubOOWfOuaRCfrdtP1tzaWBgqyJ1t2KeZJuQogFW6kgkEll7dP3Ub22d4ZvaT81xHGcLkZrLzGMM7lGi84rVJ2PGjl1z+Nmasz4dBAoCD77D0RMn050IektQZ8tEdIkiFY1d667/ycYTm365kXO5LlY81saDPAIfmzE93vzuQ5SxddoWhD/xc//9pZIRO3lzdrKrhLd/gpVKRuwlhsSyxwpfkBAyvzloVFymENswLNxDWKyChFzFFeHDC1FmFQmiYVjQxshhsQoSMsb/Fw1JiKdcuWQKY/kSmtPeW0+sll2phCRW85b0TDueL6GMS1ux+steQ9gr52xnw3wYVmgliMTKZtUrtjafUGMqLU3wPltZiidNnUGbMCxo45MRsyGZvsdgXkLoKYRnswHLoqSGolrtCdp6GHRBfESZud3ovYQSm/pbUL9ZBiyHEtO2I+vivwdtBdOKtgbxEnJDor3/LrEZnjKXnysxIKg+Wx2p3hgEjTxOVycVUUGyRh9G2XXXCE7NqdNTszzUh/VTcK6FDfSwiH6qZ31sZ1E9FI3JvieY3RFtfOOJuErp6TqnBh8YTTI47bsWr5u22+csRGjZMG0PDuCjIapwCAXJKvcOjbUzN2BxMKL1fQi8KYB7Iq4Uq18kcsN0NiY2OqJW21ieJ70ZU3ov5P15DAzawHxq3Nj7PZj8VSMSVbGja+v6xRDb8WtUb54ZhDk91t1WN6rFDx9fwcf8vA+iw92tcc/n3I2/ThpUmT8tXbcs6hoDeDSja4VKKwCp9DDzp1WHYcumrN4O2EYv+1YZcusCuskVuKJNkFqZn0P8ZiLVtzORSs8D3mxwocz6uC2Xw6MFnMSpnjdFMk2JZN/+xlTvAdd1luUVwjBXVrCiv8FNzCuY61zml/OyxaCc/9lZ+MgsTw7qcYFboFy1AHH9KlJRjXk57UdHkEjVj6ANVeGFfVUONTIg0wXsMi47ITSv5bcn+8uuUmJbeoIiXmLilaJYtT9gitWPpQyNHgW+5qJyU2ZRGrwY5UF6FbbeJilmY+O4jhwjOUNcx/nUVpTi0fA6asfFHv94FYUeolLFi4p3oFM/WsqXrSfSi6n5Da7M/ZU+h7vweFtpeOnM4KNYiL4LPfAzaJJ7cE/owkH7h9jDRxxTNFsxLYH9dcaHR4mOY70Oyi7z4UbA91r9DbFa3bkCHVvRXoPbVJN+vrst3tTSGpsFZ5/ZOgmI3djKruoA/VweYLuQ1NMFyaAjI9gsNMTZ6NBtth/Dk+K35BvNO+25gl6CImOUhjLRl8LLMQD+kMFHS1HNQwjmyDh92aftA0vAURR5XTC8+PAPLX47av6MkYViSvZFo1UrczmnxnGdDuiDndU2L8ojoTRR5OEqrc9ccrOvwc9Cn7Gm7T0b4qsFyyck58oQZXtGsyuMUyQun9MYqmYYrFyKZH+bOH7czC9WXosGbS5oYL5pm3KeVGSRfLOX60zsYL+3ZUN8Jp6bkNj7oxkL2wyWwmMmGRnrrSHjpKt16hEATxq5LMpqn6wxefC2H5Y1BkbD60Yv7WmNHbDH5KfMBpuS6Udw4dmJORhj42E8kujSUV6kc1dxjoc+KLqtrcEImkNKy7GDd1uwx4YmJJpE8tStrBwJULLTem+LMbAt+Nb3oth/RL04U5f2tMUP27DhfVNmQKEyfVVc2YDa7oBY0BJsW0mkdDKYUqJdV+vqRLFkxGfRCtkBGzb3xcnhF1CCxdhJoR3dtrd5TOkAFvt7WlPqu/WxkvepshIyAeSYcS6cupNdZyHKXo/q1eLArUWi3g0AFfgH+AVMXh90nVrrg3pC5UedK2oHjI9S9F/EZhh5dhGKzAAAAABJRU5ErkJggg==",alt:"Blue Horseshoe Icon"}),Object(a.jsx)("strong",{children:"Stalls"})," ",Object(a.jsx)("span",{className:"small-text",children:"from"})," $",e.price," / ",t]})},l=()=>{var e;if(0==n.rvProducts.length||n.rvSoldOut&&cs()(c).isAfter(i))return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAIAAAAABKli1tAAADzElEQVRYCc1XX2iURxCf2c1pTF+Kf4g0gfZFHwqtkRaVlGhDabHQvGi5hD60BGPTRExqTPEIecspF6QtVGK0Wn2QNMnRin1oWgQjEWzA2geFtpoXE4jQkNAmEU7JNTv97X1+x/eZL61Jk8u38N3OzszO/HZ2d3aOydOOdvSWG5YGEtpBJBs9ouUmDRONw8lPSqlPW+oqr7sOwSf6oq9v9fTwdAJko4hkeK7CCvSGFJ8ozi+MVVeXP8qzAB4MT38OYHUrACbIpSIjjfdTf9hANXJbZ/frLNwfgsj5wDIDlfAbeSzUHDZwFqnFhMPWpIRouw96iAYI3nbFxOtChMkHBcFbo8K4vVmUTL+r7CCMhNC1EAPkyTV5zyQyeTB0wWN6pImrm2srJkIXQeS/31jrN1vqKy/ZwOUmgswX8Sz8GbBTRbikb2f5zA2t9VUnsmMQHD/Z87GX8W808hJu/tM1qB6C8vNWO6K5JPZR1a0nZyaTST00bvqhu9PKbPQK1qtXm6LRh67ushUGWPggooOqaH6AVtZ+5tvimXT6Fp6OtXYMkF8iirWWtm3Fz+CR/XtHcSH2OXAyT9yHx04l33XH2OLuNnewtD1XI4JF1uZ8W+z1F+/s6RAj9Q6PJ3l1pKS1Zu9Ingi1ehWXjn7q45pxWZRfeHg0NVaGGL6E71mZSXdhgTtXfIvdgNjiVGtVhdrAuSAir8U7ez/gto7uhS3VtbiQfv40M8cKbvQu5IpNjwWDucmDInsWFQWmraHZ4jmhtAyh/JxEkJVqJEP3AkEEMFFLf4O8uMqKcgIQ/ysGYgfmviQB2DKseEfPrHskcgLQC8Q+b3cnzPvgvYNnLMIk17XWp2K10SmvnkvbM2jcwXL3p0/fjAxNmO+xfefw7UGeqzBCifTs7M/tX333nMe/ezeMLRZ+heKLHuGSk4jUJ3hkR9CXGZGDQQ4g+xE65yArBZ5MAQPeHWyxdIF5NGiS5bFW74mhLSTmyHw6/8XHeTqOiPlKISTkBGm+LbPmazsfOruhs9tni+mC2rxet6OC6PUJHg+YKa3FDGrFN4Pk/4sHm9a29RFkx2LaoDcdRxSdduxkcpchKcMqCsF5C+vd7Ej4b6wve5mw8mvg33ZkC/59GXYztd+TtmF3CLzLQvyXZr7SUh8dsDpZgM4E5zfemdwmYq4CbIGXj1UNF6xSrzTVRIOqY69qIP3Z2eTa1Iz5BWfsBZ8Cc4pZlbfWRW/4+Bi4t8XHt4pKUxkA/YBvCqsYQ3+edaR0seCsAzvX2sjYcmwitXCf9RUEzs75B22GVK/5TQ4JAAAAAElFTkSuQmCC",alt:"Grey RV Icon"}),Object(a.jsxs)("span",{className:"disabled-text",children:[Object(a.jsx)("strong",{children:"RV Spots"})," ",0!==n.rvProducts.length?"Sold Out":"Unavailable"]})]});const t=null===(e=n.rvProducts)||void 0===e?void 0:e.reduce((function(e,n){return+n.price<+e.price?n:e}));let r="";if(t.nightly)r="night";else{const e=cs()(t.startDate),n=cs()(t.endDate),a=Math.abs(e.diff(n,"days"));r=a+" night"+(a>1?"s":"")}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAIAAAAABKli1tAAADt0lEQVRYCc1YW2yMURA+c/6/Wn3BetC4ZG0THiS621TUJXWJkEh4ERLxQBoJIaFU6bo8SER3lyAhEjzwREIELy6RuCY0aFOVuIbuXyUIqUqkbt1/fLP68+v+pS7d3fNyzpkzZ+Y7c2bOzP+TcrVgzJqqErySSY1TzAWupV4ekq0Uvyai62ToHbfX+a85CkkGM3dz7vN2K6pYVQBYkuYwpL8HWFJ7fAUqfLk88NEUAC/eW7twgmXpB+OlkbUY6u1LEkNVUCgSnwL7Xsy85bqAJWLSNM1kxVVAnOFr7QJOpuJqNldqDEs9lrODxKpUw3gDswNNKgpWqi8cMtNRmwrMoSBM7ssVZ3O7mnxmshEhKWozc3KjWWpB+kiGKq+vGvwm6wDCcvdI6+m3qwOn5GbTcsVQeoKJW1NdiYYgSGc6dNJqZWM4sMeZS0+hmvgqN+GXY0lCPWxsq9VIAn5hN7QKNYQLG7tunXeMjYdPLMlik2RNrJefZ46prRz2weHttQxSFInXQvE4UdQdQFkrjT0b+iHxBeDZJ3NUNAca1weWylhaxn3wRvXQZ9pQi7/BkQzHS4pjzXOdOQVrrC3O5P/2XI4rHiIyf2VBR2dRpGkvHGi5zOWJ0X041FBV2Ixiwd7kMGWy9xXQmtaXXAaQo3Gw/vZndXgzfDPjV+wYRYpTI8eYDx9MBgiiceLJiLWIimqaehyZjrA/7bt/ZlIlIWonM6sRyRWi2rS8g7iyOT19oH6yFqvirLniVFsKhfPSYkHEZYXSOu4NwoNqJ46D2kdW0gLQ0HylIexPySQe0JKkYCSewHuYHKcFoBuIpLdHj62FoM1SxDmw7jWT+u2rD/veufmcMXxQPprT00r2cw7AnUbQHJTAgZFmw1LRDm67VRx7OthBgbXO2CAbmSR+F4RRzmIv9Ws1qWZmXYbEsMJLB96/cwTgNtEEfM11FjD0gEJRa4Nt21u9NgnNIFoAEwdx0urueP6GjrcxCtB34GxHutuvtd6oRxT6Y0B/1IsJHy1f4Kq1YKzzWv8XGhPViWzR4SVHMBkD/Nu/l1vF2+KTbTuZCwdhwwz4x0jZCIYOCPoRTERXcRV3vIT+joZP3CKn9usqG0AfgXYeBdZbbfCFhnWBK508qWKDsZaxKtFxCb6Z717Fqaz8XLMEBaVHdezm9B6P39nia//UUQ93Ge7mwHW3K8Oc2lg97KabLmPPTCKMpkllqB7P4mQS/q/wn+SQmUcT/hacKJO9IkNkJWWKbKIzossLnOz5CiHJSy4OaYokAAAAAElFTkSuQmCC",alt:"Blue RV Icon"}),Object(a.jsx)("strong",{children:"RV Spots"})," ",Object(a.jsx)("span",{className:"small-text",children:"from"})," $",t.price," / ",r]})},d=e=>{var n;return null!==e&&void 0!==e&&null!==(n=e.name)&&void 0!==n&&n.includes("Automation")?"automation":"".concat(null===e||void 0===e?void 0:e.id)};return Object(a.jsxs)(Fs,{style:t,className:"".concat(e,"__event-card"),children:[Object(a.jsxs)("div",{className:"".concat(e,"__heading-line-clamp"),ref:r,children:[Object(a.jsx)("div",{className:"".concat(e,"__date-range-container"),children:"".concat(Ps(n)," \u2022 ").concat(n.venue.city,", ").concat(n.venue.state)}),Object(a.jsx)(ur,{label:"".concat(n.name),styles:{lineHeight:"35px !important"},title:n.name})]}),Object(a.jsx)("div",{className:"".concat(e,"__price-book-container"),children:(()=>{const t=cs()(n.closeDate,As);return cs()(c).isBefore(i)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"".concat(e,"__price-container"),children:[Object(a.jsx)("p",{className:"".concat(e,"__stalls-price"),children:o()}),Object(a.jsx)("p",{className:"".concat(e,"__rv-price"),children:l()})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"disabled-button coming-soon",children:"Coming Soon"}),Object(a.jsxs)("p",{className:"coming-soon-text",children:["Reserve starting ",cs()(i).format("MMM D, YYYY")]})]})]}):t.isBefore(c)?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"".concat(e," book-closed-container"),children:[Object(a.jsx)("div",{className:"disabled-button",children:"Online Reservations Closed"}),Object(a.jsxs)("p",{children:["Contact the venue at ",Object(a.jsx)("span",{children:us(n.venue.phone)})," to make a reservation."]})]})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"".concat(e,"__price-container"),children:[Object(a.jsx)("p",{className:"".concat(e,"__stalls-price"),children:o()}),Object(a.jsx)("p",{className:"".concat(e,"__rv-price"),children:l()})]}),Object(a.jsxs)("div",{className:"".concat(e,"__book-container"),children:[!n.stallSoldOut&&Object(a.jsx)("div",{children:Object(a.jsx)(b.b,{to:"reservation/".concat(n.id,"/stalls"),className:"".concat(e,"__book-link"),children:Object(a.jsx)(ds,{dataTestId:"book-now-".concat(d(n)),label:"BOOK NOW"})})}),n.stallSoldOut&&!n.rvSoldOut&&Object(a.jsx)("div",{children:Object(a.jsx)(b.b,{to:"reservation/".concat(n.id,"/rvs"),"data-testid":"book-rv-".concat(d(n)),className:"".concat(e,"__rv-link onlyRvs"),children:Object(a.jsx)(ds,{dataTestId:"book-rv-".concat(d(n)),label:"Book RV spot only"})})}),n.stallSoldOut&&n.rvSoldOut&&Object(a.jsx)("div",{className:"disabled-button",children:"Sold Out"})]})]})})()})]},"".concat(n.id))}))(Bs||(Bs=Object(k.a)(["\n  &__heading-line-clamp {\n    @media screen and (min-width: ",") {\n      width: 53%;\n      overflow: hidden;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n\n      h2 {\n        display: -webkit-box;\n        padding-right: 20px;\n        overflow: hidden;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n\n        @media screen and (max-width: ",") {\n          font-size: 1.35rem;\n        }\n      }\n    }\n\n    @media screen and (max-width: ",") {\n      flex-direction: column;\n      width: 100%;\n      margin-bottom: 6px;\n    }\n  }\n\n  &__date-range-container {\n    color: #8093a5;\n    text-transform: uppercase;\n    font-family: 'IBMPlexSans-Bold';\n    letter-spacing: 0.62px;\n\n    @media screen and (max-width: ",") {\n      font-size: 14px;\n    }\n  }\n\n  &__loading-container {\n    ","\n    align-items: center;\n    justify-content: center;\n    width: 40%;\n\n    @media screen and (max-width: ",") {\n      flex-direction: column;\n      width: 100%;\n      padding: 0;\n    }\n  }\n\n  &__price-book-container {\n    ","\n    flex-direction: row;\n    justify-content: space-between;\n    width: 47%;\n\n    .disabled-text {\n      color: #4d5c6c;\n    }\n\n    div.disabled-button {\n      background: #e0e7ef;\n      border-radius: 3px;\n      padding: 12px 16px 7px 16px;\n      display: flex;\n      font-size: 1rem;\n      text-transform: uppercase;\n      color: #4d5c6c;\n      width: max-content;\n      align-self: flex-end;\n      padding-top: 13px;\n      height: 46px;\n\n      @media screen and (max-width: ",") {\n        width: 100%;\n      }\n      &.coming-soon {\n          height: 46px;\n          width: 200px;\n          border-radius: 3px\n          align-items: center;\n          justify-content: center;\n          align-self: flex-end;\n          padding-top: 6px;\n          margin-top: 10px;\n\n\n          @media screen and (max-width: ",") {\n            width: auto;\n          }\n        }\n      }\n      .coming-soon-text {\n        font-size: 16px;\n        white-space: nowrap;\n        text-align: center;\n      }\n\n    @media screen and (max-width: ",") {\n      flex-direction: column;\n      width: 100%;\n      padding: 0;\n    }\n  }\n\n  &.book-closed-container {\n    text-align: right;\n    width: 100%;\n    min-height: 80px;\n    padding-top: 10px;\n    display: flex;\n    flex-direction: column;\n    background: url(",") center left no-repeat;\n\n    p {\n      font-size: 16px;\n      margin: 7px 0;\n\n      span {\n        color: ",";\n      }\n    }\n\n    @media screen and (max-width: ",") {\n      flex-direction: column-reverse;\n      text-align: left;\n      background: none;\n\n      div {\n        width: 100%;\n        flex-flow: column;\n        text-align: center;\n      }\n    }\n  }\n\n  &__price-container {\n    background: url(",") center left no-repeat;\n    padding-left: 60px;\n    justify-content: space-between;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    p {\n      font-size: 16px;\n      margin: 6px 14px;\n\n      img {\n        width: 18px;\n        display: inline-block;\n        margin-right: 8px;\n        position: relative;\n        top: 2px;\n\n        @media screen and (max-width: ",") {\n          display: block;\n          margin: 0px auto 6px auto;\n        }\n      }\n      .small-text {\n        font-size: 12px;\n\n        @media screen and (max-width: ",") {\n          display: block;\n          margin: 0px auto;\n          position: relative;\n          margin-top: -12px;\n        }\n      }\n      strong {\n        font-family: 'IBMPlexSans-Bold';\n        letter-spacing: 0.7px;\n\n        @media screen and (max-width: ",") {\n          display: block;\n          margin-bottom: 12px;\n        }\n      }\n\n      @media screen and (max-width: ",") {\n        text-align: center;\n        width: 135px;\n      }\n    }\n\n    @media screen and (max-width: ",") {\n      flex-direction: row;\n      margin: 5px 0;\n      padding-left: 0;\n      background-position-x: center;\n      background-position-y: center;\n    }\n  }\n\n  &__stalls-price {\n  }\n\n  &__book-container {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    &&& .disabled-button {\n      width: 200px;\n      justify-content: center;\n\n      @media screen and (max-width: ",") {\n        width: 100%;\n      }\n    }\n\n    div {\n      text-align: center;\n    }\n\n    @media screen and (max-width: ",") {\n      margin-top: 12px;\n    }\n    .onlyRvs {\n      margin-top: 0;\n    }\n  }\n\n  &__rv-link {\n    color: ",";\n    text-decoration: none;\n    display: block;\n    text-align: center;\n    margin-top: 20px;\n    font-size: 16px;\n    text-transform: uppercase;\n    letter-spacing: 1.05px;\n  }\n\n  &.book-link {\n    text-decoration: none;\n  }\n"])),Xe,Ze,Ze,Ze,Ke,Ze,Ke,Ze,Ze,Ze,ps,P.secondary,Ze,ps,Ze,Ze,Ze,Ze,Ze,Ze,Ze,P.secondary),Ys=t.p+"static/media/oslogo.4ad676d4.png",Vs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABOIAAADECAYAAAAyPI5+AAAehklEQVR4nO3da5icZZ3n8d/9VPUhHQ59CKIRR0fE0XFn0MsdIqAjURGHJCTpblh1dNfTDDvKIMsIJN0ZF726O2i80GV0Pa2wOuCy2NVJTFBYuQyeiKjjOrp4GGAUhU7S3XXoc3dVPfd/X3TCRAhJ+lB1V1V/P6+gU/Xcv/SLdN+/ep7771r6e64yuU9IlhCA5aMYy0/PyiZnNH7VzS50HAAAAKDWnfrJa82tbFS0okFKsgUHlhcXO9k1UbZz2yddQhucc+OhIwEoMe9lk9PywznFB9Ky3IRUKIZOBQAAACwPhaIsN6H4QFp+OCebnJa8D50KQIk558ZdQhuynds+GUlSdnP315VIXOjkfhs6HIAl5k02OSM/Mqr4ibR8Zlw2kw+dCgAAAFjWbCYvnxmf+x19ZFQ2OSN5Cx0LwBJzcr9VInFhdnP31yUpOvIH2U1bfpZsrFsj534YLh6AJWEmm56Vz4wpHhyRz4zJpmcl8YMdAAAAqCzP8Lu78bs7UPWc+2GysW5NdtOWnx35UnT0nw+vv/7gKc9Z8Vo5lyp/OgCLY4c/VRuTHzzqUzV+gAMAAADVwf7taRY/mJ4r5Wby4gN1oAo5lzrlOSteO7z++oNHfzn51Nc9fsG10977y9t2bf+IebuufAkBLITlC9LUrPzUjBRzvgQAAABQC8x7aXJm7sP1RKSoqVFqapCrrwsdDcAJuMjtSG/aekMURU9r0aNjvSGKIsu2d18fRe7dkiuUPiKA+bBiLD86KX8gLX8oKz8+RQkHAAAA1KrYy49Pzf3ufyAtPzopK8ahUwF4GleIIvfuuU7t6SWc9AxF3BGZ9u5bk06XyLlsaQICOGnFWH58SvHBjPyBtGyMH74AAADAcmPFWDY296F8fDAz96E8+wIgPOeySadLMu3dtx7vZcct4iRppKN7XzKZPF9Ojy5dOgAnxXvZ5LTioaziA2lZbkIqFEOnAgAAAFAJCkVZbkLxgbTioaxsclryPCkDlJ3To8lk8vyRju59J3rpCYs4SRrZeMOvVrpojZP7zuLTATgub7KpuQNa4yfS8plxaZYnxAEAAAAcx2xBPjM+t4cYGZVNzUieIQ9AqTm576x00ZqRjTf86mRef1JFnCQ90d6VXv3Sc97g5G5feDwAx2Sam3iaPjyyPH14ZDnTkQAAAADMi8mmZ39/bzGTZ2sBlICTu331S895wxPtXemTfc/TpqYez0MvuyIv6e2tqd5HvfRBmbl5pwRwmMlmCnOF29Ts3FQkAAAAAFgqNve0jU3NyEXR3NTVFQ1yjXWS2M4DC+acRdKHMx3dN853qMJJ3xF3tExH943O6a1OmlnI+4HlzPKHz3EYTMsP52QT05RwAAAAAErKvJdNTMsP5xQPzp0/bXnOnwbmy0kzzumtmY7uGxfy/gUVcZKUbe++00XR6yQ3vNBrAMtGIZYfnZts5A8dnmwUU74BAAAACCD28uNTc3uTA2n50UmpwORV4MTcsIui12Xbu+9c6BUWXMRJUqa9a39Dff0a5/SLxVwHqEnFeO6H28GM4oNp2dikjLHiAAAAACqIFWPZ2KTig2n5g4dvGmDfAjyNc/pFQ339mkx71/7FXGdRRZwkHbrsul/rtOT5crpvsdcCqt7h273joZziA4dv9y5wuzcAAACAymeFw8foHEgrHpo7RkccowNITvfptOT5hy677teLvdSiizhJyl68ZfTlrRf+hXPuc0txPaCqHD4A1Q/n5kaFZ8el2XzoVAAAAACwcLN5+ez43B5nOCebmpGM0atYfpxzn3t564V/kb14y+hSXG9eU1OP5/61a4uSrmzp733EZDdpiUo+oCKZZDOzsqnZuamn/EACAAAAUJNMNpOXzeQl5+amrjY1yDU2MHgVtc47uS3Zju4d9y/hRZe8LMt2du9QpHYnN7nU1wbCMtlsQT4zJj84Ij8yyqdCAAAAAJaPI08DjYzO7YkyY7LZgiT2RKgtTm5Skdqznd07lvraJblrLde+bXfC6c+dc4OluD5QTpY/fE7CYFp+KCubnJFxTgIAAACAZcy8l03OyA9lFQ8ePh87z/nYqH7OucGE05/n2rftLsX1S/b46EhH94+jejtPcj8p1RpAyRRi+dHJuVHehw5PDoop3wAAAADgaWIvPz41t3c6kJYfnZQKTF5FNXI/iertvJGO7h+XaoWSnuOW3rDtibq25tc45/aUch1gSRTjJ394xAfTsrFJGWO7AQAAAOCkWTGWjU0qPnjUTQ3sq1AFnHN76tqaX5PesO2JUq5T8oEKw2vfN/H+zVs3RYpuKfVawLzFJpuYVjyUU3yA26kBAAAAYKk8eczPgbTioZxsYlqKOU8OlSdSdMv7N2/dNLz2fROlXqusM05a+vv+xmT/IFminOsCv8dMNj0rm5ydm/zDwaIa/y+3MO8IAAAAKLFTP341mw85ucZ6uZUNcisaJMdWBCG52Mn9bbaz69PlWrHkd8QdLdvZ9elIWueksXKuC8gkTefl02OKnxiRT4/JZmZFCQcAAAAA5WSymdnf25tpOs/WDGXnpLFIWlfOEk4qcxEnSZnO7ntdffIC5/RYudfGcmOy2bx8Zkx+cETxSE42NSMZ/8IDAAAAQHBmsqkZxSM5+cER+cyYbJanllB6zukxV5+8INPZfW+51y57ESdJmcu2PFSXdGuc3IMh1kdts3xBlhtXPJiWH8rJJmdknomnAAAAAFCpzHvZ5Iz8UE7xYFqWG5flC6FjoQY5uQfrkm5N5rItD4VYP0gRJ0lDG7sPnd62+iInd1eoDKghhVh+dHJuVPahrPz4tBRTvgEAAABA1Ym9/Pj03N7uQFp+dFIqMHkVi+fk7jq9bfVFQxu7D4XKkAy1sCT9Zu07Z7z3b27buf1RM9saMguqUDGWn56VpmaYdAoAAAAANciKsTQ2qXhsUq4+KTU1KlrRICWZAYn5cc5tT2/e2h1FUdBnn4MWcZJ0+BvQ1TzQ9yt5/zlJ9aEzoYLFJpuekZ+akWa5TRkAAAAAlgvLF6X8hOLchNRQp6ipUW5Fo5Rg8iqOK68o+utse9cXI3WHzhLu0dSnyrV3fVFR9EZJmdBZUGHM5s4KGMkpHhyRz45TwgEAAADAcjZbkM+Oz+0RR+bOBmcwH44hoyh6Y66964uhgxxRMUWcJOXau75Vp/pXyenh0FkQmEmazsunR+dGWmfGZNNMzwEAAAAAHM1k03n5zNjc3jE9Kk3n2TpCcnq4TvWvyrV3fSt0lKNVVBEnScOd1z98ysqmVzm5ivpGoQxMspm8fGZc8eCw4pGcbGqWTzUAAAAAACdmJpuaVTySUzw4LJ8Zl81Qyi1HTu5bp6xsetVw5/UVd6NXxRVxkvT4m67NrH7pOW+MpIq5dRClY/miLDeu+MCI/HBONjktef6lBAAAAAAskDfZ5LT8cE7xgRFZbpwhf8tEJH1x9UvPeePjb7q2Io8+Cz6s4Zk89LIr8pLe0Zzqe0SyD8uM0xdrSSGeG7gwOSOLGUMNAAAAACiR2MuPT0vj03KJhLSyUVFTo1TH5NWa4pxJ7oOZjq6eimzgDqvIO+KOluvo6okivdlJM6GzYJGKsWx8UvHBjOKDadnYJCUcAAAAAKBsLI5lY5OKD6YVH8zIxielIvvSauekmSjSm3MdXT2hs5xIxRdxkpTZ3H1XlIwuktNQ6CyYp9hkE9OKh3KKD6Tlc5NSgduBAQAAAACBFYryuUnFB9KKh3KyiWkp5pikquM0FCWjizKbu+8KHeVkVEURJ0npTV0PSo3nOemh0FlwAmayqRn5kdzcKOnsuDSbD50KAAAAAIBjm83LZ8fn9rAjOdnUDIMDq8BcR9R43lxnVB2qpoiTpFzHBx5zTadd4Jy7N3QWPIVJNj0rnz4yMnpMNp0X42kAAAAAANXDZNP5p+xtZ9naViDn3L2u6bQLch0feCx0lvmoqiJOkjKXXj12busF651znw6dZdkzyWbysuzY3GjokVE+NQAAAAAA1IYnn/YaVTw4LMuOyWbylHIVwDn36XNbL1ifufTqsdBZ5qtip6Yez/1r1xYlvbe1v+8RL79DVVgoVjObLcimZmXTM1LsQ8cBAAAAAKC0vMlPzEgTM1IiklvRKNfUINdQFzrZcuMjRddlOrpuvj90kgWq6gIr09l1s5M2ObnJ0FlqXiGWH52QH0zLD2VlE1OUcAAAAACA5Sf2sokp+aHs3B55dEIqMHm11JzcpJM2ZTq7bg6dZTGquoiTpGzntj3JhF7t5J4InaXmxLFsbErxwYzig2nZ2JQs5h8XAAAAAAAkyZ7cN6cVH8zIxqYk9s1Lzsk9kUzo1dnObXtCZ1msqi/iJGl4c/dPEnXJ8+Tcj0NnqXqxySamFR/KKn6y2S+GTgUAAAAAQGUrFOVHJxQPphUfysompqWYA+UWzbkfJ+qS5w1v7v5J6ChLwYUOsJTOvHfHyvx4/g6TbQydBQAAAAAAAAvn5HbXn1r/l4cuua5mjiSrqSJOkm70PvrErr4d8ro2dBYAAAAAAAAsQKSbr9nUdd2NUVRTB9TXXBF3RGuq96+97FOy6pwMCwAAAAAAsOw4FSO592U6uj8XOkop1GwRJ0mtA70Xm9dXTHZ66CwAAAAAAAB4Zk5u1EW6PNPe/Y3QWUqlpos4SWrd1ffHvuj3SvrD0FkAAAAAAABwTL+OktH6zKaun4cOUko1MTX1eDKbun7e2BStcXL7Q2cBAAAAAADA73Ny+xubojW1XsJJy+COuCNesO+2xtHM4G1m9ubQWQAAAAAAACA55+48vXX1O3+z9p0zobOUw7Ip4iTJe+9W7ez7sDdtC50FAAAAAABgOYucekY2d30wiiILnaVcllURd0TLzt63WWxfkFQfOgsAAAAAAMAyk3cJ9+7s5u7bQwcpt2VZxElSy66+11hsO2XWFjoLAAAAAADAsuBc2iXc5uymru+EjhLCsi3iJOlZOz96diHO323SH4XOAgAAAAAAUMuc9Ku6RP26oc3XPxo6Syg1PzX1eIY2X//oKY2J8+XcvtBZAAAAAAAAapZz+05pTJy/nEs4aZkXcZL0u/Vbs2c/f9Ulkrs1dBYAAAAAAIDa4249+/mrLvnd+q3Z0ElCW9aPpj5VS3/fFnPWJzO+LwAAAAAAAIvhnDlzXdnOrptCR6kUFE5P0drf02Fy/2iyFaGzAAAAAAAAVCMnN+1kb890bkuFzlJJKOKOoS21/c+8xV816dmhswAAAAAAAFQTJx2MXOKydMfWH4bOUmko4p5By56b/kCzxb0m/UnoLAAAAAAAANXAST9TQ3J9dsOW34bOUomW/bCGZ5LdsOW3ibq6C53c10NnAQAAAAAAqHRO7uuJuroLKeGeGXfEncDldlfivoFHPmHmrwqdBQAAAAAAoBI5F33yDe0vuuYr7oo4dJZKRhF3kpoHeq6WdzdLlgidBQAAAAAAoDK4WJFdm2vfdkvoJNWAIm4eWlK962R2p0mnhM4CAAAAAAAQkpMm5Nybsx3dd4fOUi0o4uapZXfvn6poe830vNBZAAAAAAAAQnBOv1PSrc9u7P5p6CzVhGEN85Td2P3ThNwayf0odBYAAAAAAIDycz9KyK2hhJs/7ohboNV7Pts0NTvyj5K1h84CAAAAAABQHm6gqWHV2wc3XDkVOkk1oohbBO+9a9vZd5OZrg+dBQAAAAAAoJSc00fTm7u2RFFkobNUK4q4JdDa3/duL/u0ZHWhswAAAAAAACwtV4jk/ibT2fWF0EmqHUXcEmkb2P662OKUTM2hswAAAAAAACwJp1zCJTrS7Vu/GTpKLaCIW0Jt/X0viZ3dLbMXhs4CAAAAAACwKM79a8LcunRn1y9DR6kVFHFLbPWej62azs/uMrMLQ2cBAAAAAABYCOfc91bUN2wa3PCBkdBZakkUOkCtGdzwgZG2Fae+3jndEToLAAAAAADAfDmnO9pWnPp6Srilxx1xJdSc6v2vMrsxdA4AAAAAAICT4tyNuY7uD4WOUaso4kqsJdX7VpNulVlD6CwAAAAAAADH5Nysk96V7ej+cugotYxHUwEAAAAAAIAyoIgroeZU79+b2R3cDQcAAAAAACqaWYOZ3dGc6v370FFqGY+mlsCLvnZLQ3p6/FYze2voLAAAAAAAAPPhnPty24pT3/XIpVfPhs5SayjiltjqPR9bNZ2f3WVmF4bOAgAAAAAAsBDOue+tqG/YxOTUpUURt4Ta+vteEju7W2YvDJ0FAAAAAABgUZz714S5denOrl+GjlIrOCNuibTt7H197Px+SjgAAAAAAFATzF4YO7+/bWfv60NHqRUUcUugNdX7ntjbPTI1h84CAAAAAACwZEzNsbd7WlO97wkdpRZQxC2C9961DPRs92aflykZOg8AAAAAAMCSMyW92edbBnq2e+855mwR+OYt0Oo9n22ayo/cLrPNobMAAAAAAACUhXM7m+pXvW1ww5VToaNUI4q4BViV6n1OUdojs1eGzgIAAAAAAFBWzv1TUtow0tF9IHSUasOjqfPUnLrp3Fj6ASUcAAAAAABYlsxeGUs/aE7ddG7oKNWGIm4eWlK965wVv2tmZ4XOAgAAAAAAEIqZneWs+N2WVO+60FmqCUXcSWrp77nKTLtNOiV0FgAAAAAAgNBMOsVMu1v6e64KnaVacEbcCVxudyXuSz3830z2vtBZAAAAAAAAKpGT+9QbOs55/1fcFXHoLJWMIu44Vu3+yKlxsXCXmd4UOgsAAAAAAEAlc073JJJ1V4xsvGE8dJZKRRH3DFr23PQHmi3uNelPQmcBAAAAAACoBk76mRqS67Mbtvw2dJZKRBF3DG07e86LY/dVyc4MnQUAAAAAAKC6uEOJhF2W3rztB6GTVBqGNTxFa6qv08fufko4AAAAAACAhbAzfezub031dYZOUmko4o7Skuq73svuMtmK0FkAAAAAAACqlclWeNldLam+60NnqSQ8mirplT/6bN2jjw1/VqZ3hs4CAAAAAABQU5xuO/v5Z1z5T//+ykLoKKEt+yLueXu3t4zPxAOSLgqdBQAAAAAAoEbdf2pjov1367dmQwcJaVkXcWfs3v6iQtHfLbMXh84CAAAAAABQ05z7l7pktG5449ZHQkcJZdmeEdeyq+81haL/PiUcAAAAAABAGZi9uFD032/Z1fea0FFCWZZFXHOq7+1W9PfJrC10FgAAAAAAgGXDrM2K/r7mVN/bQ0cJYVkVcd571zrQ8yGZ/5Kk+tB5AAAAAAAAlqF6mf9S60DPh7z3y+rYtGXzl33BvtsaRzNP/E8z/YfQWQAAAAAAACA5p/99eutz3/Gbte+cCZ2lHJZFEXfmwI5n5X1+l8nOD50FAAAAAAAA/8bJ7a+P6jcdar9uKHSWUqv5Iq51V98f+9jultkLQmcBAAAAAADAMTj3myjh1mU2df08dJRSqukz4loHei+2oj1ACQcAAAAAAFDBzF5gRXugdaD34tBRSqlmi7iWVN+V3uxrJjs9dBYAAAAAAAAcn8lO92Zfa0n1XRk6S6nUXBF3o/dRS3/PDjP/GZmSofMAAAAAAADgJJmSZv4zLf09O270vuZ6q5o6I+7Me3eszI/n7zDZxtBZAAAAAAAAsHBObnf9qfV/eeiS6yZDZ1kqNVPErdr9kdXFQmGvpFeEzgIAAAAAAIAl8X+TdXXrRzbeMBg6yFKoiVv8zti9/RVxofgDUcIBAAAAAADUklfEheIPzti9vSY6n6ov4ppTfZcVC/47Jntu6CwAAAAAAABYWiZ7brHgv9Oc6rssdJbFquoirjXVc43M7zTZytBZAAAAAAAAUBomWynzO1tTPdeEzrIYVXlG3EX79iX/Of3AP5jsP4fOAgAAAAAAgPJxcp85t+2Cv71/7dpi6CzzVXVFXOvXbjnNpsa+YtIbQ2cBAAAAAABA+Tnp/7im0y7PXHr1WOgs81FVRdyzd25/wWwc7zXpZaGzAAAAAAAAIBwnPdSQSKw/uHnrb0JnOVlVU8S1pnpe5aXdMj0rdBYAAAAAAABUAKehSNqY6dj2/dBRTkZVDGto3dl7hZn2UcIBAAAAAADgSaZnmWlf687eK0JHORkVX8S1pPq6vNedJjWGzgIAAAAAAIDKYlKj97qzJdXXFTrLiVTso6kve+iu+sFfPvx5M/uPobMAAAAAAACg8jnnvrT6Jef81UMvuyIfOsuxVGQRd9Y9N7dOTk7tNNOfh84CAAAAAACA6uGcvr1yZdPmx990bSZ0lqequCJu1UDfi4vm98p0TugsAAAAAAAAqEJODyddtH6kvetfQkc5WkWdEdc80Pfaovf7KeEAAAAAAACwYKZzit7vbx7oe23oKEermCKurb/3HfL2DUmtobMAAAAAAACg6rXK2zfa+nvfETrIEcGLOO+9axno7Yllt0lWFzoPAAAAAAAAaoXVxbLbWgZ6e7z3wY9oCxrgrAduXjF5YOqLZro8ZA4AAAAAAADUNuf0lZXPafpPj19w7XSwDKEWftbu3jMLBe022ZpQGQAAAAAAALB8OLkH6+q0cWhj96Ew6wfQMtD772S210zPD7E+AAAAAAAAlifn9JicW59t7/5/5V677GfEtfb3XiJv36OEAwAAAAAAQLmZ6fny9r3W/t5Lyr12WYu4llTPe710t0mnlXNdAAAAAAAA4AiTTvPS3S2pnveWc92yFHE3eh81p/o+bqZPSZYox5oAAAAAAADAM7OEmT7VnOr7+I3el6UjK/kZcWfs+9QpxXT2f5m0vtRrAQAAAAAAAPPlpL3Jtpa3DK9930SJ1ymd1tRHzvJW3CPZy0u5DgAAAAAAALA47ieRS27IdNzweKlWKNltd6t2bn+lqfggJRwAAAAAAAAqn73cVHxw1c7tryzVCiUp4tr6+zbFPv62ma0uxfUBAAAAAACApWZmq2Mff7utv29TKa6/5EVca6r372L5lJmalvraAAAAAAAAQCmZqSmWT7Wmev9uqa+9ZGfEXbRvX/Kf09/77yb91VJdEwAAAAAAAAjFSZ8/t+3C996/dm1xia63eC3fuOl0Gyv2y/SGpbgeAAAAAAAAUBGc7nOnJTuzF28ZXfylFunMr+74w3xh9m4zvXSx1wIAAAAAAAAqjXP6RX1dw7pDl13360VdZzFvbt110wW+GO+S7IzFXAcAAAAAAACobG44SiY2ZTZteWChV1jwsIaWndvf4uP4m5RwAAAAAAAAqH12ho/jb7bs3P6WhV5hQUVcc3/fBy2OvyyzhoUuDAAAAAAAAFQVswaL4y839/d9cCFvn9ejqS/62i0N6anx/2Gyty1kMQAAAAAAAKAWOLnb25pOfc8jl149e/LvOUmr93xs1fTszE6TXr2weAAAAAAAAEDtcNJ3VzQ0bh7c8IGRk3z9ia3a/ZE/KhYLd8t09uLiAQAAAAAAADXE6dFksm7dyMYbfnWil57wjLi2ge2vKxaL+ynhAAAAAAAAgKcwnV0sFve3DWx/3YleetwirnWg912x9/fIrGXp0gEAAAAAAAA1xKwl9v6e1oHedx3vZccs4rz3riXVe5P39gXJ6kqTEAAAAAAAAKgVVue9fWGuU/PHPA7uaV8864GbV0wMTt8uWXvpAwIAAAAAAAC1xg2csnrF2x6/4Nrp3/vq0f9zxt6PPrswW/iqzP6svOEAAAAAAACAGuLcD+sa6i4bXn/9wSe/dOQ/Wnb3/qmKttdMzwuTDgAAAAAAAKgdzul3Srr12Y3dP5UOnxHX0t93qYr6LiUcAAAAAAAAsDTM9DwV9d2W/r5LJcm19PdcZXKfkCwROBsAAAAAAABQg1zsZNccc4IDlq/m/h4LnQEAAAAAgFqR69xG94InRaEDAAAAAAAAAMsBRRwAAAAAAABQBhRxAAAAAAAAQBlQxAEAAAAAAABlQBEHAAAAAAAAlAFFHAAAAAAAAFAGFHEAAAAAAABAGVDEAQAAAAAAAGVAEQcAAAAAAACUAUUcAAAAAAAAUAYUcQAAAAAAAEAZUMQBAAAAAAAAZUARBwAAAAAAAJQBRRwAAAAAAABQBhRxAAAAAAAAQBlQxAEAAAAAAABlQBEHAAAAAAAAlAFFHAAAAAAAAFAGFHEAAAAAAABAGVDEAQAAAAAAAGVAEQcAAAAAAACUAUUcAAAAAAAAUAYUcQAAAAAAAEAZUMQBAAAAAAAAZUARBwAAAAAAAJQBRRwAAAAAAABQBhRxAAAAAAAAQBlQxAEAAAAAAABlQBEHAAAAAAAAlAFFHAAAAAAAAFAGFHEAAAAAAABAGVDEAQAAAAAAAGVAEQcAAAAAAACUAUUcAAAAAAAAUAYUcQAAAAAAAEAZUMQBAAAAAAAAZUARBwAAAAAAAJQBRRwAAAAAAABQBhRxAAAAAAAAQBlQxAEAAAAAAABlQBEHAAAAAAAAlAFFHAAAAAAAAFAGFHEAAAAAAABAGfx/YM4mjTEyKh0AAAAASUVORK5CYII=";const Us=Object(E.b)((e=>{const n=e.className,t=e.loadMoreItems,i=e.itemCount,c=e.isItemLoaded,o=e.data,l=e.loading,d=e.searchText,u=s.a.createRef(),p=Object(r.useState)(1),b=Object(w.a)(p,2),m=b[0],h=b[1],x=()=>{u.current.scrollToItem(0)},O=Object(r.useCallback)((e=>{const t=e.index,r=e.style;if(!c(t))return Object(a.jsx)(a.Fragment,{});const s=o[t],i=Object(j.a)(Object(j.a)({},s),{},{id:"".concat(s.id),name:"".concat(s.name),dateRange:Ps(s),pricePerNight:s.pricePerNight,pricePerEvent:s.pricePerEvent,rvSoldOut:s.rvSoldOut,stallSoldOut:s.stallSoldOut});return Object(a.jsx)(zs,{event:i,className:n,index:t,style:Object(j.a)(Object(j.a)({},r),{},{marginLeft:20,marginRight:20,width:"calc(100% - 40px)",top:r.top+10,height:r.height-10-10})})}));if(l)return Object(a.jsx)(B,{});return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Ws,{children:0===o.length?(null===d||void 0===d?void 0:d.length)>2?Object(a.jsxs)("div",{className:"".concat(n,"__no-results-container"),children:[Object(a.jsxs)("p",{className:"no-reservations",children:["No results for ",Object(a.jsxs)("b",{children:['"',d,'"']})]}),Object(a.jsx)("p",{className:"no-reservations",children:"You may want to try using different keywords or checking for typos"})]}):Object(a.jsxs)("div",{className:"".concat(n,"__empty-list"),children:[Object(a.jsx)("img",{src:Ys,alt:"horse logo"}),Object(a.jsx)(ur,{id:"green-banner",label:"Coming soon"}),Object(a.jsx)("p",{children:"More events & venues"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"".concat(n,"__wrapper-div"),children:Object(a.jsx)(es.a,{children:({height:e,width:r})=>Object(a.jsx)(ns.a,{isItemLoaded:c,itemCount:i,loadMoreItems:t,children:({onItemsRendered:t})=>Object(a.jsx)($r.a,{height:e,itemCount:i,onItemsRendered:({visibleStartIndex:e,visibleStopIndex:n})=>(h(e+1),t({visibleStartIndex:e,visibleStopIndex:n})),itemSize:150,width:r,ref:u,className:"".concat(n,"__table"),children:O})})})}),Object(a.jsx)(ss,{style:{position:"absolute",bottom:120},onClick:x,start:m})]})})})}))(Ls||(Ls=Object(k.a)(["\n  &__wrapper-div {\n    height: calc(100vh - 176px);\n  }\n\n  &__table {\n    padding-bottom: 40px;\n  }\n\n  &__no-results-container {\n    text-align: left;\n    margin-top: 20px;\n    padding-left: 20px;\n\n    p {\n      margin: 0;\n    }\n  }\n\n  &__empty-list {\n    margin-top: 130px;\n    width: 100%;\n\n    img {\n      width: 110px;\n      height: 110px;\n    }\n\n    #green-banner {\n      background: url(",") center center no-repeat;\n      background-size: 625px 100px;\n      height: 100px;\n      color: white;\n      text-transform: uppercase;\n      padding-top: 38px;\n      font-size: 38px;\n      letter-spacing: 15px;\n    }\n\n    p {\n      text-transform: uppercase;\n      font-size: 2rem;\n      font-weight: bold;\n      letter-spacing: 12px;\n    }\n\n    @media screen and (max-width: ",") {\n      width: 90%;\n      margin: 50px auto 50px auto;\n\n      img {\n        width: 60px;\n        height: 60px;\n      }\n\n      #green-banner {\n        background-size: 335px 55px;\n        height: 55px;\n        padding-top: 21px;\n        font-size: 24px;\n        font-size: 22px;\n        letter-spacing: 8px;\n        margin-bottom: 10px;\n      }\n\n      p {\n        font-size: 1.16rem;\n        letter-spacing: 6px;\n        margin-top: 10px;\n      }\n    }\n  }\n"])),Vs,Ze),Ws=E.b.div(qs||(qs=Object(k.a)(["\n  && {\n    height: 100%;\n    width: 100vw;\n    @media screen and (min-width: ",") {\n      width: 100%;\n      max-width: 1200px;\n      margin: 0 auto;\n    }\n  }\n"])),Xe);var Qs,Gs,Hs,Ks=Us;const Zs=e=>Object(E.b)(e)(Qs||(Qs=Object(k.a)(["\n  &__Header {\n    &&& {\n      margin: 0 0 0 20px;\n      ","\n    }\n  }\n\n  &__empty-list {\n    margin-top: 130px;\n    width: 100%;\n\n    img {\n      with: 110px;\n      height: 110px;\n    }\n\n    #green-banner {\n      background: url(",") center center no-repeat;\n      background-size: 625px 100px;\n      height: 100px;\n      color: white;\n      text-transform: uppercase;\n      padding-top: 38px;\n      font-size: 38px;\n      letter-spacing: 15px;\n    }\n\n    p {\n      text-transform: uppercase;\n      font-size: 2rem;\n      font-weight: bold;\n      letter-spacing: 12px;\n    }\n\n    @media screen and (max-width: ",") {\n      width: 90%;\n      margin: 50px auto 50px auto;\n\n      img {\n        width: 60px;\n        height: 60px;\n      }\n\n      #green-banner {\n        background-size: 335px 55px;\n        height: 55px;\n        padding-top: 21px;\n        font-size: 24px;\n        font-size: 22px;\n        letter-spacing: 8px;\n        margin-bottom: 10px;\n      }\n\n      p {\n        font-size: 1.16rem;\n        letter-spacing: 6px;\n        margin-top: 10px;\n      }\n    }\n  }\n\n  &__loader {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n  }\n"])),en("SMALL_TABLET_WIDTH","\n        margin: unset;\n      "),Vs,Ze),Xs=E.b.div(Gs||(Gs=Object(k.a)(["\n  && {\n    ","\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    width: 100vw;\n    @media screen and (min-width: ",") {\n      flex-direction: row;\n      justify-content: end;\n      align-items: flex-start;\n      width: 100%;\n      max-width: 1200px;\n      margin: 0 auto;\n      flex-wrap: wrap;\n    }\n    @media screen and (max-width: ",") {\n      p.no-reservations {\n        padding: 0 40px;\n      }\n    }\n  }\n"])),Ke,Xe,Ze),Js=E.b.div(Hs||(Hs=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 100%;\n  max-width: 1200px;\n  padding-left: 6px;\n  ","\n"])),Ke,en("SMALL_TABLET_WIDTH","\n    margin: 0 auto 25px auto;\n  ")),$s=e=>Object(a.jsxs)("div",{className:"".concat(e.className.className||"","__empty-list"),children:[Object(a.jsx)("img",{src:Ys,alt:"horse logo"}),Object(a.jsx)(ur,{id:"green-banner",label:"Coming soon"}),Object(a.jsx)("p",{children:"More events & venues"})]});var ei=Zs((e=>{const n=e.className,t=e.data,r=void 0===t?[]:t;return Object(a.jsx)(Xs,{children:0===r.length?Object(a.jsx)($s,{className:n}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Js,{children:Object(a.jsx)(ar,{className:"".concat(n,"__Header"),label:e.noTitle?void 0:"Events"})}),r.reduce(((e,t)=>{if(!t.id)return e;const r=Object(a.jsx)(zs,{event:t,className:n},"renter-event-card-".concat(t.id));return e.push(r),e}),[])]})})}));var ni=()=>{const e=Object(r.useRef)(null),n=Object(r.useState)((()=>window.screen.width)),t=Object(w.a)(n,2),a=t[0],s=t[1],i=()=>{e.current&&clearTimeout(e.current),e.current=setTimeout((()=>{s(window.screen.width)}),100)};return Object(r.useEffect)((()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i))),[]),{size:a,isMobile:a<1024,isSmallMobile:a<375}};var ti=Zs((({className:e="",events:n=[],isLoading:t,hasMoreRecords:s,loadMoreItems:i,searchText:c})=>{const o=Object(r.useRef)(),l=Object(r.useCallback)((e=>{t||(o.current&&o.current.disconnect(),o.current=new IntersectionObserver((e=>{Object(w.a)(e,1)[0].isIntersecting&&s&&i()})),e&&o.current.observe(e))}));return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Xs,{children:0===n.length?(null===c||void 0===c?void 0:c.length)>2?Object(a.jsxs)("div",{className:"".concat(e,"__no-results-container"),children:[Object(a.jsxs)("p",{className:"no-reservations",children:["No results for ",Object(a.jsxs)("b",{children:['"',c,'"']})]}),Object(a.jsx)("p",{className:"no-reservations",children:"You may want to try using different keywords or checking for typos"})]}):Object(a.jsxs)("div",{className:"".concat(e,"__empty-list"),children:[Object(a.jsx)("img",{src:Ys,alt:"horse logo"}),Object(a.jsx)(ur,{id:"green-banner",label:"Coming soon"}),Object(a.jsx)("p",{children:"More events & venues"})]}):Object(a.jsxs)(a.Fragment,{children:[n.map(((t,r)=>Object(a.jsx)(zs,{getReference:n.length&&r+1===n.length?l:void 0,event:t,className:e},"renter-event-card-".concat(t.id)))),t&&Object(a.jsx)("div",{className:e+"__loader",children:Object(a.jsx)(B,{})})]})})})})),ai=t(224),ri=t(166),si=t.n(ri),ii=t(222),ci=t.n(ii),oi=t(154);t(475);var li,di=({options:e,searchText:n,setSearchText:t,placeholder:s,handleSearch:i,loading:c,className:o=""})=>{const l=Object(r.useRef)(),d=Object(r.useState)(!1),u=Object(w.a)(d,2),p=u[0],b=u[1];if(oi.isMobile){const e=document.querySelector("meta[name=viewport]");null===e||void 0===e||e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0")}const m=oi.isMobile?33:88,h=n=>{var a;const r=null===(a=n.target.nextSibling)||void 0===a?void 0:a.value;e.length&&r&&(t(r),l.current.setState(Object(j.a)(Object(j.a)({},l.current.state),{},{text:r}))),b(!0)};return Object(a.jsx)("div",{onTouchStart:h,onClick:h,onBlur:()=>b(!1),className:"search-box","data-testid":"event-search",children:Object(a.jsx)(ai.a,{ref:l,isLoading:!1,id:"event-search-typeahead",onSearch:i,onInputChange:e=>{!c&&e||t(e)},placeholder:s,minLength:0,className:"search-orders-field".concat((null===n||void 0===n?void 0:n.length)>=m?" trim":""),onChange:e=>{e&&e[0]&&t(e[0])},options:e,children:()=>Object(a.jsxs)("div",{className:"rbt-aux",children:[Object(a.jsx)(ci.a,{className:"search-icon ".concat(o," ").concat(p||n?"is-focused":"")}),n&&Object(a.jsx)(_n.a,{className:"clear-button",onClick:e=>{e.stopPropagation(),t(""),l.current.clear()},children:Object(a.jsx)(si.a,{className:"clear-text"})})]})})})};const ui=E.b.div(li||(li=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 100%;\n  max-width: 1200px;\n  background-color: ",";\n  padding-left: 6px;\n  display: flex !important;\n  justify-content: space-between !important;\n  position: sticky;\n  align-items: center !important;\n  margin-bottom: 0 !important;\n  top: 64px;\n  padding: 20px 20px 36px !important;\n  z-index: 2;\n  width: 100%;\n\n  @media screen and (max-width: 600px) {\n    top: 0px;\n  }\n\n  .dropdown-menu {\n    display: none !important;\n  }\n  ","\n  .event-search-bar {\n    height: 36px;\n    width: 600px;\n    background-color: $white;\n    border: 1px solid ",";\n    border-radius: 113px;\n    border-radius: 24px;\n    box-shadow: none;\n    position: relative;\n    padding-left: 80px;\n\n    @media screen and (max-width: 600px) {\n      width: 100%;\n    }\n\n    &.is-focused {\n      padding-left: 30px;\n\n      & :nth-child(2) {\n        left: 0px;\n        margin-left: 0px;\n      }\n\n      input {\n        text-align: left;\n\n        &::placeholder {\n          opacity: 0;\n        }\n      }\n    }\n\n    input {\n      font: revert;\n      padding: inherit;\n      text-align: center;\n\n      &::placeholder {\n        opacity: 0.6;\n      }\n    }\n\n    & :nth-child(2) {\n      position: absolute;\n      color: ",";\n      left: 50%;\n      margin-left: -90px;\n      padding: 6px 8px\n      transform: scale(1, 1) !important;\n\n    }\n    & :nth-child(3) {\n      svg {\n        fill: ",";\n      }\n    }\n  }\n"])),Ke,P.background.primary,en("SMALL_TABLET_WIDTH","\n    margin: 0 auto 25px auto;\n  "),P.border.primary,P.primary,P.border.primary);var pi=function(e){const n=e.limit,t=e.noTitle,s=e.infiniteScroll,i=Object(r.useState)(!0),c=Object(w.a)(i,2),o=c[0],l=c[1],d=Object(r.useState)(""),u=Object(w.a)(d,2),p=u[0],b=u[1],m=ni().isMobile,j=Object(_.c)(Kr,{variables:{orderBy:["endDate","ASC"],filterBy:{endDate:Hr()().utc().format("YYYY-MM-DD")},limit:n,offset:0},fetchPolicy:"network-only"}),h=j.loading,x=j.data,O=j.error,g=j.fetchMore,v=Object(_.a)(Xr,{variables:{input:{name:(null===p||void 0===p?void 0:p.slice(0,12))||"",limit:n,offset:0}},fetchPolicy:"network-only"}),f=Object(w.a)(v,2),y=f[0],A=f[1],N=A.data,S=A.error,I=A.loading,C=A.fetchMore;Object(r.useEffect)((()=>{(null===p||void 0===p?void 0:p.length)>2&&y()}),[p]);const D=null===N||void 0===N?void 0:N.searchEvents.find((e=>e.name.toLowerCase()===(null===p||void 0===p?void 0:p.toLowerCase()))),k={};null===N||void 0===N||N.searchEvents.forEach((e=>{k[e.name]=!0,k[e.venue.city]=!0}));const E=Object.keys(k),R=e=>{b(e)};if(!x&&!N)return Object(a.jsx)(B,{});if(O||S)return console.error(O),"Error! ".concat(O||S);const T=(null===p||void 0===p?void 0:p.length)>2&&N?D?[D]:N.searchEvents:x.events,P=o?T.length+1:T.length,M=e=>!o||e<T.length,F=()=>{if(!o||T.length%n)return;const e=Math.ceil(T.length/n)*n,t={variables:(null===p||void 0===p?void 0:p.length)>2?{name:p,limit:n,offset:e}:{orderBy:["endDate","ASC"],filterBy:{endDate:Hr.a.utc().format("YYYY-MM-DD")},limit:n,offset:e},updateQuery:(e,{fetchMoreResult:t})=>{if(!t)return l(!1),e;const a=(null===p||void 0===p?void 0:p.length)>2?t.searchevents:t.events;if(0===a.length)return l(!1),e;a.length<n&&l(!1);const r=(null===p||void 0===p?void 0:p.length)>2?e.searchevents:e.events,s={events:[...r,...a],__typename:"Event"};return JSON.stringify(a)===JSON.stringify(r.slice(Math.max(r.length-a.length,1)))?e:a.length>0?s:e}};return(null===p||void 0===p?void 0:p.length)>2?C(t):g(t)};return s?m?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ui,{className:"header-container",children:Object(a.jsx)(di,{className:"events",options:E||[],searchText:p,setSearchText:b,placeholder:"FIND YOUR EVENT",handleSearch:R,loading:I||h})}),Object(a.jsx)(ti,{events:T,isLoading:I||h,loadMoreItems:F,hasMoreRecords:o,searchText:p})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(ui,{className:"header-container",children:[Object(a.jsx)(ar,{label:e.noTitle?void 0:"Events"}),Object(a.jsx)(di,{className:"events",options:E||[],searchText:p,setSearchText:b,placeholder:"FIND YOUR EVENT",handleSearch:R,loading:I||h})]}),Object(a.jsx)(Ks,{searchText:p,loading:I||h,data:T,noTitle:t,fetchMore:(null===p||void 0===p?void 0:p.length)>2?C:g,loadMoreItems:F,itemCount:P,isItemLoaded:M})]}):Object(a.jsx)(ei,{data:T,noTitle:t})},bi=t(320),mi=t.n(bi),ji=t(573),hi=t.n(ji),xi=t(596);function Oi(){return(Oi=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function gi(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var vi=r.createElement("path",{className:"st0",d:"M12,1C5.9,1,1,5.9,1,12s4.9,11,11,11s11-4.9,11-11S18.1,1,12,1z M12.9,21.1c-0.2-1.5-0.7-2.3-1.3-3 c-0.2-0.3-0.5-0.6-0.6-1.1c0-0.1,0-0.2-0.2-0.4l-0.1-0.1l-0.1,0c-0.4-0.1-0.7-0.2-1-0.3l-0.5-0.3v0.6c0,0.3,0,0.6,0.1,0.9 c0.2,0.6,0.5,1.1,0.8,1.5l0.1,0.2c0.4,0.6,0.8,1.1,0.9,2C8.1,20.8,5.5,19,4,16.4c-0.6-1.1-0.9-2.2-1-3.5c0.1-0.5,0.2-0.9,0.4-1.3 c1.1-2.1,3.1-3.6,5.4-4l0.6,0.1l0.1-0.6c0-0.2,0.1-0.3,0.3-0.5c0.2-0.2,0.3-0.3,0.6-0.4l0,0.1c-0.1,0.2-0.1,0.6-0.1,0.7 c0,0.4,0.1,1.1,0.8,1.7l6.6,4.4c0,0,0,0,0,0.1c0,0.1,0,0.1,0,0.1L17.4,14c-0.3,0.5-1,0.7-1.6,0.3L15.3,14c-0.7-0.5-1.6-0.4-2.2,0.1 l-0.5,0.4c-0.7,0.3-1.4,0.3-2.1,0.1l-0.3-0.1c-0.7-0.4-1.1-1.1-1.1-1.9c0,0,0-0.1,0-0.2c0-0.1,0-0.2,0-0.2l0.3-0.8l-0.2-0.1 c-0.3-0.2-0.5-0.4-0.8-0.6l-0.3-0.3L8,10.6c-0.2,0.3-0.3,0.7-0.4,1.1c-0.1,0.2-0.1,0.5-0.1,0.7c0,1.4,0.7,2.7,1.9,3.4 c0.4,0.2,0.7,0.3,1.1,0.5l0.1,0c0,0,0.1,0,0.2,0c0.1,0,0.2,0,0.2,0c0.2,0,0.3,0,0.5,0c1,0,2-0.4,2.8-1.1c0.1-0.1,0.1-0.1,0.2,0 l0.6,0.4c0.6,0.4,1.4,0.6,2.1,0.4c0.7-0.2,1.4-0.6,1.8-1.2l0.4-0.6c0.5-0.9,0.3-2-0.5-2.5l-6.5-4.3c-0.3-0.2-0.2-0.7-0.2-0.7 l0.5-2.1l-0.9-0.1c-1.9-0.2-3,0.6-3.5,1.6C6.5,6.5,4.9,7.3,3.6,8.7L3.5,8.8C4.8,5.4,8.1,2.9,12,2.9c5,0,9.1,4.1,9.1,9.1 C21.1,16.7,17.5,20.6,12.9,21.1z"});function fi(e,n){let t=e.title,a=e.titleId,s=gi(e,["title","titleId"]);return r.createElement("svg",Oi({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{enableBackground:"new 0 0 24 24"},xmlSpace:"preserve",ref:n,"aria-labelledby":a},s),t?r.createElement("title",{id:a},t):null,vi)}const yi=r.forwardRef(fi);t.p;var Ai,wi=({className:e})=>Object(a.jsx)(xi.a,{component:yi,className:e});var Ni,Si=Object(E.b)((({className:e=""})=>{const n=Object(Fr.a)(),t=Object(Mt.a)(n.breakpoints.down("sm"));return Object(a.jsx)("div",{className:"".concat(e," footer-container"),children:t&&Object(a.jsx)(Er.a,{position:"fixed",className:"bottom-bar",children:Object(a.jsxs)(Rr.a,{children:[Object(a.jsx)(et.a,{component:b.c,to:ne.RENTER.EVENTS,color:"inherit","aria-label":"Help & Support",activeClassName:"active-link",children:Object(a.jsx)(mi.a,{})}),Object(a.jsx)(et.a,{component:b.c,to:ne.RENTER.RESERVATIONS,color:"inherit",className:"os-logo","aria-label":"Reservations",activeClassName:"active-link",children:Object(a.jsx)(wi,{})}),Object(a.jsx)(et.a,{component:b.c,to:ne.RENTER.HELP,color:"inherit","aria-label":"Help & Support",activeClassName:"active-link",children:Object(a.jsx)(hi.a,{})})]})})})}))(Ai||(Ai=Object(k.a)(["\n  &.footer-container {\n    width: 100%;\n    bottom: 0;\n    z-index: 1210;\n    position: fixed;\n\n    header {\n      color: ",";\n      background: ",";\n      height: 80px;\n      position: relative;\n      justify-content: center;\n\n\n      .MuiToolbar-root {\n        justify-content: space-between;\n        padding: 20px;\n\n        .MuiButtonBase-root {\n          padding: 5px;\n\n          &.active-link {\n            color: ",";\n          }\n\n          .MuiSvgIcon-root {\n            height: 40px;\n            width: 40px;\n          }\n        }\n      }\n    }\n\n    @media screen and (min-width: ",") {\n      flex-direction: row;\n      padding: 0;\n      margin: 0;\n    }\n\n    @media screen and (min-width: ",") {\n      // min-width: ",";\n    }\n\n    @media screen and (min-width: ",") {\n      justify-content: flex-start;\n      padding: 0;\n    }\n  }\n"])),P.text.lightGray2,P.white,P.primary,Ze,Xe,Je,Je);const Ii=Object(E.b)((e=>{const n=e.className;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("section",{className:n,children:Object(a.jsx)(pi,{limit:10,infiniteScroll:!0})}),Object(a.jsx)(Si,{})]})}))(Ni||(Ni=Object(k.a)(["\n  margin: 26px 0 0;\n\n  @media screen and (max-width: 600px) {\n    margin: 0 0 80px;\n  }\n\n  @media screen and (min-width: 960px) {\n    margin: 70px auto 0 auto;\n    max-width: 1800px;\n    min-width: 1130px;\n    height: calc(100% - 195px);\n  }\n"])));var Ci,Di=Object(r.memo)(Ii);const ki=L()(Ci||(Ci=Object(k.a)(["\n  query EventsListByOrderByUser($id: ID) {\n    user(id: $id) {\n      payload {\n        id\n        orders {\n          id\n          canceled\n          event {\n            id\n            name\n            startDate\n            endDate\n            venue {\n              id\n              city\n              state\n            }\n          }\n        }\n      }\n      error\n    }\n  }\n"])));var _i,Ei=({options:e,searchText:n,setSearchText:t,onChange:s,placeholder:i})=>{const c=Object(r.useRef)(),o=Object(r.useState)(!1),l=Object(w.a)(o,2),d=l[0],u=l[1];if(oi.isMobile){const e=document.querySelector("meta[name=viewport]");null===e||void 0===e||e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0")}const p=n=>{var a;const r=null===(a=n.target.nextSibling)||void 0===a?void 0:a.value;e.length&&r&&(t(r),c.current.setState(Object(j.a)(Object(j.a)({},c.current.state),{},{text:r}))),u(!0)},b=oi.isMobile?33:88;return Object(a.jsx)("div",{onTouchStart:p,onClick:p,onBlur:()=>u(!1),"data-testid":"reservation-search",className:"search-box",children:Object(a.jsx)(ai.b,{ref:c,placeholder:i,id:"reservations-typeahead",className:"search-orders-field".concat((null===n||void 0===n?void 0:n.length)>=b?" trim":""),onInputChange:s,onChange:e=>{e[0]&&t(e[0])},options:e,children:()=>Object(a.jsxs)("div",{className:"rbt-aux",children:[Object(a.jsx)(ci.a,{className:"search-icon ".concat(d||n?"is-focused":"")}),n&&Object(a.jsx)(_n.a,{className:"clear-button",onClick:e=>{e.stopPropagation(),t(""),c.current.clear()},children:Object(a.jsx)(si.a,{className:"clear-text"})})]})})})},Ri=t(321),Ti=t.n(Ri);const Pi=Object(E.b)((({title:e,children:n,className:t,disabled:r,useStallStyles:s,italicizeHeading:i,remove:c,flip:o,product:l,testId:d})=>Object(a.jsxs)(ls,{className:"".concat(t," card-item ").concat(r?"disabled":""),dataTestId:d,children:[!!e&&Object(a.jsxs)("div",{className:"heading",children:[Object(a.jsx)(ur,{className:s?"stall-rate ".concat(i?"italic":""):"",label:e}),c&&Object(a.jsxs)("a",{onClick:c,onKeyPress:c,tabIndex:0,role:"button",children:[Object(a.jsx)(Ti.a,{})," REMOVE"]}),l&&Object(a.jsxs)("span",{"data-testid":"event-".concat(l.toLowerCase(),"-flip"),children:[Object(a.jsxs)("strong",{children:[l," Flipping:"]})," ",o?"Enabled":"Disabled"]})]}),n]})))(_i||(_i=Object(k.a)(["\n  & {\n    .stall-rate {\n      margin-top: -10px;\n      margin-bottom: 20px;\n      padding-bottom: 10px;\n\n      &.italic {\n        font-style: italic;\n      }\n    }\n  }\n"])));var Mi=({orders:e,header:n})=>Object(a.jsxs)(a.Fragment,{children:[n&&Object(a.jsx)(Js,{children:Object(a.jsx)(jr,{className:"separation-header",label:n})}),e.map((e=>Object(a.jsx)(Pi,{children:Object(a.jsxs)("div",{className:"event-card-container",children:[Object(a.jsxs)("div",{className:"event-card-dates",children:[Object(a.jsx)("div",{className:"date-range-container",children:"".concat(Ps(e.event)," \u2022 ").concat(e.event.venue.city,", ").concat(e.event.venue.state)}),Object(a.jsx)(jr,{label:e.event.name})]}),Object(a.jsx)("div",{className:"book-button-container",children:Object(a.jsx)(b.b,{to:"reservation/details/".concat(e.id),className:"book-button-link",children:Object(a.jsx)(ds,{dataTestId:"view-details-".concat(e.id),label:"VIEW DETAILS"})})})]})},e.id)))]});t(1011);var Bi=()=>{const e=Object(r.useState)(!1),n=Object(w.a)(e,2),t=n[0],s=n[1],i=Object(r.useState)([]),c=Object(w.a)(i,2),o=c[0],l=c[1],d=Object(r.useState)(""),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(r.useContext)(g).user,j=Object(Fr.a)(),h=Object(Mt.a)(j.breakpoints.up("md")),x=Object(Mt.a)(j.breakpoints.down("sm"));let O=Object(_.a)(ki,{variables:{id:m.id},fetchPolicy:"network-only"}),v=Object(w.a)(O,2),f=v[0],y=v[1],A=y.data,N=y.error,S=y.loading;Object(r.useEffect)((()=>{if(A){const e=A.user.payload.orders.filter((e=>e.event.name.toLowerCase().includes(null===p||void 0===p?void 0:p.toLowerCase())||e.event.venue.city.toLowerCase().includes(null===p||void 0===p?void 0:p.toLowerCase())));l(e)}else f()}),[A,p]);if(window.addEventListener("scroll",(()=>{const e=document.documentElement.scrollTop;e>300?s(!0):e<=300&&s(!1)})),S||N)return Object(a.jsx)("div",{className:"renter-reservation-loader",children:S?Object(a.jsx)(B,{}):"Error retrieving orders"});if(!A)return null;const I=(e=>{const n=[],t=[],a=[];return e.forEach((e=>{null!==e&&void 0!==e&&e.canceled?a.push(e):Hr()(e.event.endDate).isBefore(Hr()())?t.push(e):n.push(e)})),[n.sort(((e,n)=>e&&n?e.event.startDate.localeCompare(n.event.startDate,"en",{numeric:!0}):0)),t,a]})(o),C=Object(w.a)(I,3),D=C[0],k=C[1],E=C[2],R=o.map((e=>{var n;return null!==(n=e.event.name)&&void 0!==n&&n.toLowerCase().includes(null===p||void 0===p?void 0:p.toLowerCase())?e.event.name:e.event.venue.city}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Xs,{className:"reservations-card-list-container",children:[Object(a.jsxs)("div",{className:"reservations-header",children:[h&&Object(a.jsx)(ar,{label:"Reservations"}),Object(a.jsx)(Ei,{searchText:p,setSearchText:b,options:R,onChange:e=>b(e),placeholder:"FIND YOUR RESERVATION"})]}),!A.user.payload.orders.length&&Object(a.jsx)("div",{className:"no-results-container",children:Object(a.jsx)("p",{className:"no-reservations",children:"No reservations found"})}),!!A.user.payload.orders.length&&!o.length&&Object(a.jsxs)("div",{className:"no-results-container",children:[Object(a.jsxs)("p",{className:"no-reservations",children:["No results for ",Object(a.jsxs)("b",{children:['"',p,'"']})]}),Object(a.jsx)("p",{className:"no-reservations",children:"You may want to try using different keywords or checking for typos"})]}),Object(a.jsxs)("div",{className:"reservations-table-container",children:[!!D.length&&Object(a.jsx)(Mi,{orders:D}),!!k.length&&Object(a.jsx)(Mi,{header:"PAST",orders:k}),!!E.length&&Object(a.jsx)(Mi,{primary:!0,header:"CANCELED",orders:E})]}),t&&Object(a.jsx)(ss,{style:{position:"fixed",bottom:12,margin:"0 auto",left:"".concat(x?"43%":"50%"),right:"".concat(x?"":"50%"),zIndex:1},onClick:()=>window.scrollTo({top:0,behavior:"smooth"})})]}),Object(a.jsx)(Si,{})]})},Fi=t(1251),Li=t(1209),qi=t(1210),zi=t(261),Yi=t.n(zi);var Vi=({phone:e,className:n})=>Object(a.jsx)("a",{href:"tel:".concat(e),style:{textDecoration:"underline"},className:n,children:us(e)});t(1012);var Ui,Wi=je((({logoutUser:e})=>{const n=ni().isMobile;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"help-page-container",children:[Object(a.jsx)("div",{className:"help-header",children:Object(a.jsx)(ar,{label:"Help & Support"})}),Object(a.jsxs)(Fi.a,{className:"help-accordion",defaultExpanded:!0,children:[Object(a.jsx)(Li.a,{expandIcon:Object(a.jsx)(Yi.a,{}),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"NeedHelp",children:Object(a.jsx)(ur,{className:"separation-header",label:"Need Help Making Changes To Your Reservation?"})}),Object(a.jsx)(qi.a,{children:Object(a.jsxs)(nr.a,{children:["For assistance with making changes to your reservation(s) or information about the event, please contact the venue directly via your",Object(a.jsx)(b.b,{to:"/reservations",className:"inline-link",children:"reservation."}),Object(a.jsx)("br",{}),"You can find the contact information for each event by tapping \u201cBook Now\u201d and viewing the event details."]})})]}),Object(a.jsxs)(Fi.a,{className:"help-accordion",defaultExpanded:!0,children:[Object(a.jsx)(Li.a,{expandIcon:Object(a.jsx)(Yi.a,{}),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"AcountIssues",children:Object(a.jsx)(ur,{className:"separation-header",label:"Account Issues?"})}),Object(a.jsx)(qi.a,{children:Object(a.jsxs)(nr.a,{children:["If you are having trouble processing your reservations, have issues with your account or logging in, please give us a call at",Object(a.jsx)(Vi,{phone:"8883431123",className:"inline-link"}),"or email us at",Object(a.jsx)("a",{href:"mailto:support@rodeologistics.co",className:"inline-link",children:"support@rodeologistics.co"})]})})]}),Object(a.jsxs)("p",{className:"terms-privacy",children:[Object(a.jsx)(b.b,{to:"/privacy",rel:"noopener noreferrer",target:"_blank","data-testid":"privacy-link",children:"Privacy Policy"}),Object(a.jsx)("span",{className:"bullet-seperator",children:"\u2022"}),Object(a.jsx)(b.b,{to:"/terms",rel:"noopener noreferrer",target:"_blank","data-testid":"terms-link",children:"Terms of Use"})]})]}),n&&Object(a.jsx)("div",{className:"bottom-button-wrapper",children:Object(a.jsx)(_n.a,{primary:!0,variant:"outlined",size:"large","data-testid":"help-sign-out-button-mobile",className:"sign-out-button-mobile",onClick:e,children:"Sign Out"})}),Object(a.jsx)(Si,{})]})})),Qi=t(46),Gi=t(32),Hi=t(1211),Ki=t(1212),Zi=t(1213),Xi=t.p+"static/media/phone.475df13c.svg";var Ji,$i=Object(E.b)((({className:e=""})=>{const n=(()=>{const e=Object(Ia.f)().values,n=(void 0===e?{}:e).event,t=void 0===n?{}:n,a=t.venue,r=void 0===a?{}:a,s=Hr()(t.startDate,As),i=Hr()(t.endDate,As),c=s.format("YYYY"),o=i.format("YYYY"),l=s.format("MMM"),d=i.format("MMM"),u=s.format("D"),p=i.format("D"),b=s.isSame(i,"month"),m=s.isSame(i,"month"),j=b?"".concat(l," ").concat(u,"-").concat(p,", ").concat(c):m?"".concat(l," ").concat(u," - ").concat(d," ").concat(p,", ").concat(c):"".concat(l," ").concat(u,", ").concat(c," - ").concat(d," ").concat(p,", ").concat(o);return{checkInTime:t.checkInTime||"",checkOutTime:t.checkOutTime||"",eventLocation:j,eventName:t.name||"",venueCity:r.city||"",venueDescription:r.description||"",eventDescription:t.description||"",venueName:r.name||"",venueState:r.state||"",venuePhone:r.phone||"",venueMap:t.venueMap}})(),t=n.eventName,r=n.venueCity,s=n.venueState,i=n.venueName,c=n.venuePhone,o=n.eventLocation,l=n.eventDescription,d=n.checkInTime,u=n.checkOutTime,p=n.venueMap;return Object(a.jsx)(ls,{className:"".concat(e," event-details-card"),children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"event-name",children:Object(Gi.a)(t)}),Object(a.jsxs)("div",{className:"event-date",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)(Hi.a,{})," ",r,", ",s," \u2022 ",i,p&&" \u2022 ",p&&Object(a.jsx)("a",{href:p.url,target:"_blank",className:"map-download",children:"Download Venue Map"})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)(Ki.a,{})," ",o]}),c&&Object(a.jsxs)("p",{children:[Object(a.jsx)("img",{src:Xi,alt:"phone icon",className:"phone-icon"})," ",Object(a.jsx)(Vi,{phone:c})]})]}),Object(a.jsx)("div",{className:"event-description",children:l}),Object(a.jsxs)("div",{className:"event-checkin-checkout-time",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Zi.a,{})," ",Object(a.jsx)("strong",{children:"Check in"})," after ".concat(Es(d))]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Zi.a,{})," ",Object(a.jsx)("strong",{children:"Check out"})," by ".concat(Es(u))]})]})]})})}))(Ui||(Ui=Object(k.a)(["\n  &&&.event-details-card {\n    ","\n    font-size: 16px;\n    color: ",";\n\n    .container {\n      padding: 0px;\n      ","\n      flex-direction: column;\n    }\n\n    .map-download {\n      font-size: 16px;\n      color: ",";\n      text-decoration: underline;\n    }\n\n    .event-name {\n      ","\n      font-size: 25px;\n    }\n\n    .event-date {\n      margin: 15px 0 20px;\n      ","\n      color: ",";\n      font-family: 'IBMPlexSans-Bold';\n      letter-spacing: 0.7px;\n\n      p {\n        font-family: 'IBMPlexSans-Bold';\n        margin: 0;\n      }\n      svg {\n        position: relative;\n        top: 8px;\n      }\n      .phone-icon {\n        top: 5px;\n        height: 20px;\n        margin-left: 2px;\n        position: relative;\n      }\n    }\n\n    .event-description {\n      margin: 0 0 20px 0;\n      ","\n    }\n\n    .event-checkin-checkout-time {\n      ","\n      flex-direction: column;\n      ","\n\n      svg {\n        color: ",";\n        position: relative;\n        top: 6px;\n      }\n      strong {\n        font-family: 'IBMPlexSans-Bold';\n      }\n      div {\n        ","\n      }\n      div:first-child {\n        ","\n      }\n    }\n  }\n"])),Fe,P.text.primary,Ke,P.text.darkBlue,Be,en("SMALL_TABLET_WIDTH","\n        margin: 25px 0;\n      "),P.text.lightGray2,en("SMALL_TABLET_WIDTH","\n        margin: 0 0 25px 0;\n      "),Ke,en("SMALL_TABLET_WIDTH","\n        flex-direction: row;\n        justify-context: flex-start;\n      "),P.primary,en("SMALL_TABLET_WIDTH","\n          padding-left: 50px;\n        "),en("SMALL_TABLET_WIDTH","\n          padding-left: 0px;\n        ")),ec=t(145);const nc=L()(Ji||(Ji=Object(k.a)(["\n  query StallProductAvailability($input: StallProductAvailabilityInputType) {\n    stallProductAvailability(input: $input) {\n      productId\n      available\n    }\n  }\n"])));var tc,ac=t(1214),rc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAmCAYAAACsyDmTAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJgAAAABQzrCcAAAEtklEQVRYCe1XXWgcVRS+Z3Y32RjS7G5TtQF/GoilFRFpUaqCVBRKam13NxaLguiDPyj+QBu6uwrFbjaNP2BVqr74JFQ0u9qktA9GsNagFfNS0TwUGgNWbNpkErWNu5mZ63cnO5M7uzPZjZuCQgaSe+53fubbc++59wwx6QnlMo+RwQ8yYt/cGrlzx1ebN2uSmoWz3RnMnyNiH07GUi/KuqWSFTkQyHRxxps551tPT5+6XdZt+OGDAOesC7omw+AvRI69vULWL5XsIAQyDVZgkAtashh/nfijjjHus7DA33mH3sJrHR2Eag22FP7LhCplkSK5zCbOjWdgGGScOrCPGoUTEZ3Anhm3AnBGfsZ51JpDPwD5ElOUfjWaOGzhtY6EUj6HymmtIZDBKNg2Fd89VkMM21WpkYwIpPh8hWvtiDUKy5u6UgL/cxnyg7GBv9qI6SRieD4t2e7VGvO141UhhRnjfIV/RL1/77Sbgx/1/QvKuc1NWS1WXxcYLbVFsYgjZRfuv5c0zjcyNndPm8yn9dlwNv0l8pBW48kh2ZfCfekBztgDMrg4mS5Mdaauln1aB95omSnk+0DqHhl3k4nR+203tjw/vPGpWaFXOCmn3AyrxYhxh//1R3vClwv5oWrIiHfgIH767NjFvn2cm9tGCSkN76L/maqWQKkdeqNuGfszr3+ELXCTjFWSQf7Bt3KZlLAj8Q+ndQKgaL4W9SDdR9TO1A7LKZLr2WIY+nFrbo9E5/GiI7iaRhnxW0A4hm3iaF/wwy77/IF2UWXsvlj7a4PZM+uRvkftIJUEouHGxoYnVMmOG/qz0nROJDbYSPTwuVhywtKtzPWu07l2VC4mbP6r9FntcTNDwlCs4cFc5j1k6knL0WtEZk6yZt82uXRv/umTut9GzkzhR9lNHvwn65X6dedje+xL2ooZzh24mxvaSWsuRlzY39qELEXLZz0bNN1IYjGj+AUOPRy+w63fo8YSA5CR9fnnmv7X1+QL+bPziPmCj9V4apeMyXKoLy3s19gYsXFzyWwAwsVoYhhDPGSeE+xeSyfWGME3iTmxpAXbo6bnV9mTogDGP5di8hwxR7BU84QYrar+hObOjMiBTZkURzYFhqXVy+wcQIkeK1I9IUegKzdZJlQpt/+jDJVv4gXJc8OthUENLfLxfAlKxj5ZRUxx4EU+f/M6r/jE+dpSXWmMUr3b3JMQana0zEHLP1SGFQGD8XKdWwyvAEXckxAnKrskORn7xZFfGhON2G4sToeM4wy6FAk2fS1j1chlh5nlZN5t2cyPWKr1FlYcDZywhxlXhpDFJixmh1vvg6vlEE728stWCoYuox++2yTIbSPOqfeR6JNpj2xclPEtxx7hzDiEL95eNzK4JVV/MLDfxbci5LlkwlPtTB7DhZCuGEU2IKb5mLLzwtau32W4WnlBQiLIZPzlV3BN7YVo9ucLBkZmfAptmYgnBhe0W0BZkZDwVWOpXgrQbdgX/VhGsxl3xEQLDN07wQZaOxFN4Wvi3z9l7YdXKHV76jR028NfHGimv/gdZBitSFkBBMfablj5vfXV4OXvinM2I+OozBnPKpMNr5QczmbuQpV+isJYLcjgx736D2WBmpE4BbaFAAAAAElFTkSuQmCC",sc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAmCAYAAACh1knUAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIqADAAQAAAABAAAAJgAAAAD3+geUAAACqUlEQVRYCe1XTWgTURCeeZuuJq2aNioEEYQKehG9CNKDRwuCP21z8SZ48OJvEatJUQ81FkTxoFQvpR68ZcUfBFEUvQgePIggCnpRG1BMrAYTbJIdZ0sD++O+3chuyCEvhLfz82a+fG/emw325rKnAOgMAUXBOuYB8NpcKjNqVYcjCQD97D9AGNlUBni89/HkinBSW6MKAlhqVVmlyLywM2V1CEhiRtpjdIDY96HDSIcROwN2uVMjdkYidoWbnLg/sYb+wDYQ/Al0KKXkhv6nGM9N8C3vPrqiahJrVapW4T33pFD6DgI88vXr6oTrwgJhUECIW31tTWFv+mVcO3+JkQ8CBbs1hFDh3b7oC4iBem4kc4In4xvK8KwRQJxhJsqhZOegXKAVoeC0NyNE+6XVHABCvQ5Dvoo1gFzSEEi0ui2A8KnJtwUQpuuN4EL8JeWtBUbGcFvwqXjbglyuKRBwNqquvGNszWtXr1YYhBjL7zpYFoLwCv+Rqrcipz0HIt74MXz6lqEXhVT6HSDN2J3ClhnE1Oa+gUONPAsXWk8ydvh3vryWL64dDUNYM9fETwQ6UBzJaM9MSRaO75eB0Uoitnw3CzfZppvsQT7qzMK9JYrYUkyNa/bAfHKsI5HLbtRRTzM7+7gReLcA63KHZFwPhGJaFZGr34ZOfnQ4LCocQBqOq+5eWF+t1R8ymP6GrqkZ8Stvw2Ulokx93zNW8lrrCsRYGNcmtwPVnnsFcdgRX3UjDs4OpwsOm4tCCoSIsE/LlvjtrNtlvUPNLHzC2LJNxZ1Hmrqxpb2Gi4tLhTxpNaPhBjbeLAhjvRSIOYGfZ+NoHlu8oPz4m30CBcKBX5xD/K/j7wmEqf5sRi57RoQnMrvM5glEIB7lXvRBFgQQalxPD7p61OtSP4nxL2qRpoZDcbEsAAAAAElFTkSuQmCC",ic="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAsCAYAAAAATWqyAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIqADAAQAAAABAAAALAAAAAC9Sh81AAADK0lEQVRYCe2YzU8TURDA32zLomAi0ChEPJiAhmiC6NGTHDyIPUBp5B/QgzEeNPEAGD8itDHcTDx4MjEmptqSRkVjYkRj4tdBiERFhMQLKoQP0UhgoTvOVB+BdXdba197kE22b9/MvJnfztu+nbcgXI4db27oo4MfIkKgX6DwuphKVd8ajyfwpan1oxSk22puhqODwy0CsTFNCHa1a940W918OulcQQBFpdNAF3kmY4QriEuwrKtcQRDEaAYRMxnjnpHKmuqIAIgLEItpAvUValo4TdsVZrCil6JTGuu8g4gHlpuBgJnpYHvJclkm165Tk4nDTMesglgzB6Wxjh5E0WBVZKFvAsAYrcojAuGWB8S1ieb2z05+oSTagU7KbMoBxCwKLbwvUB2+CQcTVt85e0Yo60UCzfMPYkPx8vtdxXkDkYEp/f7578ZV2ZdtzjIiA/5qMVAaDR1ZLssTCCOYpzfdvlwkYfIGQlNUMbswEVwCoaf5ruzkugWkguv38VfvGjkonXZvb693YPKZPyFMqvCEbj8Ghr8G27eyTtnUPKqvX5wMtsUp4wxie4DACqlQBiIDUAnhWJ/Qc7JO2qkHkZFStP8PCAjPYyqeftglhF6KPXbyVdlqBvKaAar+oSTW2c0nX1thcvb39XWHTtA+uolPXyx83AryB5nVIBv9snhou5nAVwRRmPQHMK95YPdUY9tb6V95Rs4iagRxZQmCIxMQy1gnQTzyQlXbv7PgGH3WOGTjv/L5+ydTc5GHL1indGrKu7s2GqYxhALX24BQcJjRNX3bWODk+FJq7Az/VWagccYJgn2zjm34WllGymIXNpu4MEIxHIoiDp88DA0KqtRlBBYOU5hUEEyiC7JVBoKmaE7ebxo/bKsMhOJXJRkAXtL8z6XgUTc1CPCJgxcDNNCCft0NhG2VZYQK4ygHp4rIX4B6mLIy4ATDtspA1uobzlEF/w5M82JCM+qmg6dqweuttcKwTdLWqshm3xcN1ZgCI7ReMMAUfRj8Rsv7FhmDFrTXmoAW2nYMKltHZDDeaPVPPj1Kd76ftg91LKeg/fSZ4l6db88l3v+w7CeuavgMQ2q0dwAAAABJRU5ErkJggg==";const cc=e=>{const n=e.quantity,t=void 0===n?1:n,a=e.reservationDuration,r=void 0===a?1:a,s=e.price;return e.nightly?t*s*r:t*s},oc=e=>{const n=null===e||void 0===e?void 0:e.split(",");if("0"===e||!e||!n)return"";let t="";switch(n.length){case 1:t="".concat(n[0]," amp");break;case 2:t="".concat(n[0]," & ").concat(n[1]," amp");break;default:n[n.length-1]="& ".concat(n[n.length-1]," amp"),t=n.join(", ")}return"Electric provided: ".concat(t.replace(", &"," &"))};var lc=Object(E.b)((({className:e,disabled:n=!1,description:t,header:r,id:s,label:i,nightly:c,onClick:o,power:l="0",price:d,startDate:u,endDate:p,unitPrice:b,productType:m,reservationDuration:j,quantity:h,selected:x=!1,sewer:O,subheader:g,water:v,availability:f})=>{const y=Object(a.jsxs)("div",{className:"".concat(e,"__product_amenities"),children:["0"!==l&&Object(a.jsxs)("span",{children:[Object(a.jsx)("img",{src:rc,alt:"electric"}),"Electric"]}),v&&Object(a.jsxs)("span",{children:[Object(a.jsx)("img",{src:ic,alt:"water"}),"Water"]}),O&&Object(a.jsxs)("span",{children:[Object(a.jsx)("img",{src:sc,alt:"sewer"}),"Sewer"]})]}),A=(({productType:e,nightly:n,reservationDuration:t,quantity:a,price:r})=>{const s="stalls"===e?"stall":"spot";return"".concat(t&&a?"for ".concat(a," ").concat(s).concat(a>1?"s":"",", "):"","$").concat(r.toString().indexOf(".")>0?r.toFixed(2):r," ").concat(n?"per night":"flat rate per ".concat(s))})({productType:m,nightly:c,reservationDuration:j,quantity:h,price:b,availability:f}).split(",");return Object(a.jsxs)("div",{className:"".concat(e," ").concat(e,"__product_container ").concat(x?"selected":""),children:[Object(a.jsxs)("div",{className:"".concat(e,"__product_container_left"),children:[Object(a.jsx)(xr,{label:r}),Object(a.jsxs)("span",{className:"".concat(e,"__product_description dates"),children:["Dates between ",Hr()(u).format("MM/DD/YY")," \u2013 ",Hr()(p).format("MM/DD/YY")]}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{className:"".concat(e,"__product_description"),children:[g," ",oc(l)]}),t&&Object(a.jsx)("br",{}),Object(a.jsx)("span",{className:"".concat(e,"__product_description_main"),children:t||""}),l||O||v?y:""]}),Object(a.jsxs)("div",{className:"".concat(e,"__product_container_right"),children:[Object(a.jsxs)("div",{className:"".concat(e,"__product_calculations"),children:[Object(a.jsxs)("span",{className:"".concat(e,"__product_price"),children:["$",d.toString().indexOf(".")>0?d.toFixed(2):d]}),Object(a.jsxs)("span",{className:"".concat(e,"__product_price_subtext"),children:[Object(a.jsx)("p",{children:A[0]}),Object(a.jsx)("p",{children:A[1]})]})]}),Object(a.jsx)("div",{className:"".concat(e,"__product_actions"),children:Object(a.jsx)(Yn,{disabled:n,onClick:o,secondary:!0,size:"large",variant:"contained","data-testid":"".concat(s,"-").concat(m,"-button"),children:i})})]})]})}))(tc||(tc=Object(k.a)(["\n  &__product_container {\n    display: grid;\n    align-items: center;\n    grid-gap: 10px;\n    grid-template-columns: 1fr 1fr;\n    padding: 15px;\n    background-color: ",";\n    border-radius: 3.5px;\n\n    &:not(:last-child) {\n      margin-bottom: 15px;\n    }\n\n    &.selected {\n      border: 3px solid ",";\n\n      .MuiButtonBase-root {\n        background-color: "," !important;\n        color: ",";\n      }\n    }\n\n    @media (max-width: 767px) {\n      grid-template-columns: 1fr;\n    }\n  }\n  &__product_container_left {\n    text-align: left;\n    border-bottom: solid 1px ",";\n    padding-bottom: 15px;\n    ","\n    @media (min-width: 768px) {\n      border-right: 1px solid ",";\n    }\n  }\n  &__product_description {\n    font-family: 'IBMPlexSans-Regular';\n    font-size: 16px;\n    letter-spacing: normal;\n    line-height: 25px;\n  }\n  &__product_amenities {\n    margin-top: 13px;\n    ","\n    ","\n\n    span {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: 16px;\n      letter-spacing: normal;\n      line-height: 25px;\n\n      img {\n        width: auto;\n        height: 18px;\n        margin-right: 5px;\n      }\n\n      &:not(:last-child) {\n        margin-right: 20px;\n      }\n    }\n  }\n  &__product_container_right &__product_calculations {\n    width: 50%;\n  }\n  &__product_container_right {\n    ","\n    flex-flow: row nowrap;\n    margin-top: 10px;\n\n    ","\n\n    button {\n      width: 135px !important;\n      height: 45px !important;\n      white-space: nowrap;\n\n      ","\n    }\n  }\n  &__product_price {\n    display: block;\n    color: ",";\n    font-family: 'IBMPlexSans-SemiBold';\n    font-size: 22px;\n    letter-spacing: 0.97px;\n    line-height: 25px;\n  }\n  &__product_price_subtext {\n    font-size: 12px;\n    letter-spacing: 0.53px;\n    line-height: 11px;\n\n    p:first-child {\n      margin-top: 5px !important;\n    }\n\n    p {\n      font-size: 12px !important;\n      line-height: 12px !important;\n      margin: 2px !important;\n    }\n  }\n"])),P.background.primary,P.border.tertiary,P.border.tertiary,P.white,P.border.primary,en("SMALL_TABLET_WIDTH","\n      border-bottom: unset;\n      padding-bottom: unset;\n    "),P.border.primary,Ke,en("SMALL_TABLET_WIDTH","\n      justify-content: flex-start;\n      align-items: center;\n    "),Ke,en("SMALL_TABLET_WIDTH","\n      justify-content: flex-end;\n      align-items: center;\n      text-align: right;\n      margin-top: unset;\n    "),en("SMALL_TABLET_WIDTH","\n        margin-left: 40px;\n      "),P.text.accent);const dc=(e,n)=>!!e&&Boolean(e&&Number(e)>("rvProduct"===n||"rvs"===n?Number(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,PIN_HOME_PAGE_EVENTS_LIST:!1,REACT_APP_API_URL:"http://localhost:5000",REACT_APP_API_REFRESH_THRESHOLD:"60",REACT_APP_VAPID_PUBLIC_KEY:"BB_IujYrLDb5aOeLb89dD2RU2Wsm2jVU1EKUR6a33VR_5kQqMirP2P38SdV-oFkMu12HtMs6wuLETdM3m9tp4LY",REACT_APP_GTM_CONTAINER_ID:"GTM-TQ5D9TZ"}).REACT_APP_MAX_RVS)||50:Number(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,PIN_HOME_PAGE_EVENTS_LIST:!1,REACT_APP_API_URL:"http://localhost:5000",REACT_APP_API_REFRESH_THRESHOLD:"60",REACT_APP_VAPID_PUBLIC_KEY:"BB_IujYrLDb5aOeLb89dD2RU2Wsm2jVU1EKUR6a33VR_5kQqMirP2P38SdV-oFkMu12HtMs6wuLETdM3m9tp4LY",REACT_APP_GTM_CONTAINER_ID:"GTM-TQ5D9TZ"}).REACT_APP_MAX_STALLS)||50)),uc=e=>Boolean(e&&Number(e)>(Number(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,PIN_HOME_PAGE_EVENTS_LIST:!1,REACT_APP_API_URL:"http://localhost:5000",REACT_APP_API_REFRESH_THRESHOLD:"60",REACT_APP_VAPID_PUBLIC_KEY:"BB_IujYrLDb5aOeLb89dD2RU2Wsm2jVU1EKUR6a33VR_5kQqMirP2P38SdV-oFkMu12HtMs6wuLETdM3m9tp4LY",REACT_APP_GTM_CONTAINER_ID:"GTM-TQ5D9TZ"}).REACT_APP_MAX_ADDONS)||150)),pc=(e,n)=>!!n&&(e&&!!n.rv_spot&&!!n.rv_spot.quantity||!e&&!!n.stalls&&!!n.stalls.quantity);var bc,mc;const jc=Object(E.b)((e=>{const n=e.className,t=void 0===n?"":n,s=e.startDate,i=e.endDate,c=e.quantity,o=e.items,l=e.productAvailability,d=e.productId,u=e.productType,p=e.title,b=e.loading,m=e.noLayout,j=e.reservationEdit,h=e.allowBackDateQuery,x="stalls"===u,O=Object(Ia.f)().setFieldValue,g=Object(r.useState)(d||null),v=Object(w.a)(g,2),f=v[0],y=v[1],A=Object(r.useMemo)((()=>Is({eventStartDate:s,eventEndDate:i})),[s,i]),N=Object(w.a)(A,1)[0],S=Object(r.useCallback)((e=>{if(l.length){const n=l.find((({productId:n})=>n===e));return n?n.available:0}return 0}),[l]),I=Object(r.useCallback)((e=>{if(!c||!s||!i)return!1;const n=S(e);return n>=Number(c)&&0!==n}),[c,s,i,S]),C=Object(r.useCallback)(((e,n)=>c&&s&&i&&0!==l.length?n?"N/A":I(e)?"SELECT":0===S(e)?"SOLD OUT":"ONLY ".concat(S(e)," LEFT"):"SELECT"),[c,s,i,l,S]),D=Object(r.useCallback)(I(f||""),[I,f]);Object(r.useEffect)((()=>{l.length>0&&f&&!D&&!j&&y(null)}),[D,c,s,i,f]),Object(r.useEffect)((()=>{c&&!dc(c,u)||j?y(d):y(null)}),[c,d]),Object(r.useEffect)((()=>{O(x?"stallProductId":"rvProductId",f)}),[f]),Object(r.useEffect)((()=>{!f||D||j||y(null)}),[D]);const k=o.map((({id:e,header:n,key:r,power:o,price:l,sewer:d,subheader:p,water:b,nightly:m,startDate:x,endDate:O,description:g},v)=>{const A=(e=>{const n=ws.range(ws(e.start,As),ws(e.end,As));return n.contains(ws(e.selected.start,As))&&n.contains(ws(e.selected.end,As))})({start:h||j&&Hr()(s).isBefore(Hr()())?Hr()(x).subtract("1","days").format("YYYY-MM-DD"):x,end:O,selected:{start:s,end:i}});return Object(a.jsx)(lc,{startDate:x,endDate:O,id:"product-row-".concat(v),className:t,disabled:dc(c,u)||!I(e)||!A,header:n,label:f===e?Object(a.jsxs)("div",{className:"selected-item","data-testid":"selected-item".concat(v),children:[Object(a.jsx)(ac.a,{}),Object(a.jsx)("span",{children:"Selected"})]}):C(e,!A),onClick:()=>{y(e)},power:o,availability:S(e),price:s&&i&&c&&A&&c<=S(e)?cc({quantity:c,reservationDuration:N.length,price:l,nightly:m}):l,unitPrice:l,reservationDuration:N.length,quantity:A?c:0,selected:f===e,sewer:d,subheader:p,water:b,nightly:m,productType:u,description:g},"product-row-".concat(r))}));return m?Object(a.jsxs)("div",{className:"".concat(t,"__products_container"),"data-testid":"".concat(u,"_reservation_type"),children:[b&&Object(a.jsx)("div",{className:"".concat(t,"__products_container_overlay"),children:Object(a.jsx)(B,{})}),Object(a.jsx)("div",{className:"".concat(t,"__products_grid"),children:k})]}):Object(a.jsxs)("div",{className:"".concat(t,"__products_container"),"data-testid":"".concat(u,"_reservation_type"),children:[b&&Object(a.jsx)("div",{className:"".concat(t,"__products_container_overlay"),children:Object(a.jsx)(B,{})}),Object(a.jsxs)(ls,{className:t,children:[Object(a.jsxs)("div",{className:"".concat(t,"__card_headline_wrapper"),children:[Object(a.jsx)(hc,{label:p}),Object(a.jsx)("strong",{className:"".concat(t,"__required_text"),children:"(Required)"})]}),Object(a.jsx)("div",{className:"".concat(t,"__products_grid"),children:k})]})]})}))(bc||(bc=Object(k.a)(["\n  &__products_container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    margin-bottom: 20px;\n    .selected-item {\n      position: relative;\n      top: -2px;\n      margin: 0;\n      padding: 0;\n      svg {\n        top: 5px;\n        position: relative;\n      }\n    }\n  }\n  &__products_container_overlay {\n    background-color: rgba(255, 255, 255, 0.7);\n    position: absolute;\n    text-align: center;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 10;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  &__card_headline_wrapper {\n    margin: 0 0 15px 0;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: baseline;\n    ","\n  }\n  &__required_text {\n    ","\n    font-size: 16px;\n    letter-spacing: 0.7px;\n    margin: 0 0 0 5px;\n    color: ",";\n  }\n"])),en("SMALL_TABLET_WIDTH","\n      flex-direction: row;\n    "),qe,P.text.lightGray2),hc=Object(E.b)(ur)(mc||(mc=Object(k.a)(["\n  margin: 0;\n  font-size: 25px !important;\n  letter-spacing: 1.1px !important;\n  line-height: 25px !important;\n"])));var xc=jc;var Oc=e=>{const n=e.className,t=void 0===n?"":n,s=e.noLayout,i=e.reservationEdit,c=e.allowBackDateQuery,o=e.handleProductAvailability,l=e.loadingHandler,d=Object(Ia.f)().values,u=d.stalls,p=u.end,b=u.start,m=u.quantity,h=d.event,x=h.id,O=h.stallProducts,g=d.stallProductId,v=Object(r.useState)([]),f=Object(w.a)(v,2),y=f[0],A=f[1],N=b?Hr()(b).format(As):null,S=p?Hr()(p).format(As):null,I=Object(_.a)(nc,{fetchPolicy:"network-only"}),C=Object(w.a)(I,2),D=C[0],k=C[1],E=k.loading,R=k.data;Object(r.useEffect)((()=>{N&&S&&x&&D({variables:{input:{eventId:x,startDate:N,endDate:S}}})}),[N,S,x]),Object(r.useEffect)((()=>{l&&l(E),!E&&R&&R.stallProductAvailability?(A(R.stallProductAvailability),o&&o(R.stallProductAvailability)):(A([]),o&&o([]))}),[R,null===R||void 0===R?void 0:R.stallProductAvailability,E]);const T=Object(r.useMemo)((()=>((e=[])=>e.map((e=>{const n=e.name,t=e.id,a=e.nightly,r=e.price,s=e.description;return Object(j.a)(Object(j.a)({},e),{},{header:n,id:t,key:"product-".concat(t),nightly:a,price:r,subheader:s,description:s})})))(O)),[JSON.stringify(O)]);return Object(a.jsx)(xc,{allowBackDateQuery:c,className:t,endDate:S,items:T,productAvailability:Object(ec.cloneDeep)(y),productId:g,productType:"stalls",quantity:m,reservationEdit:i,startDate:N,title:"Stall Reservation Type",loading:E,noLayout:s})},gc=t(1148),vc=t(398),fc=t(597);const yc={root:{cursor:"text",width:"100%",backgroundColor:"".concat(P.background.primary),color:"".concat(P.text.primary),fontFamily:"IBMPlexSans-Regular !important",fontSize:"15px",height:"100%",lineHeight:"25px",letterSpacing:"0",paddingTop:"22px",paddingLeft:"12px"}},Ac={placeholder:"",style:{base:{color:"".concat(P.text.primary),fontFamily:"IBM Plex Sans",fontSize:"15px",lineHeight:"25px",letterSpacing:"0"}}};var wc=Object(zt.a)(yc,{withTheme:!0})((function(e){const n=e.classes,t=e.component,i=e.onFocus,c=e.onBlur,o=e.onChange,l=e.inputRef,d=Object(r.useState)(null),u=Object(w.a)(d,2),p=u[0],b=u[1];return s.a.useImperativeHandle(l,(()=>({focus:()=>p.focus()})),[p]),Object(a.jsx)(t,{onReady:b,className:n.root,onFocus:i,onBlur:c,onChange:o,options:Ac})}));const Nc={root:{color:"".concat(P.text.secondary),fontFamily:"IBMPlexSans-Regular",fontSize:"15px",lineHeight:"24px",marginBottom:"5px","& ~ div.MuiInput-formControl":{marginTop:"0 !important"}}},Sc={root:{borderRadius:"5px 5px 0 0",boxSizing:"content-box",marginBottom:"5px",marginTop:"10px",height:"56px",'& label[class*="MuiInputLabel-root"]':{color:"".concat(P.text.secondary)}}},Ic=Object(zt.a)(Nc,{withTheme:!0})(vc.a),Cc=Object(zt.a)({root:{height:"54px"}},{withTheme:!0})(fc.a),Dc=Object(zt.a)(Sc,{withTheme:!0})(Sa.a);class kc extends r.PureComponent{constructor(...e){super(...e),this.state={focused:!1,empty:!0,error:!1,value:""},this.handleBlur=()=>{this.setState({focused:!1})},this.handleFocus=()=>{this.setState({focused:!0})},this.handleChange=e=>{this.setState({error:e.error,empty:e.empty}),this.props.changeCallback&&this.props.changeCallback()}}render(){const e=this.props,n=e.component,t=e.label,r=this.state,s=r.focused,i=r.empty,c=r.error,o={color:"".concat(P.error.primary),fontFamily:"IBMPlexSans-Regular",fontSize:"12px",paddingLeft:"12px",textTransform:"uppercase"},l="invalid_expiry_year_past";return Object(a.jsxs)("div",{style:{textAlign:"left"},children:[Object(a.jsxs)(Dc,{fullWidth:!0,margin:"normal",children:[Object(a.jsx)(Ic,{focused:s,shrink:s||!i,error:!!c,variant:"filled",children:t}),Object(a.jsx)(Cc,{fullWidth:!0,error:!!c,inputComponent:wc,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,inputProps:{component:n},value:this.state.value})]}),c&&c.code!==l&&Object(a.jsx)("span",{style:o,children:c.message}),c&&c.code===l&&Object(a.jsx)("span",{style:o,children:"PAST EXPIRY YEAR"})]})}}kc.displayName="StripeElementWrapper";var _c,Ec=t(262),Rc=t.n(Ec);var Tc,Pc=Object(E.b)((e=>{const n=e.cards,t=e.setSelectedCard,s=e.className,i=e.setNewCard,c=e.newCard,o=e.cardValue,l=Object(r.useState)(!1),d=Object(w.a)(l,2),u=d[0],p=d[1],b=Object(r.useState)(0),m=Object(w.a)(b,2),j=m[0],h=m[1],x=n.length+1,O=(e,n,a)=>{t(e,n,a),i(!1),p(!1)},g=()=>{i(!0),t(null),p(!1)};return Object(a.jsxs)("div",{role:"button",className:"".concat(s,"__select-card-container"),children:[Object(a.jsx)(Hn,{label:"SELECT CARD",type:"text",className:"".concat(s,"__select-card-field"),variant:"filled",value:o?"**** **** **** ".concat(o):c?"ADD NEW CARD":"",onBlur:()=>{setTimeout((()=>p(!1)),200)},onFocus:()=>p(!0),onKeyDown:e=>{switch(e.key){case"Tab":case"ArrowDown":return e.preventDefault(),h(0===j||j===x?1:j+1);case"ArrowUp":return e.preventDefault(),h(0===j||1===j?x:j-1);case"Enter":if(e.preventDefault(),0===j)return;if(1===j)return g();{const e=n[j-2||0]||{};return void(e.last4&&O(e.last4,e.brand,e.country))}default:return h(0)}},InputProps:{endAdornment:Object(a.jsx)("div",{onClick:()=>p(!u),children:Object(a.jsx)(Rc.a,{style:{fill:"".concat(P.button.primary.active)}})})}}),Object(a.jsxs)("div",{className:"".concat(s,"__cards-container"),children:[u&&Object(a.jsx)("div",{role:"button",tabIndex:"0",className:"".concat(s,"__card-field ").concat(j-1===0?"active":""),onKeyPress:g,onClick:g,children:"ADD A NEW CARD"}),u&&n.map(((e,n)=>Object(a.jsxs)("div",{role:"button",tabIndex:"0",className:"".concat(s,"__card-field ").concat(j-2===n?"active":""),onKeyPress:()=>O(e.last4,e.brand,e.country),onClick:()=>O(e.last4,e.brand,e.country),children:["**** **** **** ",e.last4]},e.id)))]})]})}))(_c||(_c=Object(k.a)(["\n  &__select-card-container {\n    position: relative;\n    width: 100%;\n    &:hover {\n      cursor: pointer;\n    }\n\n    @media (max-width: 424px) {\n      max-width: 100%;\n    }\n  }\n\n  &__select-card-field {\n    &&& {\n      input {\n        font-family: 'IBMPlexSans-Regular';\n        &:hover {\n          cursor: pointer;\n        }\n      }\n      svg {\n        &:hover {\n          cursor: pointer;\n        }\n      }\n    }\n  }\n\n  &__cards-container {\n    position: absolute;\n    top: 75px;\n    width: 100%;\n    z-index: 2;\n    max-height: 300px;\n    overflow: auto;\n\n    @media (max-width: 424px) {\n      max-width: 100%;\n    }\n  }\n\n  &__card-field {\n    background-color: ",";\n    font-family: 'IBMPlexSans-Regular';\n    height: 56px;\n    padding: 20px;\n    width: 100%;\n    text-align: left;\n    :hover,\n    &.active {\n      background-color: ",";\n    }\n  }\n\n  div.MuiPaper-root {\n    display: none;\n  }\n"])),P.background.primary,P.primary);const Mc=L()(Tc||(Tc=Object(k.a)(["\n  query LocalUserFromToken($email: String, $venueId: String) {\n    user(email: $email, venueId: $venueId) {\n      payload {\n        savedCreditCards {\n          id\n          last4\n          fingerprint\n          name\n          country\n        }\n      }\n      error\n    }\n  }\n"])));var Bc;const Fc=L()(Bc||(Bc=Object(k.a)(["\n  query OrderCreateCosts($input: OrderCostsInput) {\n    orderCosts(input: $input) {\n      orderItemsCostsWithDetails {\n        xProductId\n        xRefTypeId\n        quantity\n        orderItemCost\n        startDate\n        endDate\n        discount\n        discountStartDate\n        discountEndDate\n      }\n      serviceFee\n      stripeFee\n      subtotal\n      total\n      discount\n    }\n  }\n"])));var Lc;var qc,zc=Object(E.b)((function({className:e,user:n,newCard:t,setNewCard:s}){var i,c;const o=Object(Ia.f)(),l=o.values,d=o.setFieldValue,u=Object(r.useState)(Number(l.ccChange||0)),p=Object(w.a)(u,2),b=p[0],m=p[1],j=()=>m(b+1),h=Object(r.useContext)(g).user,x=(null===h||void 0===h?void 0:h.role.name)===le.RENTER,O=Object(_.c)(Mc,{variables:{email:l.renterInformation.email,venueId:null===(i=l.event)||void 0===i||null===(c=i.venue)||void 0===c?void 0:c.id},skip:!x,fetchPolicy:"network-only"}),v=O.data,f=O.loading,y=xs(l),A=Object(_.c)(Fc,{variables:{input:{selectedOrderItems:y,useCard:!1,isNonUSCard:!1}},fetchPolicy:"network-only"}),N=A.data,S=A.loading,I=N&&N.orderCosts,C=I||{},D=C.total,k=C.discount;return Object(r.useEffect)((()=>{var e;x&&(n.savedCreditCards=null===v||void 0===v||null===(e=v.user)||void 0===e?void 0:e.payload.savedCreditCards),d("ccChange",b)}),[b,v,f]),f||S?Object(a.jsx)(B,{}):Object(a.jsxs)("div",{className:"".concat(e,"__payment-info-container"),children:[0===D&&k>0&&Object(a.jsx)("div",{className:"".concat(e,"__no-payment-required"),children:"No payment required..."}),n.savedCreditCards&&n.savedCreditCards.length>0&&!(0===D&&k>0)&&Object(a.jsx)(Pc,{cards:n.savedCreditCards,setSelectedCard:(e,n,t)=>{d("ccInformation.selectedCard",e),d("ccInformation.selectedCardBrand",n),d("ccInformation.country",t)},setNewCard:s,newCard:t,cardValue:l.ccInformation.selectedCard}),(n.savedCreditCards&&!n.savedCreditCards.length||!n.savedCreditCards||t)&&!(0===D&&k>0)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"".concat(e,"__card-details-header"),children:[Object(a.jsx)("span",{children:"Card Details"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:{fontFamily:"IBMPlexSans-Regular",fontSize:"16px"},children:"Save Card?"}),Object(a.jsx)(gc.a,{size:"small",className:"".concat(e,"__switch"),onChange:e=>d("ccInformation.saveCard",e.target.checked)})]})]}),Object(a.jsxs)("div",{className:"".concat(e,"__card-name-container"),children:[Object(a.jsx)("div",{className:"".concat(e,"__number-container"),children:Object(a.jsx)(kc,{label:"CARD NUMBER",component:Qi.CardNumberElement,changeCallback:()=>j()})}),Object(a.jsx)(Ia.a,{component:Zn,name:"ccInformation.nameOnCard",label:"NAME ON CARD",type:"text",className:"".concat(e,"__name-field"),variant:"filled"})]}),Object(a.jsxs)("div",{className:"".concat(e,"__exp-cvc-zip-container"),children:[Object(a.jsx)("div",{className:"".concat(e,"__exp-container"),children:Object(a.jsx)(kc,{label:"EXP DATE",component:Qi.CardExpiryElement,changeCallback:()=>j()})}),Object(a.jsx)("div",{className:"".concat(e,"__cvc-container"),children:Object(a.jsx)(kc,{label:"CVV",component:Qi.CardCvcElement,changeCallback:()=>j()})}),Object(a.jsx)(Ia.a,{component:Zn,name:"ccInformation.zipCode",label:"ZIP CODE",type:"text",className:"".concat(e,"__zip-field"),variant:"filled"})]})]})]})}))(Lc||(Lc=Object(k.a)(["\n  &__payment-info-container {\n    @media screen and (min-width: 900px) {\n      width: 100%;\n    }\n    p.Mui-error {\n      bottom: -1.7rem;\n      color: ",";\n      font-size: 12px;\n      margin-left: 0;\n      padding-left: 12px;\n      position: absolute;\n      white-space: nowrap;\n    }\n  }\n\n  &__switch {\n    .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n      opacity: 1;\n    }\n    .MuiSwitch-thumb {\n      color: ",";\n    }\n  }\n\n  &__card-name-container {\n    display: flex;\n    @media screen and (max-width: 768px) {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n  }\n\n  &__number-container {\n    width: 358px;\n    @media screen and (max-width: 768px) {\n      width: 100%;\n    }\n  }\n\n  &__exp-cvc-zip-container {\n    display: flex;\n    margin-top: -12px;\n    justify-content: start;\n    @media screen and (max-width: 768px) {\n      justify-content: space-between;\n    }\n  }\n\n  &__exp-container {\n    width: 120px;\n    @media screen and (max-width: 768px) {\n      width: 107px;\n    }\n  }\n\n  &__cvc-container {\n    margin: 0 25px;\n    width: 94px;\n    @media screen and (max-width: 768px) {\n      margin: 0 15px;\n    }\n  }\n\n  &__name-field {\n    &&& {\n      margin-top: 10px;\n      margin-left: 25px;\n      @media screen and (max-width: 768px) {\n        width: 100%;\n        margin-left: 0;\n      }\n    }\n    input {\n      color: ",";\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 15px;\n      text-transform: uppercase;\n    }\n    height: 57px;\n    padding: 10px 5px 0 15px;\n    width: 50%;\n    @media screen and (max-width: 768px) {\n      width: 325px;\n    }\n  }\n\n  &__zip-field {\n    &&& {\n      margin-top: 10px;\n      height: 56px;\n      input {\n        color: ",";\n        font-family: 'IBMPlexSans-Regular';\n        font-size: 15px;\n      }\n      .MuiFilledInput-input {\n        padding-top: 25px;\n        height: 100%;\n      }\n    }\n    height: 57px;\n    width: 94px;\n  }\n\n  &__card-details-header {\n    display: flex;\n    font-family: 'IBMPlexSans-SemiBold';\n    justify-content: space-between;\n    margin-top: 15px;\n    span {\n      color: ",";\n      font-size: 18px;\n    }\n  }\n\n  &__no-payment-required {\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 25px;\n    color: #11181f;\n    text-align: left;\n  }\n"])),P.error.primary,P.button.primary.active,P.white,P.text.primary,P.text.primary,P.text.primary);var Yc,Vc=Object(E.b)((function(e){const n=Object(r.useState)(!1),t=Object(w.a)(n,2),s=t[0],i=t[1],c=e.className;return Object(a.jsx)(ls,{dataTestId:"renter_payment_details",children:Object(a.jsxs)("div",{className:"".concat(c,"__containerDiv"),children:[Object(a.jsx)("div",{className:"".concat(c,"__headerDiv"),children:Object(a.jsx)(ur,{label:"Payment Details"})}),Object(a.jsx)(zc,Object(j.a)(Object(j.a)({},e),{},{setNewCard:i,newCard:s}))]})})}))(qc||(qc=Object(k.a)(["\n  &__containerDiv {\n    text-align: center;\n  }\n\n  &__headerDiv {\n    text-align: left;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n"]))),Uc=(t(1013),t(574)),Wc=t.n(Uc),Qc=t(575),Gc=t.n(Qc);const Hc=E.b.div(Yc||(Yc=Object(k.a)(["\n  &&& {\n    top: ",";\n    right: ",";\n  }\n"])),(e=>e.top?e.top+"px":0),(e=>e.right?e.right+"px":0));var Kc,Zc,Xc=({increment:e,decrement:n,top:t,right:r,plus:s,minus:i})=>Object(a.jsxs)(Hc,{className:"quantity-incrementer-wrapper",top:t,right:r,children:[Object(a.jsx)(et.a,{onClick:e,"data-testid":s||"increase-qty",children:Object(a.jsx)(Wc.a,{fontSize:"small",viewBox:"6 6 12 12"})}),Object(a.jsx)(et.a,{onClick:n,"data-testid":i||"decrease-qty",children:Object(a.jsx)(Gc.a,{fontSize:"small",viewBox:"6 6 12 12"})})]});const Jc=Object(E.a)(Kc||(Kc=Object(k.a)(["\n  display: -webkit-box; /* OLD - iOS 6-, Safari 3.1-6, BB7 */\n  display: -ms-flexbox; /* TWEENER - IE 10 */\n  display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */\n  display: flex; /* NEW, Spec - Firefox, Chrome, Opera */\n"])));var $c=Object(E.b)((e=>{const n=e.className,t=e.disabled,s=e.error,i=e.id,c=e.label,o=e.onBlur,l=e.onChange,d=e.onValueChange,u=e.value,p=e.handleKeyPress,b="".concat(i||"","-additive-input-container"),m="".concat(i||"","-additive-input-minus"),j="".concat(i||"","-additive-input-field"),h="".concat(i||"","-additive-input-plus"),x=Object(r.useState)(0),O=Object(w.a)(x,2),g=O[0],v=O[1],f=Object(r.useState)(0),y=Object(w.a)(f,2),A=y[0],N=y[1];Object(r.useEffect)((()=>{u>-1&&v(Number(u))}),[u]),Object(r.useEffect)((()=>{N(s)}),[s]);return Object(a.jsx)("div",{"data-testid":b,className:n,children:Object(a.jsxs)("div",{className:"".concat(n,"__quantity-field-wrapper"),children:[Object(a.jsx)(Xc,{increment:()=>{const e=Number(g)+1;v(e),d(e),s||N(null)},decrement:()=>{if(g>0){const e=Number(g)-1;return d(e),0!==e&&v(e),void(s||N(null))}},top:28,right:13,plus:h,minus:m}),Object(a.jsx)(Hn,{"data-testid":j,onKeyDown:p,type:"number",error:Boolean(A),helperText:!!A&&A,label:c,autoComplete:c,variant:"filled",disabled:t,onBlur:o,onChange:l,value:g>-1?g:0})]})})}))(Zc||(Zc=Object(k.a)(["\n  ","\n  flex-direction: column;\n  min-width: 220px;\n  p.Mui-error {\n    position: absolute;\n    top: 58px;\n    left: -60px;\n    width: 220px;\n    text-align: center;\n  }\n  .MuiIconButton-root:hover {\n    background: none;\n  }\n  svg {\n    fill: #2875c3;\n  }\n  .Mui-disabled {\n    svg {\n      fill: #c8d6e5;\n    }\n  }\n  input[type='number'] {\n    font-family: 'IBMPlexSans-Regular';\n    padding: 27px 12px 10px;\n    &::placeholder {\n      font-family: 'IBMPlexSans-Regular';\n    }\n    &::-webkit-inner-spin-button,\n    ::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n  }\n  &&&& {\n    display: flex;\n    flex-direction: row;\n  }\n  &__quantity-field-wrapper {\n    position: relative;\n  }\n"])),Jc);var eo=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",no=t(1243),to=t(223),ao=t.n(to);t(1014);var ro=({isOpen:e,handleClose:n,onCancel:t,onContinue:r,header:s,text:i,continueLabel:c,cancelLabel:o="CANCEL"})=>Object(a.jsx)(no.a,{open:e,onClose:n,disableAutoFocus:!0,disableRestoreFocus:!0,"aria-labelledby":"previous-date-selected","aria-describedby":"back-date-warning",children:Object(a.jsxs)(De.a,{className:"back-date-modal-card","data-testid":"back-date-modal",children:[Object(a.jsxs)("div",{className:"header-container",children:[Object(a.jsx)(ao.a,{}),Object(a.jsx)(jr,{label:s})]}),Object(a.jsx)("p",{children:i}),Object(a.jsx)("div",{className:"buttons-wrapper",children:Object(a.jsxs)("span",{children:[o&&t&&Object(a.jsx)(_n.a,{variant:"contained","data-testid":"back-date-modal-cancel",onClick:t,children:o}),Object(a.jsx)(_n.a,{variant:"contained","data-testid":"back-date-modal-continue",onClick:r,children:c})]})})]})});const so={backgroundColor:"#f7e569",width:"fit-content",borderRadius:"10px",lineHeight:"65%",height:"15px",marginLeft:"12px",marginTop:"3px",padding:"5px",fontSize:"11px",verticalAlign:"center"};var io,co=()=>Object(a.jsx)("div",{style:so,children:"UPDATED"});const oo=e=>e.map((e=>Object(j.a)({quantity:e.quantity},e.addOnProduct)));var lo,uo=Object(E.b)((e=>{var n,t;let i=e.className,c=Object(kn.a)(e,["className"]);const o=Object(Ia.f)(),l=o.values,d=o.errors,u=o.setFieldValue,p=o.setFieldError,b=l.event,m=l.reservationEdit,j=null!==(n=c.addOnProducts)&&void 0!==n&&n.length?oo(c.addOnProducts):b.addOnProducts,h=[...null!==(t=c.addOnProducts)&&void 0!==t&&t.length?((e,n)=>{const t=e.map((e=>e.id));return n.filter((e=>!t.includes(e.id)))})(oo(c.addOnProducts),b.addOnProducts):[],...j];Object(r.useEffect)((()=>{h.length&&(m?h.forEach((e=>{u("addOns.".concat(e.id),c.currentAddOns[e.id])})):h.forEach((e=>{u("addOns.".concat(e.id),e.quantity)})))}),[JSON.stringify(h)]),Object(r.useEffect)((()=>{if(l.addOns)for(let e in l.addOns){const n=l.addOns[e],t="addOns.".concat(e);uc(n)&&!d[t]&&p(t,"Maximum exceeded")}}),[l.addOns,d]);const g=xs(l).length;return fs(b)?Object(a.jsx)("p",{className:i,children:"Select event to see available items"}):0===h.length?Object(a.jsx)("p",{className:i,children:"No add ons available for this event"}):Object(a.jsx)("div",{className:"".concat(i," ").concat(i,"__flex-checkout-container"),children:h.map((({id:e,addOn:n,price:t,quantity:o})=>{const d=Object(r.useState)(!1),p=Object(w.a)(d,2),b=p[0],j=p[1],h=(e=>"addOns.".concat(e))(e),v=o!==l.addOns[e];return Object(a.jsxs)(s.a.Fragment,{children:[l.reservationEdit&&Object(a.jsx)(ro,{isOpen:b,onCancel:()=>{j(!1)},handleClose:()=>{j(!1)},continueLabel:"DELETE",cancelLabel:"GO BACK",header:"ARE YOU SURE?",text:"Are you sure you would like to delete ".concat(g>1?"all of this addon":"your entire reservation","?"),onContinue:Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===g?(j(!1),c.toggleDeleteModalVisibility()):(u(h,0),j(!1));case 1:case"end":return e.stop()}}),e)})))}),Object(a.jsxs)("div",{className:"".concat(i,"__add-on-row"),children:[Object(a.jsxs)("div",{className:"".concat(i,"__label-description-container"),children:[Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(a.jsx)("div",{className:"".concat(i,"__add-on-label"),children:eo(n.name)}),v&&m&&Object(a.jsx)(co,{})]}),Object(a.jsx)("p",{children:eo(n.description)})]}),Object(a.jsxs)("div",{className:"".concat(i,"__price-input-container"),children:[Object(a.jsxs)("div",{className:"".concat(i,"__price-container"),children:[Object(a.jsxs)("span",{className:"".concat(i,"__add-on-price"),children:["$",t%1!=0?t.toFixed(2):t]}),Object(a.jsxs)("span",{className:"".concat(i,"__units"),children:["per ".concat(n.unitName),!n.unitName.match(/s$/)>1?"s":""]})]}),Object(a.jsx)("div",{className:"".concat(i,"__addOn-number-field"),children:Object(a.jsx)(Ia.a,{defaultValue:n.quantity||0,name:h,children:({meta:t})=>Object(a.jsx)($c,{handleKeyPress:e=>{8===e.keyCode&&0===e.target.value&&(m?j(!0):u(h,0))},reservationEdit:m,className:"".concat(i,"__addOn-additive-input"),label:"# OF ".concat(n.unitName.toUpperCase(),"S"),id:h,error:t.error,onValueChange:function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n||!m){e.next=4;break}j(!0),e.next=6;break;case 4:return e.next=6,u(h,n);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onChange:function(){var e=Object(O.a)(x.a.mark((function e(n){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Number(n.target.value)<151)){e.next=12;break}if(t=Number(n.target.value.replace(/[^0-9, ^/.]/g,"")),a=Math.trunc(t),0!=n.target.value&&""!=n.target.value){e.next=7;break}j(!0),e.next=10;break;case 7:if(!a){e.next=10;break}return e.next=10,u(h,a);case 10:e.next=14;break;case 12:return e.next=14,u(h,150);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),value:l.addOns[e]||t.value,maximumValue:o})})})]})]})]},e)}))})}))(io||(io=Object(k.a)(["\n  &__flex-checkout-container {\n    ","\n    flex-direction: column;\n\n    @media screen and (max-width: 768px) {\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: flex-start;\n      align-self: flex-start;\n      margin: 20px 0 0 0;\n    }\n  }\n\n  &__add-on-row {\n    margin-top: 25px;\n    ","\n    flex-flow: row wrap;\n    justify-content: space-between;\n    border-bottom: solid 1px ",";\n    padding-bottom: 25px;\n    ","\n\n    @media screen and (max-width: 500px) {\n      max-width: 100%;\n    }\n  }\n\n  &__add-on-row:last-child {\n    border-bottom: unset;\n  }\n\n  &__addOn-number-field {\n    width: 220px;\n    @media screen and (max-width: 768px) {\n      width: 50%;\n    }\n  }\n\n  &__addOn-additive-input {\n    @media screen and (max-width: 500px) {\n      margin-left: -15px;\n    }\n  }\n\n  &__add-on-label {\n    color: #11181f;\n    font-size: 18px;\n    font-family: 'IBMPlexSans-SemiBold';\n  }\n\n  &__label-description-container {\n    width: 314px;\n    @media screen and (max-width: 768px) {\n      padding-bottom: 25px;\n      margin-top: 25px;\n      width: 100%;\n    }\n  }\n\n  &__add-on-price {\n    color: #10ac84;\n    font-family: 'IBMPlexSans-SemiBold';\n    font-size: 22px;\n    font-weight: bold;\n    height: 25px;\n    letter-spacing: 0.97px;\n    line-height: 25px;\n    @media screen and (max-width: 768px) {\n      margin-right: 5px;\n      width: auto;\n    }\n  }\n\n  &__price-container {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 75px;\n    padding: 0 60px;\n    margin: 0 25px;\n    width: 176px;\n    @media screen and (max-width: 768px) {\n      border: none;\n      flex-direction: row;\n      justify-content: flex-start;\n      align-items: center;\n      padding: 0 10px;\n      margin: 0 auto;\n    }\n  }\n\n  &__units {\n    ","\n    white-space: nowrap;\n  }\n\n  &__price-input-container {\n    display: flex;\n    align-items: center;\n    @media screen and (max-width: 768px) {\n      border-bottom: 1px solid #c8d6e5;\n      max-width: 100%;\n    }\n  }\n"])),Ke,Ke,P.text.lightGray,en("SMALL_TABLET_WIDTH","\n      flex-flow: row nowrap;\n    "),Fe);var po=Object(E.b)((e=>{const n=e.className;return Object(a.jsxs)(ls,{className:n,dataTestId:"renter_addons",children:[Object(a.jsxs)("div",{className:"".concat(n," heading-container"),children:[Object(a.jsx)(ur,{label:"Add Ons"}),Object(a.jsx)("span",{className:"".concat(n," optional-text"),children:"(Optional)"})]}),Object(a.jsx)(uo,Object(j.a)({},e))]})}))(lo||(lo=Object(k.a)(["\n  & {\n    .optional-text {\n      color: ",";\n      ","\n      margin: 0 0 0 5px;\n    }\n\n    .heading-container {\n      align-items: baseline;\n      display: flex;\n    }\n  }\n"])),P.text.lightGray2,Le);var bo,mo=()=>{const e=Object(Ia.f)().values;return Object(a.jsx)(Ia.a,{id:"special-request-field",component:Zn,label:"SPECIAL REQUESTS",type:"text",autoComplete:"renterNotes",multiline:!0,rows:"1",variant:"filled",name:"renterNotes",disabled:e.reservationEdit,inputProps:{maxLength:250}})};var jo,ho=Object(E.b)((function(e){const n=e.className;return Object(a.jsxs)(ls,{className:n,dataTestId:"renter_special_requests",children:[Object(a.jsxs)("div",{className:"".concat(n,"__card-headline-wrapper"),children:[Object(a.jsx)(ur,{label:"Special Requests"}),Object(a.jsx)("strong",{className:"".concat(n,"__required-text"),children:"(Optional)"})]}),Object(a.jsx)("p",{className:"".concat(n,"__note-text"),children:"Enter any requests, such as stall location or other renters you want to be placed near."}),Object(a.jsx)("p",{className:"".concat(n,"__note-text"),children:Object(a.jsx)("strong",{children:"Please note: special requests are not guaranteed"})}),Object(a.jsx)("div",{className:"".concat(n,"__row"),children:Object(a.jsx)("div",{className:"".concat(n,"__item"),children:Object(a.jsx)(mo,Object(j.a)({},e))})})]})}))(bo||(bo=Object(k.a)(["\n  &__row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    flex-wrap: wrap;\n    margin-bottom: -10px;\n  }\n  &__item {\n    width: 100%;\n    & {\n      :nth-child(2) {\n        margin-top: 8px;\n      }\n    }\n  }\n\n  &__cal-label {\n    span {\n      text-transform: uppercase;\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 12px;\n      color: ",";\n      &:nth-child(1) {\n        margin-left: 15px;\n      }\n      &:nth-child(2) {\n        margin-left: 100px;\n      }\n    }\n  }\n\n  &__card-headline-wrapper {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: baseline;\n    margin: 0;\n  }\n\n  &__required-text {\n    ","\n    font-weight: bold;\n    margin: 0 0 0 5px;\n    color: ",";\n  }\n\n  &__note-text {\n    margin: 0;\n  }\n"])),P.text.secondary,qe,P.text.secondary),xo=t(185),Oo=t.n(xo);var go,vo=Object(E.b)((e=>Object(a.jsxs)("div",{className:e.className,children:[e.hideIcon?null:Object(a.jsx)(Oo.a,{}),Object(a.jsx)("span",{className:"notice-label",children:e.label})]})))(jo||(jo=Object(k.a)(["\n  &&& {\n    ","\n    align-items: center;\n    width: 100%;\n    height: auto;\n    margin: 20px 0 25px;\n    padding: 12px 0 11px 15px;\n    ","\n    font-size: 14px;\n    text-align: left;\n    background-color: ",";\n    color: ",";\n    border-radius: 3px;\n  }\n  .notice-label {\n    margin-left: 13px;\n    font-size: 13px;\n    line-height: 16px;\n  }\n"])),Ke,Fe,P.border.tertiary,P.white),fo=t(188),yo=t.n(fo);var Ao=Object(E.b)((function({className:e="",event:n,stalls:t,rv_spot:r,rvProductId:s,addOns:i,hideHeader:c,showFooter:o}){const l=n.venue,d=n.checkOutTime,u=n.checkInTime,p=n.addOnProducts,b=void 0===p?[]:p,m=n.rvProducts,j=(void 0===m?[]:m).find((({id:e})=>e===s)),h=b.filter((e=>i[e.id])).reduce(((e,n)=>{const t=i[n.id];if(Number(t)>0){const a=Number(t)>1?"s":"",r=n.addOn?n.addOn.name:"",s=n.addOn?n.addOn.unitName:"",i=e=>e.match(/s$/i)?e:e+a;e.push({key:"item-"+(n&&n.name?n.name:""),title:i(r),description:"".concat(t," ").concat(i(s)," of ").concat(i(r))})}return e}),[]),x=e=>e?e.format("ddd, MMM D, YYYY"):"",O=e=>{const n=Hr()(e,"hh:mm:ss");return"00"===n.format("mm")?n.format("ha"):n.format("h:mma")};return Object(a.jsxs)("div",{className:"".concat(e," summary-container"),children:[Object(a.jsxs)("div",{className:"summary-row",children:[!c&&Object(a.jsx)("h2",{children:"Reservation Summary"}),Object(a.jsxs)("div",{className:"summary-col",children:[Object(a.jsxs)("div",{className:"summary-item",children:[Object(a.jsx)("h5",{children:"Event"}),n.name]}),Object(a.jsxs)("div",{className:"summary-item",children:[Object(a.jsx)("h5",{children:"Location"}),l.name," ",Object(a.jsx)("br",{}),l.street," ",l.street2,Object(a.jsx)("br",{}),l.city,", ",l.state," ",l.zip]})]}),Object(a.jsx)("div",{className:"summary-col",children:Object(a.jsxs)("div",{className:"summary-item last-item",children:[Object(a.jsx)("h5",{children:"Venue"}),l.description]})})]}),t.quantity>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"divider"}),Object(a.jsxs)("div",{className:"summary-row",children:[Object(a.jsx)("h2",{children:"Stall Summary"}),Object(a.jsxs)("div",{className:"summary-item",children:[Object(a.jsx)("h5",{children:"Check In"}),x(t.start)," \u2022 After ",O(u)]}),Object(a.jsxs)("div",{className:"summary-item",children:[Object(a.jsx)("h5",{children:"Number Of Stalls"}),t.quantity," Stall",t.quantity>1&&"s"]}),Object(a.jsxs)("div",{className:"summary-item next-row",children:[Object(a.jsx)("h5",{children:"Check Out"}),x(t.end)," \u2022 By ",O(d)]})]})]}),j&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"divider"}),Object(a.jsxs)("div",{className:"summary-row",children:[Object(a.jsx)("h2",{children:"RV Spot Summary"}),Object(a.jsxs)("div",{className:"summary-item",children:[Object(a.jsx)("h5",{children:"Check In"}),x(r.start)," \u2022 After ",O(u)]}),Object(a.jsxs)("div",{className:"summary-item col2",children:[Object(a.jsx)("h5",{children:"Number Of Spots"}),r.quantity," Spot",r.quantity>1&&"s"]}),Object(a.jsxs)("div",{className:"summary-item col2",children:[Object(a.jsx)("h5",{children:"Spot Type"}),j.name||j.rvLot.name]}),Object(a.jsxs)("div",{className:"summary-item next-row",children:[Object(a.jsx)("h5",{children:"Check Out"}),x(r.end)," \u2022 By ",O(d)]}),Object(a.jsxs)("div",{className:"summary-item next-row",children:[Object(a.jsx)("h5",{children:"Amenities"}),"0"!=j.rvLot.power&&Object(a.jsxs)("span",{className:"amenity",children:[Object(a.jsx)("img",{src:rc,alt:"electric"}),"Electric"]}),j.rvLot.water&&Object(a.jsxs)("span",{className:"amenity",children:[Object(a.jsx)("img",{src:ic,alt:"water"}),"Water"]}),j.rvLot.sewer&&Object(a.jsxs)("span",{className:"amenity",children:[Object(a.jsx)("img",{src:sc,alt:"sewer"}),"Sewer"]})]})]})]}),h.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"divider"}),Object(a.jsxs)("div",{className:"summary-row",children:[Object(a.jsx)("h2",{children:"Add Ons"}),h.map((({description:e,key:n,title:t},r)=>Object(a.jsxs)("div",{className:"summary-item ".concat(r>=2?"next-row":""),children:[Object(a.jsx)("h5",{children:Object(Gi.a)(t)}),e]},n)))]})]}),o&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"divider"}),Object(a.jsxs)("div",{className:"summary-footer",children:["If you need to cancel or make changes to your reservation, please contact ",Object(a.jsx)("br",{}),l.name," at ",Object(a.jsx)(Vi,{phone:l.phone})]})]})]})}))(go||(go=Object(k.a)(["\n  &.summary-container {\n    font-size: 16px;\n\n    h2 {\n      ","\n      font-size: 22px;\n      margin: 0 0 25px;\n      font-family: 'IBMPlexSans-Bold';\n    }\n\n    h5 {\n      ","\n      font-size: 16px;\n      margin: 0 !important;\n      font-family: 'IBMPlexSans-Bold';\n    }\n\n    .summary-row {\n      width: 100%;\n      ","\n      flex-flow: column nowrap;\n      ","\n\n      h2 {\n        width: 100%;\n      }\n    }\n\n    .summary-col {\n      width: 100%;\n      ","\n      ","\n      flex-flow: column nowrap;\n      ","\n\n      .summary-item {\n        width: 100%;\n      }\n    }\n\n    && .last-item {\n      margin-bottom: 0px;\n    }\n\n    .summary-item {\n      min-width: 100%;\n      margin-bottom: 20px;\n      ","\n    }\n\n    .next-row {\n      ","\n    }\n\n    .col2 {\n      ","\n    }\n\n    .divider {\n      display: block;\n      background: ",";\n      height: 1px;\n      width: 100%;\n      margin: 25px 0;\n    }\n\n    .amenity {\n      margin: 0 25px 0 0;\n      img {\n        height: 16px;\n        margin-right: 10px;\n        position: relative;\n        top: 0px;\n      }\n    }\n\n    .summary-footer {\n      text-align: center;\n\n      a {\n        text-decoration: none;\n        cursor: pointer;\n        color: ",";\n\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n    }\n  }\n"])),Te,Be,Ke,en("SMALL_TABLET_WIDTH","\n        flex-flow: row wrap;\n      "),en("SMALL_TABLET_WIDTH","\n        width: 50%;\n      "),Ke,en("SMALL_TABLET_WIDTH","\n        .summary-item:not(:first-child) {\n          margin-top: 25px;\n        }\n      "),en("SMALL_TABLET_WIDTH","\n        min-width: unset;\n        width: 50%;\n        margin-bottom: 0;\n      "),en("SMALL_TABLET_WIDTH","\n        margin-top: 25px;\n      "),en("SMALL_TABLET_WIDTH","\n        width: 25%;\n        margin-bottom: 0;\n      "),P.text.lightGray,P.border.tertiary),wo=t(186),No=t.n(wo),So=()=>{const e=Object(H.h)().pathname,n=Object(H.g)(),t=n.push,a=n.goBack,s=Object(H.i)().eventId,i=Object(r.useState)([]),c=Object(w.a)(i,2),o=c[0],l=c[1],d=Object(w.a)(ne.RENTER.CREATE_ORDER,4),u=d[0],p=d[1],b=d[2],m=d[3],j=ne.CONFIRM_RESERVATION,h=()=>t("/reservation/".concat(s,"/stalls")),x=e=>Boolean(e.match(/^\/reservation\/\d+\/checkout$/)),O=e=>Boolean(e.match(/^\/reservation\/\d+\/rvs$/)),g=e=>Boolean(e.match(/^\/reservation\/\d+\/stalls$/)),v=e=>Boolean(e.match(/^\/reservation\/\d+$/));Object(r.useEffect)((()=>{(v(e)||x(e))&&h()}),[]),Object(r.useEffect)((()=>{l([...o,e])}),[e]);const f=[...o].reverse(),y=Object(w.a)(f,2)[1],A=void 0===y?"":y;return{prev:O(A)?"rvs":g(A)?"stalls":null,goBack:a,checkoutRoutePattern:u,goToCheckout:()=>t("/reservation/".concat(s,"/checkout")),goToRvs:()=>t("/reservation/".concat(s,"/rvs")),goToStalls:h,goToEvents:()=>t("/events"),isCheckoutUrl:x(e),isLandingUrl:v(e),isRvsUrl:O(e),isStallsUrl:g(e),landingRoutePattern:b,rvsRoutePattern:p,stallsRoutePattern:m,confirmationRoutePattern:j}};const Io=(e,n)=>n>1?e.trim().replace(/s$/i,"")+"s":e;var Co=e=>{const n=e.quantityUnit,t=e.by,r=e.duration,s=e.quantity,i=e.unit,c=e.orderItemCost;return Object(a.jsxs)("div",{className:"ticket-line",children:[Object(a.jsx)("p",{children:"".concat(s," ").concat(Io(i,s)," ").concat(t," ").concat(r||""," ").concat(Io(n,r||s))}),Object(a.jsxs)("p",{children:["$",gs(c)]})]})};function Do(e){if(!e)return 0;const n=Hr()(e.startDate);return Hr()(e.endDate).diff(n,"days")}const ko=(e,n)=>((null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.productName)===n.productName)&&(null===e||void 0===e?void 0:e.id)==n.productId,_o=(e,n,t,a=!1)=>{var r,s,i,c,o;if(!n.payment&&!n.payments.length&&!n.groupOrderBill&&(!n.discount||0===n.discount))return"$0.00";const l="addOns"===n.productType,d="stalls"===n.productType,u=n.prevQuantity>n.quantity||n.prevEndDate>n.endDate||n.remove||(0===n.quantity||!!n.prevQuantity&&n.prevQuantity>n.quantity)&&!n.prevProductId,p=l?e.find((e=>{var t;return(null===(t=e.addOnProduct)||void 0===t?void 0:t.addOn.name)===n.productName})):d?e.find((e=>{var t,a;return(null===(t=e.reservation)||void 0===t||null===(a=t.stallProduct)||void 0===a?void 0:a.id)==n.productId})):e.find((e=>{var t;return ko(null===(t=e.reservation)||void 0===t?void 0:t.rvProduct,n)})),b=d?t.stallProducts.find((e=>e.name===n.productName)):t.rvProducts.find((e=>ko(e,n))),m=n.remove?n.prevQuantity:u&&n.quantity&&!n.prevProductId&&n.prevQuantity!==n.quantity?n.prevQuantity-n.quantity:"addOns"===n.productType||n.prevQuantity<n.quantity&&!a?n.quantity-n.prevQuantity:n.quantity||n.prevQuantity||(null===p||void 0===p?void 0:p.quantity),j=l?null===p||void 0===p||null===(r=p.addOnProduct)||void 0===r?void 0:r.price:d?(null===p||void 0===p||null===(s=p.reservation)||void 0===s||null===(i=s.stallProduct)||void 0===i?void 0:i.price)||b.price:(null===p||void 0===p||null===(c=p.reservation)||void 0===c||null===(o=c.rvProduct)||void 0===o?void 0:o.price)||(null===b||void 0===b?void 0:b.price),h=n.startDate?{startDate:n.startDate,endDate:n.endDate}:null===p||void 0===p?void 0:p.reservation,x=n.nightly?Do(h):1,O=n.prevStartDate&&null!==b&&void 0!==b&&b.nightly?Do({startDate:n.prevStartDate,endDate:n.prevEndDate}):0;let g=null!==b&&void 0!==b&&b.nightly?!n.remove&&null!==n.prevProductId||O===x?x:x-O:O;if(!n.prevQuantity&&n.prevStartDate&&g&&!n.nightly)return"$0.00";n.remove&&(g=O);let v=Math.abs(m*j*(g||1));return O<x&&n.nightly&&n.prevQuantity&&n.prevQuantity<n.quantity&&(v=Math.abs((n.quantity-n.prevQuantity)*j*(x||1)),v+=Math.abs(n.quantity*j*(g||1))),"".concat(u&&0!=n.remove?"-":"","$").concat(v.toFixed(2))},Eo=e=>{var n,t,a,r;const s=Do(e.reservation),i=s>1?"s":"",c=e.quantity,o=c>1?"s":"",l=null!==(n=e.reservation)&&void 0!==n&&n.rvProduct?"rv spot":"stall",d=null===(t=e.addOnProduct)||void 0===t||null===(a=t.addOn)||void 0===a?void 0:a.unitName;return null!==(r=e.addOnProduct)&&void 0!==r&&r.addOn?"".concat(c," ").concat(d).concat(o):"".concat(c," ").concat(l).concat(o," x ").concat(s," night").concat(i)},Ro=e=>{var n;const t=e.stallProduct,r=e.stalls,s=e.id,i=t?[...new Set(r.map((e=>e.building.name)))]:[null===(n=e.rvProduct.rvLot)||void 0===n?void 0:n.name],c=e[t?"stalls":"rvSpots"].map((e=>e.name)).sort(((e,n)=>e&&n?e.localeCompare(n,"en",{numeric:!0}):0)).join(", ");return Object(a.jsx)("div",{className:"buildings-spots",children:!!i.length&&!!c.length&&Object(a.jsx)("p",{children:"".concat(i.join(", ")," - ").concat(t?"Stall":"Spot").concat(-1!==c.indexOf(",")?"s":""," ").concat(c)})},s)};var To=t.p+"static/media/Vector.31a38770.svg";const Po=({item:e})=>{const n=e.payment||e.payments[0];var t;return n&&-1===Math.sign(null===n||void 0===n?void 0:n.amount)&&n.notes||e.groupOrderBill&&e.groupOrderBill.isRefund&&e.groupOrderBill.note||e.noRefundReason?Object(a.jsx)(qo,{placement:"top",arrow:!0,title:n&&n.notes?n.notes:null!==(t=e.groupOrderBill)&&void 0!==t&&t.note?e.groupOrderBill.note:e.noRefundReason,children:Object(a.jsx)(Oo.a,{fontSize:"small"})}):Object(a.jsx)(a.Fragment,{})},Mo=({payment:e,item:n,group:t,isDetailsPage:r})=>{var s,i;const c=e||n.payment||n.payments[0],o=Math.abs(null===c||void 0===c?void 0:c.amount).toFixed(2);return n.productType&&"specialRefund"===n.productType?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{children:["$",o," Special Refund to",c.cardBrand&&c.last4?" ".concat(c.cardBrand," -").concat(c.last4):" cash"]}),r&&Object(a.jsx)(Po,{item:n})]}):null!==(s=n.groupOrderBill)&&void 0!==s&&s.id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{children:["orderCancellation"===n.productType?"Cancelled Reservation - ":""," $",Math.abs(n.groupOrderBill.amount).toFixed(2)," ",n.groupOrderBill.isRefund||-1===Math.sign(n.groupOrderBill.amount)?"adjusted to ".concat(null===t||void 0===t?void 0:t.name):"added to ".concat(null===t||void 0===t?void 0:t.name)]}),r&&Object(a.jsx)(Po,{item:n})]}):"orderCancellation"!==n.productType||n.payment||null!==(i=n.payments)&&void 0!==i&&i.length||n.groupOrderBill?n.isNoRefund?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:"No Refund"}),r&&Object(a.jsx)(Po,{item:n})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{children:[!isNaN(o)&&Object(a.jsxs)(a.Fragment,{children:["orderCancellation"===n.productType?"Cancelled Reservation - ":""," $",o," "]}),null!==c&&void 0!==c&&c.ssRefundId||-1===Math.sign(null===c||void 0===c?void 0:c.amount)?"refunded to":"".concat(n.prevProductId?"charged":"payment"," with")," ",c&&c.cardBrand&&c.last4?" ".concat(c.cardBrand," -").concat(c.last4):" cash",c&&Object(a.jsx)(a.Fragment,{children:n.discount&&n.discount>0?" | DISCOUNTED $".concat(n.discount.toFixed(2)):""}),!c&&n.discount&&n.discount>0?"$0.00 PAYMENT | DISCOUNTED $".concat(n.discount.toFixed(2)):""]}),r&&Object(a.jsx)(Po,{item:n})]}):Object(a.jsx)("span",{children:"Cancelled Reservation - No Refund"})},Bo=(e,n,t)=>{let a="";const r=t>1?"s":"";if("rvs"===e)a="RV spot";else if("stalls"===e)a="stall";else if("addOns"===e)return n;return"".concat(a).concat(r)},Fo=(e,n)=>{let t=Hr()(e),a=Hr()(n);return t.diff(a,"days")},Lo=(e,n)=>{const t={};null===e||void 0===e||e.orderHistory.forEach((e=>{var a,r,s,i,c;const o="rvs"===e.productType?null===n||void 0===n||null===(a=n.rvProducts.find((n=>n.id==e.prevProductId)))||void 0===a?void 0:a.name:null===n||void 0===n||null===(r=n.stallProducts.find((n=>n.id==e.prevProductId)))||void 0===r?void 0:r.name;let l;const d=e.groupOrderBill?e.groupOrderBill.id:null!==(s=e.payments)&&void 0!==s&&s.length?e.payments.reduce(((e,n)=>e+(null===n||void 0===n?void 0:n.id)),null===(c=e.payments[0])||void 0===c?void 0:c.id):null===(i=e.payment)||void 0===i?void 0:i.id;e.prevProductId&&(e.remove=!1),"string"===typeof e.createdAt&&(l=e.createdAt.slice(0,-3)),e.payment?t[d]?t[d]=[...t[d],e]:t[d]=[e]:e.groupOrderBill?t[e.groupOrderBill.id]?t[e.groupOrderBill.id]=[...t[e.groupOrderBill.id],e]:t[e.groupOrderBill.id]=[e]:e.payment||e.groupOrderBill||("orderCancellation"===e.productType?t.cancelled=[e]:t[l]?t[l]=[...t[l],e]:t[l]=[e]),e.prevProductId&&(t[l]?t[l]=t[l]?[...t[l],Object(j.a)(Object(j.a)({},e),{},{remove:!0,productName:o,endDate:e.prevEndDate||e.endDate,prevProductId:null,productId:e.prevProductId})]:[Object(j.a)(Object(j.a)({},e),{},{remove:!0,productName:o,endDate:e.prevEndDate||e.endDate,prevProductId:null,productId:e.prevProductId})]:t[d]=t[d]?[...t[d],Object(j.a)(Object(j.a)({},e),{},{remove:!0,productName:o,endDate:e.prevEndDate||e.endDate,prevProductId:null,productId:e.prevProductId})]:[Object(j.a)(Object(j.a)({},e),{},{remove:!0,productName:o,endDate:e.prevEndDate||e.endDate,prevProductId:null,productId:e.prevProductId})])}));return[Object.keys(t).sort(((e,n)=>e&&n?t[n][0].createdAt.localeCompare(t[e][0].createdAt,"en",{numeric:!0}):0)),t]},qo=Object(zt.a)({tooltip:{color:P.white,backgroundColor:P.border.tertiary,fontSize:"16px"},arrow:{color:P.border.tertiary}})(Yt.a);var zo=t(187),Yo=t.n(zo);t(1022);const Vo=({order:e,saveAndPrint:n,renterView:t})=>{const r=e.user,s=e.event,i=e.group,c=e.discount,o=Lo(e,e.event),l=Object(w.a)(o,2),d=l[0],u=l[1],p=e.orderItems.filter((e=>!!e.reservation)),b=p.filter((e=>!!e.quantity)),m=e.orderItems.filter((e=>!!e.addOnProduct));let j=0,h=0;return Object.keys(u).forEach((e=>{if(u[e].some((e=>e.remove&&null!==e.prevProductId&&"rvs"!==e.productType)))return u[e]=u[e].filter((e=>"rvs"===e.productType&&Object.prototype.hasOwnProperty.call(e,"remove")))})),Object(a.jsxs)("div",{className:"print-receipt","data-testid":"print-receipt-pdf",children:[Object(a.jsx)("div",{className:"top-bar"}),Object(a.jsxs)("div",{className:"receipt-header",children:[Object(a.jsxs)("div",{className:"left-column",children:[Object(a.jsx)("div",{className:"header-logo",children:Object(a.jsx)("img",{src:ra,alt:"os-logo",width:"100px"})}),Object(a.jsxs)("div",{className:"event-name",children:[Object(a.jsx)(jr,{label:"Order Details"}),Object(a.jsx)("p",{className:"title",children:"".concat(s.name," | ").concat(Hr()(s.startDate).format("MMMM D[,] YYYY")," - ").concat(Hr()(s.endDate).format("MMMM D[,] YYYY"))})]})]}),Object(a.jsxs)("div",{className:"right-column",children:[Object(a.jsx)("p",{className:"title",children:"Renter info"}),Object(a.jsx)("p",{children:r.fullName}),Object(a.jsx)("p",{children:us(r.phone)}),Object(a.jsx)("p",{children:r.email}),!n&&Object(a.jsxs)("p",{children:["order ",e.id]})]})]}),Object(a.jsxs)("div",{className:"order-items",children:[!!b.length&&Object(a.jsx)("div",{className:"left-column",children:b.map(((e,n)=>Object(a.jsxs)("div",{className:"reservation",children:[Object(a.jsx)("p",{className:"title",children:Eo(e)}),t?Object(a.jsx)(a.Fragment,{}):Ro(e.reservation),Object(a.jsxs)("div",{className:"check-in",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["After ",Hr()(s.checkInTime,"H:mm:ss").format("h:mm A")]}),Object(a.jsx)("p",{children:Hr()(e.reservation.startDate).format("ddd[,] MMM DD[,] YYYY")})]}),Object(a.jsx)("img",{src:To,alt:"vector"}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["By ",Hr()(s.checkOutTime,"H:mm:ss").format("h:mm A")]}),Object(a.jsx)("p",{children:Hr()(e.reservation.endDate).format("ddd[,] MMM DD[,] YYYY")})]})]})]},n)))}),Object(a.jsxs)("div",{className:"right-column".concat(b.length?"":" left-align"),children:[!!m.length&&Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"title",children:"Add ons"}),m.map(((e,n)=>Object(a.jsxs)("p",{children:[e.quantity," ",e.addOnProduct.addOn.name]},n)))]}),e.notes&&Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"title",children:"Special requests"}),Object(a.jsx)("p",{children:Yo()(e.notes,80)})]})]})]}),Object(a.jsxs)("div",{className:"order-history",children:[Object(a.jsx)("p",{className:"title",children:"Description"}),Object(a.jsxs)("div",{className:"order-items-container",children:[d.map(((n,t)=>{var r,s,o,l;j=0;let b=u[n].find((e=>["orderCancellation","rvs","stalls"].includes(e.productType)));return b||(b=u[n][0]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"history-details-charge-container history-details-wrapper",children:[Object(a.jsx)("div",{className:"history-details-charge-amount",children:null!==(r=b.payment)&&void 0!==r&&r.id||null!==(s=b.payments)&&void 0!==s&&s.length||null!==(o=b.groupOrderBill)&&void 0!==o&&o.id||"orderCancellation"===b.productType||b.isNoRefund||!b.payment&&b.discount>0?Object(a.jsx)(a.Fragment,{children:null!==(l=b.payments)&&void 0!==l&&l.length?b.payments.map((e=>Object(a.jsx)("div",{className:"history-details-payment-details-block",children:Object(a.jsx)(Mo,{payment:e,item:b,group:i})}))):Object(a.jsx)(Mo,{item:b,group:i})}):Object(a.jsx)("span",{children:"non payment edit"})}),Object(a.jsx)("div",{className:"history-details-charge-attribute",children:Object(a.jsx)("span",{children:Hr.a.unix(b.createdAt/1e3).format("MM/DD/YY [at] h:mm a")})})]},"".concat(n,"-").concat(t)),u[n].map(((n,r)=>{const s=n.startDate?Fo(n.startDate,n.endDate):null,i=p.find((e=>{var t,a;return(null===(t=e.reservation.rvProduct)||void 0===t?void 0:t.name)===n.productName||(null===(a=e.reservation.stallProduct)||void 0===a?void 0:a.name)===n.productName})),c=n.prevEndDate>n.endDate||n.startDate>n.prevStartDate,o=Fo(n.startDate,n.prevStartDate)||0,l=Fo(n.prevEndDate,n.endDate)||0,b=!!c&&o+l,m=b&&Math.abs(b)>1||s&&!b&&Math.abs(s)>1?"s":"",x=n.payment||n.payments[0]||n.groupOrderBill,O=_o(e.orderItems,n,e.event),g=O?O.split("$"):0;j+="-"===g[0]?-Number(g[1]):Number(g[1]),h=(null===x||void 0===x?void 0:x.amount.toFixed(2))||0;const v=Fo(n.endDate,n.startDate)||0,f=Fo(n.prevEndDate,n.prevStartDate)||0,y=v-f,A=v>f&&n.prevEndDate,w=n.prevQuantity&&n.quantity-n.prevQuantity>0,N=A&&Math.abs(y)>1?"s":"";let S=!1;for(const e in u){const n=u[e].find((e=>e.prevProductId&&!e.remove)),t=u[e].find((e=>"addOns"===e.productType&&e.prevQuantity)),a=!u[e].find((e=>["rvs","stalls"].includes(e.productType)));if(n){S=!0;break}if(t){S=!0;break}if(a){S=!0;break}}const I="addOns"===n.productType&&S&&(n.prevQuantity?n.prevQuantity<n.quantity:n.quantity)&&t!=d.length-1;if("specialRefund"!==n.productType&&"orderCancellation"!==n.productType)return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"history-details-notes-container history-details-wrapper",children:[Object(a.jsx)("div",{className:"details-column",children:0!==n.quantity&&!n.prevQuantity||n.prevProductId||"addOns"===n.productType?n.prevProductId&&n.remove?Object(a.jsx)(a.Fragment,{children:"Removed ".concat(n.prevQuantity||n.quantity," ").concat(Bo(n.productType,n.productName,n.prevQuantity||n.quantity)," x ").concat(Fo(n.prevStartDate||n.startDate,n.prevEndDate||n.endDate).toString().replace("-","")," night").concat(m)}):n.prevProductId&&!n.remove?Object(a.jsx)(a.Fragment,{children:"Added ".concat(n.quantity," ").concat(Bo(n.productType,n.productName,n.quantity)," x ").concat(Fo(n.startDate,n.endDate).toString().replace("-","")," night").concat(m)}):A?Object(a.jsxs)("span",{children:["Extended ",n.quantity," ",Bo(n.productType,n.productName,n.quantity)," ","addOns"!==n.productType?"x ".concat(y," night").concat(N):null]}):Object(a.jsxs)("span",{children:[c&&"Reduced ","addOns"===n.productType&&n.prevQuantity>n.quantity&&"Reduced ",I&&"Added ","addOns"===n.productType&&Math.abs(n.prevQuantity-n.quantity),"addOns"!==n.productType&&(n.quantity||i.quantity)," ",Bo(n.productType,n.productName,n.quantity)," ","addOns"!==n.productType?"x ".concat(b||s.toString().replace("-","")," night").concat(m):null]}):Object(a.jsx)("span",{children:"specialRefund"===n.productType||"orderCancellation"===n.productType?Object(a.jsx)(a.Fragment,{children:(null===x||void 0===x?void 0:x.notes)||" "}):w&&A?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{children:["Added ",n.quantity-n.prevQuantity," ",Bo(n.productType,n.productName,n.quantity-n.prevQuantity),n.startDate||n.endDate?" x ".concat(Fo(n.startDate,n.endDate).toString().replace("-","")," night").concat(m):null]}),Object(a.jsxs)("span",{style:{display:"block"},children:["Extended ",n.quantity," ",Bo(n.productType,n.productName,n.quantity)," ","addOns"!==n.productType?"x ".concat(y," night").concat(N):null]})]}):w&&!A?Object(a.jsxs)(a.Fragment,{children:["Added ",n.quantity-n.prevQuantity," ",Bo(n.productType,n.productName,n.quantity-n.prevQuantity),n.startDate||n.endDate?" x ".concat(Fo(n.startDate,n.endDate).toString().replace("-","")," night").concat(m):null]}):Object(a.jsxs)(a.Fragment,{children:["Removed ",n.prevQuantity-n.quantity||n.prevQuantity||null," ",Bo(n.productType,n.productName,n.prevQuantity-n.quantity)," ",n.startDate||n.endDate?" x ".concat(s.toString().replace("-","")," night").concat(m):null]})})}),Object(a.jsx)("div",{className:"details-column",children:Object(a.jsx)("span",{children:"addOns"!==n.productType?n.productName:null})}),Object(a.jsx)("div",{className:"details-column fees",children:_o(e.orderItems,n,e.event)})]})},r)})),Object(a.jsxs)("div",{className:"history-details-notes-container history-details-wrapper fees-row",children:[Object(a.jsx)("span",{children:"Fees"}),Object(a.jsxs)("span",{children:["$",h<=0?0:(h-j+c).toFixed(2)]})]})]})})),c&&c>0?Object(a.jsxs)("div",{className:"history-details-notes-container history-details-wrapper discount-row",children:[Object(a.jsx)("span",{children:"Discount"}),Object(a.jsxs)("span",{children:["-$",c.toFixed(2)]})]}):null]})]}),Object(a.jsx)("p",{className:"fee-statement",children:"This receipt includes all applicable taxes and fees"})]})};class Uo extends s.a.Component{constructor(e){super(),this.state={order:e.order,saveAndPrint:e.saveAndPrint,discount:e.discount}}render(){return Object(a.jsx)(Vo,{order:this.state.order,saveAndPrint:this.state.saveAndPrint,renterView:this.props.renterView,discount:this.state.discount})}}var Wo=Uo,Qo=t(576),Go=t.n(Qo);const Ho=e=>{if(!e)return e;const n=e.replace(/[^\d]/g,"");return n.length<3||3===n.length?n:6===n.length||n.length<=6?"(".concat(n.slice(0,3),") ")+n.slice(3):"(".concat(n.slice(0,3),") ")+n.slice(3,6)+"-"+n.slice(6,10)},Ko=e=>!!e&&!e._invalid&&e._complete&&!e._empty,Zo=(e,n)=>{if(!e||!n)return!1;if(!e.ccInformation.useCard)return!0;if(e.ccInformation.selectedCard)return!0;const t=n.getElement(Qi.CardNumberElement),a=n.getElement(Qi.CardCvcElement),r=n.getElement(Qi.CardExpiryElement);return Ko(t)&&Ko(a)&&Ko(r)};function Xo(e,n){return Jo.apply(this,arguments)}function Jo(){return(Jo=Object(O.a)(x.a.mark((function e(n,t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createToken(null===t||void 0===t?void 0:t.card,{name:t.name,address_zip:t.zip,address_country:"US"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const $o=function(){var e=Object(O.a)(x.a.mark((function e(n){var t,a,r,s,i,c,o,l,d,u,p,b,m,j,h,O,g;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.stripeToken,r=n.values,s=r.renterInformation,i=r.renterNotes,c=r.ccInformation,o=r.event,l=r.deferredGroupId,d=r.adminNotes,u=r.productQuestionAnswers,p=n.orderCheckout,b=n.user,m=n.isZeroRatesForm,j=o.venue,h=(null===a||void 0===a?void 0:a.token.card.country)||c.country,e.next=5,p({userInput:{id:s.id,email:String(s.email||"").toLocaleLowerCase(),firstName:String(s.firstName||"").toLocaleLowerCase(),lastName:String(s.lastName||"").toLocaleLowerCase(),phone:(x=s.phone,x.replace(/\D/g,"")),venueId:j.id},orderInput:{orderItems:el(n),productQuestionAnswers:u,eventId:o.id,adminNotes:d||"",notes:String(i||"").toLocaleLowerCase(),userId:s.id},paymentInput:{token:a?a.token.id:"",description:"payment description",saveCard:!!c&&c.saveCard,selectedCard:c?c.selectedCard:null,useCard:!(!c||m)&&c.useCard,adminId:b.id,isNonUSCard:"US"!==h},groupId:Number(l)});case 5:return O=e.sent,null!==(t=n.values.ccInformation)&&void 0!==t&&t.saveCard&&null!==O&&void 0!==O&&O.data.checkout.success&&(null===(g=Object.keys(G.a.cache.data.data))||void 0===g||g.forEach((e=>e.match(/^User/)&&G.a.cache.data.delete(e)))),e.abrupt("return",O);case 8:case"end":return e.stop()}var x}),e)})));return function(n){return e.apply(this,arguments)}}(),el=({values:{selectedRvs:e,selectedStalls:n,stalls:t,stallProductId:a,addOns:r,rvProductId:s,rv_spot:i}})=>{const c=[],o=t.end&&t.end.format(As)?t.end.format(As):"",l=t.start&&t.start.format(As)?t.start.format(As):"",d=i.end&&i.end.format(As)?i.end.format(As):"",u=i.start&&i.start.format(As)?i.start.format(As):"",p=n&&n.map((e=>Number(e.id))),b=e&&e.map((e=>Number(e.id)));return a&&o&&l&&Number(t.quantity)>0&&c.push({xProductId:a,xRefTypeId:ms,quantity:Number(t.quantity),startDate:l,endDate:o,assignments:p||[],statusId:t.status?Number(t.status):1}),s&&d&&u&&Number(i.quantity)>0&&c.push({xProductId:s,xRefTypeId:hs,quantity:Number(i.quantity),startDate:u,endDate:d,assignments:b||[],statusId:i.status?Number(i.status):1}),Object.keys(r).forEach((e=>{Number(r[e])<1||c.push({xProductId:e,xRefTypeId:js,quantity:Number(r[e])})})),c};var nl;const tl=(e,n)=>{const t=e.map((e=>e.amount)).reduce(((e,n)=>e+n),0);return n>t&&0!==t?n.toFixed(2):t.toFixed(2)};var al,rl=Object(E.b)((e=>{const n=e.className,t=void 0===n?"":n,s=e.isViewDetailsPage,i=e.isViewConfirmationPage,c=e.addOnProducts,o=e.ccInformation,l=e.stallProductId,d=e.rvProductId,u=e.addOns,p=e.rv_spot,b=void 0===p?{}:p,m=e.stalls,j=void 0===m?{}:m,h=e.payments,g=void 0===h?[]:h,v=e.orderFee,f=e.orderTotal,y=e.platformFee,A=e.printData,N=e.stripe,S=e.elements,I=Object(r.useRef)(),C=Object(w.a)(g,1)[0],D=j.start,k=j.end,E=j.quantity,R=b.start,T=b.end,P=b.quantity,M=So(),F=M.isStallsUrl,L=M.isRvsUrl,q=Rs({addOns:u,stallProductId:l,stallsQuantity:E,stallsStart:D,stallsEnd:k,rvProductId:d,rvsQuantity:P,rvsStart:R,rvsEnd:T}),z=Object(r.useState)(!1),Y=Object(w.a)(z,2),V=Y[0],U=Y[1],W=Object(_.a)(Fc),Q=Object(w.a)(W,2),G=Q[0],H=Q[1],K=H.loading,Z=H.data,X=function(){var e=Object(O.a)(x.a.mark((function e(){var n,t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!o.nameOnCard&&!o.zipCode){e.next=9;break}return t={card:S.getElement(Qi.CardNumberElement),name:o.nameOnCard,zip:o.zipCode},e.next=4,Xo(N,t);case 4:return a=e.sent,e.next=7,U("US"!==(null===a||void 0===a||null===(n=a.token)||void 0===n?void 0:n.card.country));case 7:e.next=12;break;case 9:if(!o||!o.country){e.next=12;break}return e.next=12,U("US"!==o.country);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((()=>{q&&q.length>0&&(X(),(({getOrderCosts:e,ccInformation:n,rvProductId:t,stallProductId:a,addOns:r,orderItemsArray:s,isNonUS:i})=>{(t||a||!fs(r)||s.length>0)&&e({variables:{input:{selectedOrderItems:s,useCard:!n||!1!==n.useCard,isNonUSCard:i}}})})({getOrderCosts:G,ccInformation:o,rvProductId:d,stallProductId:l,addOns:u,orderItemsArray:q,isNonUS:V}))}),[JSON.stringify(q),o,V]);const J=Z&&Z.orderCosts,$=J||{},ee=$.orderItemsCostsWithDetails,ne=$.serviceFee,te=$.stripeFee,ae=$.total,re=$.discount,se=Object(r.useMemo)((()=>(({orderItems:e,addOnProducts:n})=>e.map((e=>Ts(e,n))))({orderItems:ee||[],addOnProducts:c})),[c.length,JSON.stringify(ee)]);return!J||fs(J)||q&&0===q.length?Object(a.jsx)("div",{className:"".concat(t," empty-totals"),children:F?"Select dates, number of stalls, and reservation type to see your reservation total":L?"Select dates, number of spots, and RV spot type to see your reservation total":"Select dates and stall, RV, or add on options to see reservation total"}):Object(a.jsxs)(a.Fragment,{children:[C&&Object(a.jsxs)(a.Fragment,{children:[!A&&Object(a.jsx)(br,{label:"Receipt"}),A&&Object(a.jsxs)("div",{className:"".concat(t," heading-wrapper"),children:[Object(a.jsx)(br,{label:"Receipt"}),Object(a.jsx)(No.a,{trigger:()=>Object(a.jsx)("div",{className:"link-print-receipt",children:"Detailed receipt"}),content:()=>I.current})]}),Object(a.jsxs)("div",{className:"".concat(t," ticket-receipt"),children:[Object(a.jsx)("div",{children:"Payment Method"}),Object(a.jsx)("div",{children:C.cardBrand?"".concat(Object(Gi.a)(C.cardBrand)," -").concat(C.last4):"Cash/Check"})]})]}),!C&&A&&Object(a.jsx)("div",{className:"".concat(t," heading-wrapper without-first-payment"),children:Object(a.jsx)(No.a,{trigger:()=>Object(a.jsx)("div",{className:"link-print-receipt",children:"Detailed receipt"}),content:()=>I.current})}),Object(a.jsxs)("div",{className:"".concat(t," ticket-details"),children:[K&&Object(a.jsx)("div",{className:"".concat(t," ticket-overlay"),children:Object(a.jsx)(B,{})}),se.map((({by:e,duration:n,orderItemCost:t,quantity:r,quantityUnit:s,unit:i,xProductId:c})=>Object(a.jsx)(Co,{by:e,duration:n,orderItemCost:t,quantity:r,quantityUnit:s,unit:i},c))),te||ne||s&&v&&y?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"ticket-line",children:[Object(a.jsx)("p",{children:"Transaction Fee"}),!s&&!i&&Object(a.jsxs)("p",{children:["$",(Number(te||0)+Number(ne||0)).toFixed(2)]}),i&&Object(a.jsxs)("p",{children:["$",(Number(v||0)+Number(ne||0)).toFixed(2)]}),s&&Object(a.jsx)("p",{children:s?(v+y).toFixed(2):null})]}),V&&Object(a.jsx)("p",{className:"foreign-fees-disclosure",children:Object(a.jsx)("i",{children:"Additional processing fees may apply. Non-US credit cards charged an additional 1%"})})]}):null,re&&re>0?Object(a.jsxs)("div",{className:"ticket-line discount",children:[Object(a.jsx)("p",{children:"Discount"}),Object(a.jsxs)("p",{children:["-$",re.toFixed(2)]})]}):null,Object(a.jsxs)("div",{className:"ticket-line total",children:[Object(a.jsx)("p",{children:s?"Total Paid":"Total Due"}),!s&&!i&&Object(a.jsx)("p",{children:ae<=0?"$0.00":"$".concat(ae.toFixed(2))}),i&&Object(a.jsxs)("p",{children:["$",f]}),s&&Object(a.jsxs)("p",{children:["$",tl(g,v+y)]})]})]}),A&&Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(Wo,{order:A.order,ref:I,renterView:!0})})]})}))(nl||(nl=Object(k.a)(["\n  &.empty-totals {\n    ","\n    font-size: 16px;\n  }\n\n  &.heading-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-items: baseline;\n    justify-content: space-between;\n\n    .link-print-receipt {\n      font-weight: bold;\n      font-size: 16px;\n      line-height: 25px;\n      letter-spacing: 0.704px;\n      text-decoration-line: underline;\n      color: #2875c3;\n      cursor: pointer;\n    }\n\n    &.without-first-payment {\n      margin-bottom: 10px;\n    }\n  }\n\n  &&&.ticket-details {\n    ","\n    font-size: 16px;\n\n    .ticket-overlay {\n      background-color: rgba(255, 255, 255, 0.7);\n      position: absolute;\n      text-align: center;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      z-index: 10;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .ticket-line {\n      ","\n      flex-direction: row;\n      justify-content: space-between;\n      padding: 0 0 10px;\n      p {\n        margin: 0;\n      }\n    }\n\n    .foreign-fees-disclosure {\n      margin: 0 0 10px;\n    }\n\n    .total {\n      border-top: 1px solid ",";\n      font-weight: bold;\n      padding-top: 10px;\n      font-family: 'IBMPlexSans-Bold';\n      p {\n        font-family: 'IBMPlexSans-Bold';\n      }\n    }\n  }\n\n  &.ticket-receipt {\n    ","\n    flow-direction: column;\n    justify-content: space-between;\n    margin: 15px 0 10px;\n    border-bottom: 1px solid ",";\n    padding-bottom: 10px;\n    font-size: 16px;\n\n    div {\n      width: 50%;\n      text-align: right;\n    }\n    div:first-child {\n      text-align: left;\n      font-weight: bolder;\n      font-family: 'IBMPlexSans-Bold';\n    }\n  }\n"])),Fe,Fe,Ke,P.text.lightGray,Ke,P.text.lightGray);const sl=L()(al||(al=Object(k.a)(["\n  query orderForPrintReceipt($id: ID) {\n    order(id: $id) {\n      discount\n      orderHistory {\n        productName\n        productType\n        payments {\n          id\n          ssChargeId\n          ssRefundId\n          amount\n          cardPayment\n          cardBrand\n          last4\n          notes\n        }\n        noRefundReason\n        nightly\n        startDate\n        prevStartDate\n        prevProductId\n        prevEndDate\n        endDate\n        createdAt\n        quantity\n        discount\n        groupOrderBill {\n          amount\n          id\n          isRefund\n          note\n        }\n        payment {\n          notes\n          last4\n          ssRefundId\n          cardBrand\n          ssChargeId\n          amount\n          id\n        }\n        user {\n          firstName\n          lastName\n        }\n        prevQuantity\n        isNoRefund\n        productId\n      }\n      id\n      successorOrder {\n        id\n      }\n      fee\n      group {\n        id\n        name\n      }\n      platformFee\n      canceled\n      event {\n        id\n        closeDate\n        endDate\n        checkInTime\n        checkOutTime\n        openDate\n        name\n        rvProducts {\n          id\n          endDate\n          name\n          description\n          price\n          nightly\n          rvLot {\n            id\n            description\n            name\n            power\n            sewer\n            water\n          }\n          startDate\n        }\n        stallProducts {\n          id\n          endDate\n          name\n          description\n          nightly\n          price\n          startDate\n        }\n        startDate\n        venue {\n          id\n          buildings {\n            id\n            name\n          }\n        }\n        addOnProducts {\n          id\n          price\n          addOn {\n            id\n            name\n            description\n            unitName\n          }\n        }\n      }\n      notes\n      adminNotes\n      orderItems {\n        id\n        addOnProduct {\n          id\n          price\n          addOn {\n            id\n            name\n            unitName\n          }\n        }\n        reservation {\n          id\n          endDate\n          rvProduct {\n            id\n            name\n            description\n            price\n            nightly\n            rvLot {\n              id\n              description\n              name\n              power\n              sewer\n              water\n            }\n          }\n          rvSpots {\n            id\n            name\n          }\n          stallProduct {\n            id\n            name\n            description\n            nightly\n            price\n          }\n          stalls {\n            id\n            building {\n              id\n              name\n            }\n            name\n            description\n            status\n          }\n          startDate\n          status {\n            id\n            name\n          }\n        }\n        quantity\n      }\n      payments {\n        id\n        admin {\n          id\n        }\n        amount\n        cardBrand\n        cardPayment\n        createdAt\n        last4\n        notes\n        ssChargeId\n        ssRefundId\n        success\n      }\n      total\n      user {\n        id\n        email\n        firstName\n        fullName\n        lastName\n        phone\n      }\n    }\n  }\n"])));var il,cl,ol,ll,dl,ul,pl,bl;const ml=({hasStalls:e,hasRvs:n})=>{const t="stall",a="RV spot";let r="You may receive a text message with your ";return e&&n&&(r+="".concat(t," and ").concat(a)),e&&!n&&(r+=t),!e&&n&&(r+=a),r+=" assignment before your arrival",r},jl=Object(E.b)(Yn)(il||(il=Object(k.a)(["\n  &&& {\n    letter-spacing: 0.7px;\n    line-height: normal;\n    width: 100%;\n  }\n"]))),hl=Object(E.b)(b.b)(cl||(cl=Object(k.a)(["\n  text-decoration: none;\n"]))),xl=Object(E.b)((e=>{var n,t,r;const s=e.className,i=void 0===s?"":s,c=e.checkoutResponse,o=e.isViewDetailsPage,l=e.data,d=e.titleHeader,u=e.isViewConfirmationPage,p=Object(_.c)(sl,{variables:{id:null===l||void 0===l||null===(n=l.order)||void 0===n?void 0:n.id},fetchPolicy:"network-only"});if(!c&&!l)return null;const b=Ds(c||l),m=b.rvProduct,h=b.stallProduct;return Object(a.jsxs)(Ol,{children:[Object(a.jsx)(gl,{className:"".concat(i,"__confirmation-container"),children:Object(a.jsxs)(ls,{children:[Object(a.jsx)(ur,{label:d}),(!!c||!(null!==l&&void 0!==l&&l.order.canceled)&&Hr()(null===l||void 0===l?void 0:l.order.event.endDate).isAfter(Hr()()))&&Object(a.jsx)("div",{className:"".concat(i,"__confirmation-banner"),children:Object(a.jsxs)("div",{className:"".concat(i,"__confirmation-content-container"),children:[Object(a.jsx)(yo.a,{style:{marginRight:5}}),Object(a.jsx)("span",{children:ml({hasStalls:Boolean(h.id),hasRvs:Boolean(m.id)})})]})}),!c&&!(null===l||void 0===l||!l.order.canceled)&&Object(a.jsx)("div",{className:"".concat(i,"__confirmation-banner canceled"),children:Object(a.jsxs)("div",{className:"".concat(i,"__confirmation-content-container"),children:[Object(a.jsx)(yo.a,{style:{marginRight:5}}),Object(a.jsxs)("span",{children:["This reservation was canceled on ",Hr()(l.order.canceled).format("MMMM DD, YYYY")]})]})}),Object(a.jsx)("div",{children:Object(a.jsx)(Ao,Object(j.a)({},ks(l||c)))})]})}),Object(a.jsxs)(vl,{children:[Object(a.jsx)(ls,{className:"".concat(i,"__receipt"),children:Object(a.jsx)(rl,Object(j.a)(Object(j.a)({className:i,isViewDetailsPage:o,isViewConfirmationPage:u},_s(l||c)),{},{ccInformation:{useCard:null===l||void 0===l||null===(t=l.order)||void 0===t||null===(r=t.payments[0])||void 0===r?void 0:r.cardPayment},printData:p.data}))}),!o&&Object(a.jsxs)(ls,{children:[Object(a.jsx)(yl,{children:"Want to make another reservation?"}),Object(a.jsx)(hl,{to:"/events",children:Object(a.jsx)(jl,{primary:!0,variant:"contained",size:"large",type:"submit",children:"RETURN TO EVENTS"})})]})]})]})}))(ol||(ol=Object(k.a)(["\n  &__info {\n    margin-bottom: 25px;\n    width: inherit;\n  }\n\n  &__confirmation-container {\n    width: 100% !important;\n  }\n\n  &__confirmation-banner {\n    background-color: ",";\n    border-radius: 3px;\n    color: #ffffff;\n    font-family: 'IBMPlexSans-Regular';\n    font-size: 14px;\n    line-height: 25px;\n    margin-top: 20px;\n    margin-bottom: 25px;\n    text-align: left;\n    padding: 15px 0 13px 20px;\n\n    &.canceled {\n      background-color: ",";\n    }\n  }\n\n  &__confirmation-content-container {\n    display: flex;\n  }\n\n  &__heading1 {\n    text-align: left;\n    padding-left: 25px;\n  }\n\n  &__receipt {\n    min-width: none;\n    @media screen and (min-width: ",") {\n      min-width: 375px;\n    }\n  }\n\n  &__receipt-border {\n    border-top: 1px solid ",";\n    border-bottom: 1px solid ",";\n    padding: 10px 0;\n    margin: 10px 0;\n  }\n\n  &__ticket-line {\n    width: 100%;\n    ","\n    justify-content: space-between;\n    p {\n      margin: 0;\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 16px;\n    }\n  }\n\n  &__total {\n    width: 100%;\n    ","\n    justify-content: space-between;\n    margin-top: 0;\n    font-family: 'IBMPlexSans-Bold';\n    font-size: 16px;\n  }\n"])),P.border.tertiary,P.error.primary,Xe,P.border.primary,P.border.primary,Ke,Ke),Ol=E.b.div(ll||(ll=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  width: 100%;\n  ","\n  ","\n"])),Ke,en("BIG_TABLET_WIDTH","\n    flex-direction: row;\n    align-items: center;\n  "),en("DESKTOP_WIDTH","\n   margin: 0 50px;\n   width: unset;\n  ")),gl=E.b.div(dl||(dl=Object(k.a)(["\n  margin-right: 0;\n  width: 100%;\n  @media screen and (min-width: ",") {\n    margin-right: 10px;\n    width: auto;\n  }\n"])),Xe),vl=E.b.div(ul||(ul=Object(k.a)(["\n  margin-left: 0;\n  width: 100%;\n  @media screen and (min-width: ",") {\n    margin-left: 10px;\n    width: auto;\n    align-self: baseline;\n  }\n"])),Xe),fl=E.b.p(pl||(pl=Object(k.a)(["\n  &&& {\n    ","\n    margin: 5px 0 0 0;\n    overflow-wrap: break-word;\n  }\n"])),Fe),yl=Object(E.b)(fl)(bl||(bl=Object(k.a)(["\n  &&& {\n    text-align: center;\n    padding-bottom: 25px;\n  }\n"])));var Al,wl=Object(se.a)(H.j)(xl);var Nl,Sl=Object(E.b)((({className:e})=>{const n=Object(Ia.f)(),t=n.setFieldValue,r=n.values;return Object(a.jsxs)(ls,{className:e,dataTestId:"renter_information",children:[Object(a.jsx)(ur,{label:"Renter Information"}),Object(a.jsx)("span",{className:"".concat(e,"__card-subheader"),children:"Changes to this information will be reflected on all of your existing reservations."}),Object(a.jsxs)("div",{className:"".concat(e,"__names-container"),children:[Object(a.jsx)(Ia.a,{component:Zn,label:"FIRST NAME",name:"renterInformation.firstName",autoComplete:"firstName",className:"".concat(e,"__name-field"),type:"text",variant:"filled",required:!0}),Object(a.jsx)(Ia.a,{component:Zn,label:"LAST NAME",name:"renterInformation.lastName",autoComplete:"lastName",className:"".concat(e,"__base-margin-left ").concat(e,"__name-field"),type:"text",variant:"filled",required:!0})]}),Object(a.jsxs)("div",{className:"".concat(e,"__names-container"),children:[Object(a.jsx)(Ia.a,{name:"renterInformation.phone",children:({field:n,meta:r})=>Object(a.jsx)(Jn,Object(j.a)(Object(j.a)(Object(j.a)({},n),r),{},{error:r.touched&&r.error,helperText:r.touched&&!!r.error&&r.error,label:"MOBILE NUMBER",autoComplete:"phone",variant:"filled",onChange:e=>t("renterInformation.phone",e.target.value.replace(/[^0-9]/g,"")),className:"".concat(e,"__name-field"),required:!0}))}),Object(a.jsx)("div",{className:"".concat(e,"__base-margin-left ").concat(e,"__name-field"),children:Object(a.jsx)(vo,{label:ml({hasStalls:!!r.stallProductId,hasRvs:!!r.rvProductId})})})]})]})}))(Al||(Al=Object(k.a)(["\n  &__names-container {\n    display: inherit;\n  }\n  &__name-field {\n    input {\n      color: #11181f;\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 15px;\n      text-transform: uppercase;\n    }\n    .Mui-error {\n      color: ",";\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 12px;\n      padding-left: 12px;\n      text-transform: uppercase;\n      white-space: nowrap;\n    }\n    width: 100%;\n  }\n  &__base-margin-left {\n    && {\n      margin-left: inherit;\n    }\n  }\n  &__card-subheader {\n    display: none;\n  }\n\n  @media screen and (min-width: ",") {\n    &__names-container {\n      ","\n    }\n\n    &__name-field {\n      width: 50%;\n    }\n\n    &__base-margin-left {\n      && {\n        margin-left: 25px;\n      }\n    }\n\n    &__card-subheader {\n      display: block;\n      color: ",";\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 16px;\n    }\n  }\n"])),P.error.primary,Ze,Ke,P.text.secondary);var Il,Cl=E.b.div(Nl||(Nl=Object(k.a)(["\n  @media screen and (min-width: ",") {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 85px;\n  }\n"])),Xe);var Dl,kl=Object(E.b)((function({className:e="",children:n,rightColumn:t,backButton:r}){return Object(a.jsxs)("section",{className:"".concat(e," form-section"),children:[r,Object(a.jsxs)(Ia.b,{className:"form-container",children:[Object(a.jsx)("div",{className:"form-column-left",children:n}),nn()?Object(a.jsx)("div",{className:"form-column-right",children:t}):Object(a.jsx)(Cl,{children:Object(a.jsx)("div",{className:"form-column-right",children:t})})]})]})}))(Il||(Il=Object(k.a)(["\n  &.form-section {\n    min-width: 320px;\n\n    @media (min-width: 1024px) {\n      min-width: 1190px;\n    }\n\n    .card-headline-wrapper {\n      ","\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: baseline;\n      margin-bottom: 0;\n\n      a {\n        font-family: 'IBMPlexSans-Regular';\n        letter-spacing: 1.05px;\n        color: ",";\n        cursor: pointer;\n      }\n    }\n    .form-container {\n      ","\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      p {\n        ","\n      }\n      h5 {\n        margin: 12px 0 20px;\n      }\n    }\n    .form-column-left {\n      ","\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      max-width: 792px;\n      margin-right: 0px;\n    }\n\n    .form-column-right {\n      ","\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      max-width: 792px;\n      margin-left: 0px;\n      align-self: center;\n    }\n\n    .to-events-content {\n      align-items: center;\n      color: ",";\n      display: flex;\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 15px;\n      letter-spacing: 1.05px;\n      line-height: 17px;\n      height: 24px;\n      text-align: left;\n      text-transform: uppercase;\n      margin-bottom: 15px;\n      ","\n    }\n\n    .to-events-link {\n      text-decoration: none;\n    }\n    .to-events-link:hover {\n      cursor: pointer;\n    }\n    ","\n  }\n"])),Ke,P.text.link,Ke,Fe,Ke,Ke,P.secondary,en("SMALL_TABLET_WIDTH","\n        margin-top: 50px;\n      "),en("BIG_TABLET_WIDTH","\n      .form-column-right {\n        flex-direction: column;\n        justify-content: center;\n        align-self: baseline;\n        width: 385px;\n        margin-left: 10px;\n      }\n      .form-column-left {\n        margin-right: 10px;\n      }\n\n      .form-container {\n        flex-direction: row;\n        justify-content: center;\n        align-items: flex-start;\n      }\n    "));var _l,El=Object(E.b)((e=>{const n=e.className,t=e.headerIcon,r=e.text;return Object(a.jsxs)("div",{className:"".concat(n,"__section-header"),children:[Object(a.jsx)(ur,{className:"".concat(n,"__section-header-text"),label:r}),t&&Object(a.jsx)("img",{alt:"Header Icon",src:t})]})}))(Dl||(Dl=Object(k.a)(["\n  &__section-header {\n    width: 100%;\n    margin-top: 30px;\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    @media (max-width: 767px) {\n      width: 95%;\n    }\n\n    h2 {\n      width: 100%;\n      margin: 0;\n      display: grid;\n      grid-gap: 10px;\n      grid-template-columns: auto 1fr;\n      align-items: center;\n      font-family: 'IBMPlexSans-SemiBold';\n      font-size: 30px;\n      line-height: 50px;\n      letter-spacing: 0.91px;\n      text-align: center;\n\n      &::after {\n        content: '';\n        border-radius: 3.5px;\n        border-top: 2px solid ",";\n      }\n    }\n\n    img {\n      width: auto;\n      height: 30px;\n      margin-left: 10px;\n    }\n  }\n"])),P.border.primary),Rl=t(167);t(290),t(292);class Tl extends r.Component{constructor(e){var n;super(e),n=this,this.onDateChange=function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.cb(t);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.onFocusChange=({focused:e})=>{this.setState({focused:e})},this.state={focused:!1}}render(){const e=this.state.focused,n=this.props.showPast,t=Object(Cs.b)(this.props,["label","type","plural","value","cb","className","showPast"]),r=void 0!==n?{isOutsideRange:e=>{if(n)return!n;const t=Hr.a.utc(e).format("YYYY-MM-DD"),a=Hr.a.utc().format("YYYY-MM-DD");return Hr()(t).isBefore(Hr()(a))}}:{};return Object(a.jsx)(Pl,{disabled:this.props.disabled,children:Object(a.jsx)(Rl.SingleDatePicker,Object(j.a)(Object(j.a)(Object(j.a)({},t),r),{},{id:"date_input",date:this.props.value,focused:e,onDateChange:this.onDateChange,onFocusChange:this.onFocusChange,customInputIcon:Object(a.jsx)(mi.a,{}),inputIconPosition:"after",block:!1,hideKeyboardShortcutsPanel:!0,withPortal:!1,placeholder:this.props.label,disabled:this.props.disabled,readOnly:!0}))})}}const Pl=E.b.div(_l||(_l=Object(k.a)(["\n  display: inline-block;\n  &&& {\n    height: 40px;\n\n    .DateInput {\n      width: 180px;\n    }\n    .DateInput_input {\n      ","\n      color: rgb(0, 0, 0);\n      font-size: 0.9375rem;\n      line-height: 24px;\n      padding: 16px 12px 8px;\n      background-color: "," !important;\n      &::placeholder {\n        color: ",";\n      }\n    }\n    .SingleDatePickerInput {\n      background-color: "," !important;\n      padding: 0 1px;\n      border-color: ",";\n      :hover {\n        border-color: rgba(0, 0, 0, 0.87);\n      }\n      opacity: ",";\n    }\n    .SingleDatePickerInput__withBorder {\n      width: 215px;\n      border-radius: 5px 5px 0 0;\n      border: none;\n      border-bottom: 1px solid #c8d6e5;\n      display: inline-flex;\n      flex-direction: row-reverse;\n    }\n    .DateInput_input {\n      padding: 6px 10px;\n    }\n    .DateInput_input__focused {\n      border-color: ",";\n    }\n    .SingleDatePickerInput_arrow_svg {\n      fill: ",";\n    }\n    .SingleDatePickerInput_calendarIcon {\n      margin: 0;\n      padding: 8px 9px 0;\n      background-color: ",";\n      color: ",";\n    }\n    // Will edit selected date or the endpoints of a range of dates\n    .CalendarDay__hovered_span:hover,\n    .CalendarDay__hovered_span,\n    .CalendarDay__selected_span,\n    .CalendarDay__selected {\n      background: #10ac84;\n      color: white;\n    }\n\n    // Will edit when hovered over. _span style also has this property\n    .CalendarDay__hovered_span:hover,\n    .CalendarDay__hovered_span,\n    .CalendarDay__selected_span {\n      opacity: 0.87;\n      border-color: ",";\n    }\n    .CalendarMonth,\n    .DayPicker_weekHeader {\n      font-family: 'IBMPlexSans-SemiBold';\n    }\n    .DayPickerKeyboardShortcuts_show {\n      display: none;\n    }\n  }\n"])),Fe,P.background.primary,P.text.secondary,P.background.primary,(e=>e.focusedInput?"rgba(0, 0, 0, 0.87)":"rgba(0,0,0,0.23)"),(({disabled:e})=>e?.5:1),P.secondary,(e=>e.focusedInput?P.secondary:"rgba(0,0,0,0.23)"),P.white,P.primary,P.secondary);var Ml=Tl;const Bl="horizontal";var Fl;class Ll extends r.Component{constructor(e){super(e),this.onDatesChange=({startDate:e,endDate:n})=>{const t=this.props,a=t.cb,r=t.checkInDates;if(!t.isFilter&&e&&n){const t=Hr()(e).startOf("day"),s=Hr()(n).startOf("day"),i=[e.format("YYYY-MM-DD")];for(;t.add(1,"days").diff(s)<0;)i.push(t.clone().format("YYYY-MM-DD"));if(!i.every((e=>r.includes(e))))return a({startDate:e,endDate:null})}return a({startDate:e,endDate:n})},this.onFocusChange=e=>{this.setState({focusedInput:e})},this.isDateBlocked=e=>{const n=this.props,t=n.checkInDates,a=n.checkOutDates,r=n.isFilter,s=this.state.focusedInput;if(r)return;if("startDate"===s){return!(t.findIndex((n=>Hr()(n).isSame(e,"day")))>-1)}return!(a.findIndex((n=>Hr()(n).isSame(e,"day")))>-1)},this.state={endDate:null,focusedInput:null,startDate:null}}render(){const e=this.state.focusedInput,n=Object(w.a)(this.props.value,2),t=n[0],r=n[1],s=this.props,i=s.eventStartDate,c=s.fromDateLabel,o=s.toDateLabel,l=Object(Cs.b)(this.props,["checkInDates","checkOutDates","eventStartDate","fromDateLabel","toDateLabel","label","type","plural","value","cb","className","selectableRangeStart","selectableRangeEnd","availability","isFilter"]),d=window.matchMedia("(max-width: 769px)").matches;return Object(a.jsxs)(ql,{focusedInput:e,disabled:this.props.disabled,className:"".concat(this.props.className||"").concat(this.props.disabled?" disabled":""),children:[Object(a.jsxs)("div",{className:"date-label-wrapper",children:[t?Object(a.jsx)("label",{className:"date-label start-date",for:c,children:c||"CHECK IN"}):null,r?Object(a.jsx)("label",{className:"date-label end-date",for:o,children:o||"CHECK OUT"}):null]}),Object(a.jsx)(Rl.DateRangePicker,Object(j.a)(Object(j.a)({},l),{},{disabled:this.props.disabled,onDatesChange:this.onDatesChange,onFocusChange:this.onFocusChange,startDate:t?Hr()(t):null,endDate:r?Hr()(r):null,isDayBlocked:e=>this.isDateBlocked(e),initialVisibleMonth:()=>Hr()(i),focusedInput:e,block:!1,startDatePlaceholderText:c||"FROM",endDatePlaceholderText:o||"TO",startDateId:"startDate",endDateId:"endDate",numberOfMonths:d?1:2,orientation:Bl,readOnly:!0,displayFormat:this.props.displayFormat||"MM/DD/YY"}))]})}}const ql=E.b.div(Fl||(Fl=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  background: ",";\n  border-bottom: 1px solid #576574;\n  border-radius: 5px 5px 0px 0px;\n\n  &.disabled {\n    opacity: 50%;\n  }\n\n  & {\n    .date-label-wrapper {\n      display: flex;\n      font-size: 12px;\n      color: #8395a7;\n      line-height: 16px;\n      padding: 7px 12px 0;\n      min-height: 23px;\n      .date-label {\n        flex-basis: 50%;\n      }\n\n      .end-date {\n        text-align: right;\n        margin-right: 23px;\n\n        &[for='END DATE'] {\n          margin-right: 32px;\n        }\n        &[for='CLOSE DATE'] {\n          margin-right: 20px;\n        }\n      }\n    }\n    .DateRangePickerInput {\n      display: flex;\n      justify-content: space-between;\n      background: none;\n      border: none;\n    }\n    .DateInput,\n    .DateInput_input {\n      background: none;\n    }\n    .DateInput_input {\n      font-size: 16px;\n      font-family: 'IBMPlexSans-Regular';\n      padding: 0 12px 7px;\n      color: rgb(17, 24, 31);\n    }\n    .DateInput_input__focused {\n      border-color: ",";\n    }\n    .DateInput_input[aria-label='CHECK OUT'],\n    .DateInput_input[aria-label='END DATE'],\n    .DateInput_input[aria-label='CLOSE DATE'] {\n      text-align: center;\n    }\n    .DateInput_input[aria-label='END DATE'] {\n      text-align: center;\n    }\n    .DateInput_input[aria-label='CLOSE DATE'] {\n      text-align: center;\n    }\n    .DateRangePickerInput_arrow {\n      position: absolute;\n      bottom: 40%;\n      left: 45%;\n\n      .DateRangePickerInput_arrow_svg {\n        fill: ",";\n      }\n    }\n    .CalendarDay__blocked_calendar,\n    .CalendarDay__blocked_calendar:active,\n    .CalendarDay__blocked_calendar:hover {\n      background: ",";\n      border: 0.5px solid ",";\n      color: #cacccd;\n      text-decoration: line-through;\n    }\n    .CalendarDay__blocked_out_of_range,\n    .CalendarDay__blocked_out_of_range:active,\n    .CalendarDay__blocked_out_of_range:hover {\n      text-decoration: line-through;\n    }\n    .CalendarDay__today {\n      border: 2px solid #10ac84;\n    }\n    .CalendarDay__selected_span,\n    .CalendarDay__hovered_span,\n    .CalendarDay__selected_span:active,\n    .CalendarDay__selected_span:hover,\n    .CalendarDay__hovered_span:hover {\n      background: #4cc1a3;\n      border: 0.5px solid #4cc1a3;\n      color: #fff;\n    }\n    .CalendarDay__selected,\n    .CalendarDay__selected:active,\n    .CalendarDay__selected:hover {\n      background: #10ac84;\n      border-color: #10ac84;\n      color: #fff;\n      text-decoration: none;\n    }\n    .DayPickerKeyboardShortcuts_show {\n      display: none;\n    }\n    .DateInput_input__disabled {\n      font-style: normal;\n    }\n  }\n"])),P.background.inputs,P.primary,P.text.secondary,P.white,P.background.primary);var zl,Yl,Vl,Ul=Ll,Wl=Object(E.b)(Qt.a)(zl||(zl=Object(k.a)(["\n  &&& {\n    span svg {\n      ","\n    }\n  }\n"])),(({checked:e})=>e?Object(E.a)(Yl||(Yl=Object(k.a)(["\n              color: ",";\n            "])),P.secondary):null));const Ql=({children:e,rvStartDateStr:n,rvEndDateStr:t,stallsStartDateStr:s,stallsEndDateStr:i,resStart:c,resEnd:o})=>{const l=Object(Ia.f)(),d=l.values,u=l.setFieldValue,p=d.sameDates,b=Object(r.useState)(p),m=Object(w.a)(b,2),h=m[0],x=m[1],O=e=>{e&&c&&o&&u("rv_spot",Object(j.a)(Object(j.a)({},d.rv_spot),{},{start:c,end:o}))};Object(r.useEffect)((()=>{s===n&&t===i||!h||O(h)}),[n,t,h,s,i]),Object(r.useEffect)((()=>{u("sameDates",h)}),[h]);const g=Boolean(o&&c);return Object(a.jsx)(a.Fragment,{children:e({checked:h,toggleCheckbox:()=>{const e=!h;O(e),x(e)},showCheckbox:g})})},Gl=Object(E.b)(Wl)(Vl||(Vl=Object(k.a)(["\n  &&& {\n    span svg {\n      color: ",";\n    }\n  }\n"])),P.secondary);var Hl,Kl;const Zl=Object(E.b)((e=>{const n=e.className,t=e.type,s=Object(Ia.f)(),i=s.values,c=s.setFieldValue,o=s.setFieldError,l=s.errors,d=i.event,u=i.stalls,p=void 0===u?{}:u,b=i.rv_spot,m=void 0===b?{}:b,h="rvs"===t,g="".concat(h?"rv_spot":"stalls",".quantity"),v=p.end,f=p.start,y=h?m:p,A=y.end,N=y.start,S=N?N.format(As):null,I=A?A.format(As):null,C=f?f.format(As):null,D=v?v.format(As):null,k=Object(r.useMemo)((()=>Is({eventStartDate:d.startDate,eventEndDate:d.endDate,selectedStartDate:N})),[d.startDate,d.endDate,N]),_=Object(w.a)(k,2),E=_[0],R=_[1],T=e=>{const n=h?m:p;c(h?"rv_spot":"stalls",Object(j.a)(Object(j.a)({},n),{},{start:e.startDate,end:e.endDate}))},P=function(){var e=Object(O.a)(x.a.mark((function e(n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,e.next=3,c(g,a<=0?"":a);case 3:dc(a,t)&&o(g,"Maximum exceeded");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(a.jsxs)(ls,{className:n,dataTestId:"".concat(h?"rv":"stall","_booking_details"),children:[Object(a.jsxs)("div",{className:"".concat(n,"__card-headline-wrapper"),children:[Object(a.jsx)(Xl,{label:"".concat(h?"RV Spot":"Stall"," Booking Details")}),Object(a.jsx)("strong",{className:"".concat(n,"__required-text"),children:"(Required)"})]}),Object(a.jsxs)("div",{className:"".concat(n,"__row"),children:[Object(a.jsx)("div",{className:"".concat(n,"__item"),children:Object(a.jsx)(Ia.a,{name:g,children:({field:e,meta:r})=>Object(a.jsxs)("div",{className:"".concat(n,"__quantity-field-wrapper"),children:[Object(a.jsx)(Xc,{increment:()=>{let n=Number(e.value)+1;P(n)},decrement:()=>{let n=Number(e.value)-1;P(n)},top:8,right:23}),Object(a.jsx)(Hn,Object(j.a)(Object(j.a)(Object(j.a)({},e),r),{},{className:"".concat(n,"__rv-spots-quantity-field"),label:"NUMBER OF ".concat(h?"RV SPOTS":"STALLS"),helperText:!!r.error&&r.error,error:Boolean(r.error),type:"number",max:"99",variant:"filled",InputLabelProps:{shrink:e.value>0},onBlur:e=>{dc(e.target.value,t)&&o(g,"Maximum exceeded")},onChange:e=>P(Number(e.target.value.replace(/\D/g,""))),onKeyPress:e=>{101==e.which&&e.preventDefault()}}))]})})}),Object(a.jsx)(Ql,{resStart:f,resEnd:v,rvStartDateStr:S,rvEndDateStr:I,stallsStartDateStr:C,stallsEndDateStr:D,children:({checked:e,toggleCheckbox:t,showCheckbox:r})=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"".concat(n,"__item"),children:Object(a.jsx)("div",{className:"".concat(n,"__date-input--wrapper"),children:Object(a.jsx)(Ul,{value:[N,A],selectableRangeStart:d.startDate,selectableRangeEnd:d.endDate,cb:T,disabled:h&&e&&r||pc(h,l),checkInDates:E,checkOutDates:R,eventStartDate:d.startDate,fromDateLabel:"CHECK IN",toDateLabel:"CHECK OUT"})})}),h&&r&&Object(a.jsxs)("div",{className:"".concat(n,"__item checkbox_container"),style:pc(h,l)?{opacity:.5}:{},children:[Object(a.jsx)(Gl,{checked:e,color:"primary",name:"useResDates",disabled:pc(h,l),onClick:e=>{e.preventDefault(),t()},type:"checkbox"}),Object(a.jsx)("span",{children:"Use same dates as my stall reservation"})]})]})})]})]})}))(Hl||(Hl=Object(k.a)(["\n  &&& {\n    overflow: visible;\n  }\n  &__card-headline-wrapper {\n    margin: 0 0 15px 0;\n    ","\n    flex-direction: column;\n    ","\n    justify-content: flex-start;\n    align-items: baseline;\n\n    h2 {\n      margin-top: 0px;\n      ","\n    }\n  }\n  &__required-text {\n    ","\n    font-size: 16px;\n    letter-spacing: 0.7px;\n    margin: 0 0 0 5px;\n    color: ",";\n  }\n  &__row {\n    ","\n    flex-direction: row;\n    align-items: flex-end;\n    justify-content: flex-start;\n    flex-wrap: wrap;\n  }\n  &__item {\n    width: 100%;\n\n    &:not(.checkbox_container) {\n      ","\n    }\n    input.MuiInputBase-input.MuiFilledInput-input {\n      background: ",";\n    }\n  }\n  &__item:first-child {\n    > div {\n      ","\n    }\n  }\n  &__item:last-child {\n    margin-top: 20px;\n\n    ","\n  }\n\n  .checkbox_container {\n    width: 100%;\n    ","\n    justify-content: flex-start;\n    align-items: center;\n    margin: 10px 0;\n    ","\n  }\n  &__rv-spots-quantity-field {\n    margin: 0 auto !important;\n  }\n  p.Mui-error {\n    position: absolute;\n    top: 53px;\n    font-size: 15px !important;\n  }\n\n  &__quantity-field-wrapper {\n    position: relative;\n  }\n"])),Ke,en("SMALL_TABLET_WIDTH","\n      flex-direction: row;\n    "),en("SMALL_TABLET_WIDTH","\n        margin-top: 5px;\n      "),qe,P.text.lightGray2,Ke,en("SMALL_TABLET_WIDTH","\n        flex-basis: 50%;\n      "),P.background.primary,en("SMALL_TABLET_WIDTH","\n        padding-right: 10px;\n      "),en("SMALL_TABLET_WIDTH","\n      margin-top: unset;\n      padding-left: 10px;\n    "),Ke,en("SMALL_TABLET_WIDTH","\n      justify-content: flex-end;\n    ")),Xl=Object(E.b)(ur)(Kl||(Kl=Object(k.a)(["\n  margin: 0;\n  font-size: 25px !important;\n  letter-spacing: 1.1px !important;\n  line-height: 25px !important;\n"])));var Jl,$l=Zl;const ed=L()(Jl||(Jl=Object(k.a)(["\n  query RvProductAvailability($input: RVProductAvailabilityInputType) {\n    rvProductAvailability(input: $input) {\n      productId\n      available\n    }\n  }\n"])));var nd=e=>{const n=e.className,t=void 0===n?"":n,s=e.noLayout,i=e.reservationEdit,c=e.allowBackDateQuery,o=e.handleProductAvailability,l=e.loadingHandler,d=Object(Ia.f)().values,u=Object(r.useState)([]),p=Object(w.a)(u,2),b=p[0],m=p[1],h=d.event,x=d.rv_spot,O=d.rvProductId,g=h.id,v=h.rvProducts,f=x.quantity,y=x.start?Hr()(x.start).format(As):null,A=x.end?Hr()(x.end).format(As):null,N=Object(_.a)(ed,{fetchPolicy:"network-only"}),S=Object(w.a)(N,2),I=S[0],C=S[1],D=C.loading,k=C.data;Object(r.useEffect)((()=>{y&&A&&g&&I({variables:{input:{eventId:g,startDate:y,endDate:A}}})}),[y,A,g]),Object(r.useEffect)((()=>{l&&l(D),!D&&k&&k.rvProductAvailability?(m(k.rvProductAvailability),o&&o(k.rvProductAvailability)):(m([]),o&&o([]))}),[k,null===k||void 0===k?void 0:k.rvProductAvailability,D]);const E=Object(r.useMemo)((()=>v.map((e=>{const n=e.id,t=e.price,a=e.rvLot,r=e.description,s=e.name,i=a.description,c=a.name,o=a.power,l=a.sewer,d=a.water;return Object(j.a)(Object(j.a)({},e),{},{description:"",header:s||c,id:n,key:"product-".concat(n),power:o,price:t,sewer:l,subheader:r||i,water:d})}))),[JSON.stringify(v)]);return Object(a.jsx)(xc,{allowBackDateQuery:c,className:t,endDate:A,items:E,productAvailability:Object(ec.cloneDeep)(b),productId:O,productType:"rvs",quantity:f,startDate:y,title:"RV Spot Type",loading:D,noLayout:s,reservationEdit:i})},td="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAA8CAYAAADMtVzqAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAATKADAAQAAAABAAAAPAAAAADvaycvAAAHUUlEQVR4Ae1ca2wUVRS+Z3aXvim7tdAX7bZU5BEqJIAKqDH9o6CmEBIBMUGIMeIffhj8QWIaAR+JEan+IEFilESIxYiKP4gkRkUQVESFUKClK7Tb0na3tfS9u3P97nYXZ2dmtzO0AtvOJJO595xzz53z7bnnPmeJJbgKC2fl9PPBKsb5Ctz3QrSUM5aRoEjysYh1EmMtjFEdI/6NI81+5HpDQ1s8QyCrvQRQfaH+aih5kTHu0EqMYwrRIEDZM4nbd7a21rerLdUA5swreYIRfQqPmqIWnlD5sOfRWn+L56jSbpsy48xzv4T8ftzpSvoETafB7nVpmc72gZ6uX6MY3PSwewpKnwrJ8mEwpCjTeoYRkG2SVNXhbfxa5MKAuQpmTGdy6DxnPMsCSYsAQOohe8osX9Ol5mFvkkOvW2BpgYpSMDLI5MGhHSJPeW63e3CANyBtNcUoQvpPOZWkMmlokK20wNJHSEWVBhlfCa/iy1UMKxsfgeUS56w0Pt/iKBHgnJdKRKxASbTS8REQWAkPEwM06zKCAKeg1TMaASoig6FXmwWYCcCI0RkLMBOAMYm+tQAzDBj9w9Jtn1mAGQWM6AN/fX23BZgBwIioLsOWt1OIWoCNBBgWEu02eqap6WS/BdjIYPklm/R4W1Pjn1FRy8OiSKifxI4T2ef7mhpPK1l2ZcZKAwGis8Rpp8975XPELiyFxV5JDRjmdv2c06lYk0bIEVuCDZ5JGimidonYIz6vp07wAJZGRBCSGjCYda2z1fOYrmVxiK589xa4zS4Nm/Nc0FbhfkPDUxAop8BdpciPVVLjyqNVjEWCt7G8cp9SD7zgkr/FE0NT8uOlsZUoNjSe1OEHSbI/6vc2nNDhhUn6fhdP+g7SXXnuk5j8Pqh8hVsFLLyjL/f/gR+hUKkvnCa6muXImn/16l+dGh4IE7KXbG6u80mcnoX9sgYUzot7Ajc+1NAjhAkJmLC9o9XzPUm0XQ8YNP1VkU1tDXvCAiaQqFy6aDu6wx80qICATvLdqUWlFWoe5RbNKFcT78Z8MBSqxXBgvvLdbjWGKXW4CsuLuBw4yzjLUdJFGvovpFLOQq/3t74ozx4MBi9HMxPx6W+ub8IxiY0hLn+pth9Nc/YA970P+qYob0I3ySgIODfxFbypJppXPtEzb3QWuNdGaRZgESRcGfataIO/R4FRPklme8LnT0C0AIsgU19fP4hTOmswMO1RgiXS8LLJnId2iLQFmEAhcnU0X7lETHo5mo95cr7eWVQ2L6nnkvjlXYgvr8YYNsqMDH9CE/Ribqfe4JZYiK8hzKvGfN43yne+i4vTd1aTNPHzIL4ttAAzARhCQJYFmAnAhKgFmEnAkrqXxOj8cuWyRbNN2mxI/Njx0x+hw3xOLZzUgMEYXltbG1IbNRZ5Z74bowftAMJqkibRTXYPG9HcoqK5rl7e/xCF5IX4+MqOkfxFrHX9ggn3xREL6wiMW8CmVVRkBDq6t/aFel5By0oPN65wI8OqtJgi5LsPE+PbfC1/X9DBJS5pXDZJZ1lZ9lB7949c5q9ho0PvuynCWtdKmdNJrEIsiYuODgOAUUCHnrSk6upqifWHjmB1dsHIRvBsJgePTiueWaaWxZ633tlfnHEl8XHl+Llq9n68Gk1umVGL0EozA0NDMZu3rrzyOZzY02odiH2t5Mwv2Y8K1quZRvOYX/Wi0lTIx3xKaLT8qOSGt/d3DOsYPgeBprYZ9ywdvRwG42iBbhMVmx4/iRCHcxWT4EQV0CFsirlwxvWgZLPRvhiqiQwGjrsqH16cncIc+ajkjImiYyOK7X1Z5ruHb7lGluUaPbDwo56zOVKLKpctnizeWa9yALlUeCb6g8V6YKGMzGy8BroYc+WX1KLAaj1FiWjZqeT0eDxdYR0FJRu5zG4Z/ET1jJYHkL7AkQJxboIVF89z3hjq9pvVCR27oWNLuJe0uTKfh7v9bFZJ7yD9t2/HFWmziv5neTS1m0G9P9Azz2x1aK7HHLmTt4lyYQ8TifLy8hR/b/AtKN+sexxICKkvYn5Ejn0IkAVw53Vg39SnFr3TeXjIAdjVhHfdhHd1GXsfjCAk2uZvvvIOygMaHQNzimYWMjmwCmOYBWjPUyEYDuZIP4CKnMYqGpZCWXHWymOmzBjIuvXiWEK9wx/En4rIiFXq6zhGcEaaxA+1ezytyrKGPQJr52uYzA8oCydMi8O0KTRHXWHCMmPAzHW784KD7AK8aYphdRKt7fR6DhqRNzwUGLjRdS4tyyliwf0GFAcxZ9vga/LEnA81UG7UIn1dXT3pmc4GjBBEkA/H6IRKiT7pbPFEhiYJJcPMkRUqdPi9jRswYHkTpPhLKiKuSdIKf2vjIUXR25oUdYt3QERN1BuGhC1hm0y8neEmqdQ5dXr5jEAgsAUvtAQDPfEXM70IptjTY4dtroy97efPazZDleVvVzp37tzMkL/3BUTrKoTsmag3AyPTy4hRJxwOx3tt1+rhieaufwExn1T4Odz17wAAAABJRU5ErkJggg==",ad=t(1149);var rd,sd=({className:e="",stripe:n,elements:t})=>{const r=Object(Ia.f)().values,s=void 0===r?{}:r,i=s.addOns,c=s.ccInformation,o=s.event,l=s.rv_spot,d=s.rvProductId,u=s.stalls,p=s.stallProductId,b=o.addOnProducts;return Object(a.jsx)(rl,{className:e,addOnProducts:b,ccInformation:c,stallProductId:p,rvProductId:d,addOns:i,stalls:u,rv_spot:l,stripe:n,elements:t},"".concat(o.id,"-").concat(p,"-").concat(d,"-").concat(i.length))};const id=L()(rd||(rd=Object(k.a)(["\n  query RvSoldOutStatus($id: ID) {\n    event(id: $id) {\n      id\n      rvSoldOut\n    }\n  }\n"])));var cd,od,ld;const dd=Object(E.b)((e=>{const n=e.className,t=void 0===n?"":n,s=e.elements,i=e.stripe,c=e.setIsZeroRatesForm,o=Object(Ia.f)(),l=o.values,d=o.errors,u=o.isSubmitting,p=o.setFieldValue,b=Object(r.useState)(!1),m=Object(w.a)(b,2),j=m[0],h=m[1],g=l.event,v=l.event.venueAgreement,f=l.rvProductId,y=l.hasEmptyRVQuestions,A=l.hasEmptyStallQuestions,N=l.stallProductId,S=So(),I=S.isStallsUrl,C=S.isCheckoutUrl,D=S.isRvsUrl,k=S.goToRvs,E=S.goToCheckout,R=Boolean(d.rv_spot)||!f,T=Boolean(d.stalls)||!N,P=Boolean(d.addOns&&d.addOns.length>0),M=g.rvProducts.length>0,B=Object(_.c)(id,{variables:{id:g.id},fetchPolicy:"network-only"}).data,F=xs(l),L=Object(_.c)(Fc,{variables:{input:{selectedOrderItems:F,useCard:!1,isNonUSCard:!1}},fetchPolicy:"network-only"}),q=L.data,z=L.loading,Y=q&&q.orderCosts,V=Y||{},U=V.total,W=V.discount;let Q;c(0===U&&W>0),Q=Object(Ia.f)();const G=()=>{var e,n;return I?T||P||(null===(e=Object.keys(A))||void 0===e?void 0:e.length):D?R||P||(null===(n=Object.keys(y))||void 0===n?void 0:n.length):!C||!((e,n,t)=>{const a=Go()(t,"ccInformation");return 0===e&&n>0&&fs(a)})(U,W,d)&&(!Zo(l,s)||!fs(d))},H=function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Q.submitForm();case 3:window.scrollTo(0,0);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),K=Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(ad.a,{control:Object(a.jsx)(ud,{checked:j,color:"primary",type:"checkbox",name:"venueAgreement",value:j,onClick:()=>{h(!j),p("venueAgreement",!j)}}),label:Object(a.jsxs)("span",{children:["I confirm that I have read and accepted the"," ",Object(a.jsx)("a",{href:"".concat(v?v.url:"#"),target:"_blank",rel:"noopener noreferrer",children:"Venue Agreement"}),"."]})})});return Object(a.jsx)(ls,{className:t,dataTestId:"renter_reservation_summary",children:Object(a.jsxs)("div",{className:"".concat(t," flex-checkout-container"),children:[Object(a.jsx)(sd,{className:t,elements:s,stripe:i}),C&&K,Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsxs)(Yn,{"data-testid":"reservation-summary-contiune-btn",primary:!0,variant:"contained",size:"large",type:C?"submit":"button",disabled:G()||u,onClick:C?H:e=>{e.preventDefault(),(I||D)&&E(),window.scrollTo(0,0)},isLoading:u&&z,children:[(I||D)&&"CONTINUE TO CHECKOUT",C&&"SUBMIT"]}),!(D||C)&&Object(a.jsx)(Yn,{"data-testid":"add-rvs-btn",className:M?"":"unavailable-rv-button",secondary:!0,variant:"contained",size:"large",type:"button",disabled:(Z=null===l||void 0===l?void 0:l.stalls,!!(Z.quantity>0&&G())||u||!M||(null===B||void 0===B?void 0:B.event.rvSoldOut)),onClick:()=>{k(),window.scrollTo(0,0)},children:g.rvProducts.length?null!==B&&void 0!==B&&B.event.rvSoldOut?"RV SPOTS SOLD OUT":"BOOK RV SPOT(S)":"RV SPOTS UNAVAILABLE"})]})]})});var Z}))(cd||(cd=Object(k.a)(["\n  &.flex-checkout-container {\n    ","\n    flex-direction: column;\n    font-size: 16px;\n\n    .unavailable-rv-button {\n      border: none;\n      background-color: white;\n    }\n\n    .actions {\n      margin: 0;\n\n      button {\n        height: 36px;\n        width: 100%;\n        margin: 15px 0;\n        &:first-child {\n          margin: 25px 0 0;\n        }\n      }\n    }\n\n    .progress-spinner {\n      &&& {\n        bottom: 3%;\n        color: ",";\n        left: 44%;\n        position: absolute;\n      }\n    }\n  }\n"])),Ke,P.primary),ud=Object(E.b)(Wl)(od||(od=Object(k.a)(["\n  &&& {\n    ","\n    span svg {\n      color: ",";\n    }\n    ","\n  }\n"])),en("BIG_TABLET_WIDTH","\n      top: -10px;\n    "),P.secondary,(e=>{if(e.disabled)return Object(E.a)(ld||(ld=Object(k.a)(["\n          opacity: 0.5;\n        "])))}));var pd=dd,bd=t(393),md=t.n(bd);var jd=()=>{const e=So(),n=e.goToStalls,t=e.isCheckoutUrl,r=e.isStallsUrl,s=e.isRvsUrl,i=e.goToEvents,c=e.goBack,o=e.prev,l=Object(Ia.f)().values.stallProductId;return Object(a.jsxs)(a.Fragment,{children:[t&&Object(a.jsxs)("div",{className:"card-headline-wrapper",children:[Object(a.jsxs)("a",{role:"button",tabIndex:"0",onClick:()=>c(),onKeyDown:()=>c(),children:["<","rvs"===o?"BACK TO RVS":"BACK TO DETAILS"]}),Object(a.jsx)(ar,{label:"Checkout"})]}),s&&Object(a.jsx)("div",{className:"card-headline-wrapper",children:Object(a.jsx)("a",{role:"button",tabIndex:"0",onClick:l?n:i,onKeyDown:l?n:i,children:Object(a.jsxs)("div",{className:"to-events-content",children:[Object(a.jsx)(md.a,{}),Object(a.jsx)("span",{children:l?"Back to stall details":"Back to all events"})]})})}),r&&Object(a.jsx)("a",{className:"to-events-link",onClick:i,onKeyPress:i,role:"button",tabIndex:"0",children:Object(a.jsxs)("div",{className:"to-events-content",children:[Object(a.jsx)(md.a,{}),Object(a.jsx)("span",{children:"Back to all events"})]})})]})};var hd=()=>{const e=Object(Ia.f)().values,n=e.event,t=e.stalls,r=e.addOns,s=e.rvProductId,i=e.rv_spot;return Object(a.jsx)(ls,{children:Object(a.jsx)(Ao,{event:n,stalls:t,addOns:r,rvProductId:s,rv_spot:i})})},xd=t(1242);var Od=Object(zt.a)({root:{color:"rgba(0, 0, 0, 0.54)",opacity:.54,"&$checked":{color:P.icons.blue,opacity:1}},checked:{}})((e=>Object(a.jsx)(xd.a,Object(j.a)({color:"default"},e))));t(533);const gd=Object(zt.a)({root:{color:P.text.lightGray2,opacity:.54,"&$checked":{color:P.icons.blue,opacity:1}},checked:{}})((e=>Object(a.jsx)(Qt.a,Object(j.a)({color:"default"},e)))),vd=({question:e,productType:n})=>{const t=e.questionType,s=e.answerOptions,i=e.id,c=Object(Ia.f)(),o=c.values,l=c.setFieldValue,d=o.productQuestionAnswers,u=o.hasEmptyRVQuestions,p=o.hasEmptyStallQuestions,b="stalls"===n?p:u,m="stalls"===n?"hasEmptyStallQuestions":"hasEmptyRVQuestions",h=d.find((e=>e.questionId==i));Object(r.useEffect)((()=>{const n="multipleSelection"===t&&(null===h||void 0===h?void 0:h.answer.some((e=>e.replace("Other: ","").length<2)))||"openText"===t&&(null===h||void 0===h?void 0:h.answer[0].replace("Other: ","").length)<2;if(e.required){const e=!h||!h.answer.length||n;b[i]&&!e?(delete b[i],l(m,Object(j.a)({},b))):!b[i]&&e?l(m,Object(j.a)(Object(j.a)({},o.requiredQuestions),{},{[i]:!0})):n&&!b[i]&&l(m,Object(j.a)(Object(j.a)({},o.requiredQuestions),{},{[i]:!0}))}else!n&&b[i]&&(delete b[i],l(m,Object(j.a)({},b)))}),[o.event.stallQuestions,o.event.rvQuestions,d,n]);const x=(e,n,a)=>{var r,s;const c=[...d],o=c.findIndex((e=>e.questionId===i)),u=n?null===(r=c[o])||void 0===r?void 0:r.answer.findIndex((e=>e.indexOf("Other: ")>=0)):null===(s=c[o])||void 0===s?void 0:s.answer.indexOf(e);var p,b;if(!a)return null===(p=c[o])||void 0===p||null===(b=p.answer)||void 0===b||b.splice(u,1),l("productQuestionAnswers",c);if(o<0)c.push({questionId:i,answer:[e]});else if("singleSelection"===t||"openText"===t)c[o].answer=[e];else if(n){const n=u<0?c[o].answer.length:u;c[o].answer[n]=e}else c[o].answer.push(e);return l("productQuestionAnswers",c)};var O;return"openText"===t?Object(a.jsx)(Ia.a,{component:Zn,className:"open-text-answer",type:"text",multiline:!0,value:(null===(O=d.find((e=>e.questionId==i)))||void 0===O?void 0:O.answer[0])||"",rows:"1",variant:"filled",name:"openTextAnswer-".concat(i),inputProps:{maxLength:250},onChange:e=>x(e.target.value,!1,!0)}):(null===s||void 0===s?void 0:s.map((e=>{const n=d.find((e=>e.questionId==i)),r="Other"===e?null===n||void 0===n?void 0:n.answer.find((e=>-1!==e.indexOf("Other: "))):null===n||void 0===n?void 0:n.answer.find((n=>n===e));return Object(a.jsxs)("div",{children:[Object(a.jsx)(ad.a,{style:{marginLeft:20},className:"question-option",control:"singleSelection"===t?Object(a.jsx)(Od,{checked:!!r}):Object(a.jsx)(gd,{checked:!!r}),label:e,onChange:n=>x("Other"===e?"Other: ":e,!1,n.target.checked)}),"Other"===e&&Object(a.jsx)(mn.a,{value:(null===r||void 0===r?void 0:r.replace("Other: ",""))||"",disabled:!r,onChange:e=>x("Other: ".concat(e.target.value),!0,!!e.target.value)})]},e)})))||[]};var fd=({productType:e,questions:n})=>{const t="stalls"===e?"Stall":"RV";return Object(a.jsxs)(ls,{className:"renter-questions-card",dataTestId:"renter-question-card",children:[Object(a.jsx)("div",{className:"heading-container",children:Object(a.jsx)(jr,{label:"Additional ".concat(t," Info")})}),n.map((n=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{className:"openText"===n.questionType?"open-text":"",children:[n.question,n.required&&Object(a.jsx)("span",{className:"required-text",children:" (Required)"})]}),Object(a.jsx)(vd,{question:n,productType:e})]})))]})};var yd=function(e){const n=e.user,t=e.elements,s=e.setIsZeroRatesForm,i=e.stripe,c=So(),o=c.stallsRoutePattern,l=c.checkoutRoutePattern,d=c.rvsRoutePattern,u=Object(H.g)().push,p=Object(Ia.f)().values.event,b=p.closeDate||"",m=p&&p.venue.timeZone?p.venue.timeZone:null;return Object(r.useEffect)((()=>{const e=cs()(b,As);if(e.tz(m),b){e.isBefore(cs()(),"day")&&u(ae.ROOT)}}),[b,m]),Object(a.jsx)(kl,{backButton:Object(a.jsx)(jd,{}),rightColumn:Object(a.jsx)(pd,{user:n,elements:t,stripe:i,setIsZeroRatesForm:s}),children:Object(a.jsxs)(H.d,{children:[Object(a.jsxs)(H.b,{path:o,exact:!0,children:[Object(a.jsx)($i,{}),Object(a.jsx)(El,{text:"Book Stalls",headerIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAPKADAAQAAAABAAAAPAAAAACL3+lcAAAJuElEQVRoBe1bC4xcVRk+5967r2GfM9t2Z3ZpZx+2hBYtpQU0hLRAGsCEoFBjCNHSNsZYxPiIVgTrA1GMkkgpYqhCfSQCajAxIIQqaSSUui2tWtPW3dkp3Z3dLTuzr9nudHfuOX5ntjPcmbnnzL0zd40Yb7K55/z/93/n/+95nzNLicMn0N51I2fmpzmn6wnhYYWZSQj9JyXkr0aV8fC5s339CmyRaumlPd3p+fT9nJANKOdyAPQiUE5Ao5TyXqrpT8aHIgdyYkUCfqkfjgj9wfCPgLoXfyXxVjZKyXmq0Z3xoegzVrksHWgPb+WM7+Wc+GQYiRzfh+xNDEfvo/gCEkxGXDKAQKhzJ2PscRVJCV1a16quGYv1HVXhWkM960w2/yYwhgqn0mmadm88NrBXiVEpw+FwM2fsERXGgc5gLK10QnBcxJQdrOAQvgqfRVr2aDKFkE/PaevRPi5RYZzoOOEbQqGrpM1U6ATGCZcKI3wVPqswyoDRn9aqjF3o9Ata/AoZ/qJOMTjJLIvlpXxWBoxGIq2V4qLUEsrlXCqdmtVOKy9HoEsEbEf43pb9P+D3dv2V9l5Zw5ikPevDpV3xBgGflbOKNGAxnzHKd3jjxn+OBT5vX778ihZZidKApy6Q3YSTgMzwv1YOn5Pz07tl/tkG3NretRLr2Z0yo7LkTJ+W2ql0UiO5Auv/na2hzlV2CNuATdP8IebgKjuDcmW1el1EZqvSyWxKyA3G+aN2mKLNgz/UuRlr0pftwOXKKKGjiZFom8re3xYewfJymQrjVoed083YQeXFklfDW7Zs0bGKt/0ybguz4vFV91vzdmlgnrGTVybjj27cuDFvQ5IX8IHXe7diAb66skKKrE2jpubJImmBAJifQITDA+8ejEOX/+3UmXusjLmARe2iKX/VqvQijWa1b/TMqYFSXAKjUfpUKZxbPbrJA6tXr67O2uV2KKPjs3dDuT2r8OZNJ2uI8ZFkMnHeCV9Tfethk/BPAVvrBO8Q0zSdmo+lkhO9Ap+rYU7YLocEjmEYrB4aGel7x6mBwFLCv+0U7xSH3Zg4nso8mYCXtIfXivaeFXr07g8GfI+55QoG6vfAps+tnQovxqVAR/gagckEnGbkYyqDcnSaRr904sSJObe2wkbYurUrhWeMfkJgFpo05x4HTP8cj0VfKOWETA/b32OacnTsKuMokjN2i5Bpy5av7MK7uwggBJROaJR89BIj5KM6+RAkTpoaq9Lp5235XAgNQ/sC4CWnKcwC/xK+NdXSOrSM2zFuTEmK6VzS0d2j19Q13ohlpG0No/q/GB8584upqcH07PTkYF1j61EcDW6TEGbEOIv+6VgsWvH0MjM1MepraAmBVHkoRzXjtkRs4I2JiQn4OHHK19iSxFr6VjsfMQsd0zjlV9kphYxrxjGrro40v2XNF6YR7KxRqz1QKC83X+XTvy44VfY+bWmeTxonx6V4TtegxRLFyWT6Zqtxio9n+oFVZk2jOe0/NzAwapVVkh7t7z9HOH1WxXHeHM2rTZOwzXI8X2NgyA7KAJyRr7UEw1UGoS9iY30lbiC+JcMKOSX6PpW+HB016I95mm+V2WL9sA+3I0FRs2nCb0Vz/rIMC/ml6KakWQHQCOe70pwdZIzjfok3ybBoKclN163L6wIyrBv5Z3d8sheDp3x647wZFbFH+Ch8BbeIyf7hxE+xLZtEZ260R7iQUnp8fDiq6B4uuAqguMw7jZp7X4HYfRYfDi2BKw+9nLLizi7lFOsWBx+9Ghc4Bi0649YBWzxVdg1bE6dC+LjEKVaFQ6XMaYRy+VmTyrpAhybXg6emQFxxdoGTL6+YaIFgRsN9d9wjMj0+y27yiCtHk5hJb8LGpi4nqCRByVnsufnpSjistpQxj/fTgt3LPTo/I4bwk1anK0mjWd/eEuq6rhIOq22grWsDavcOq6zC9Emx0spbmlVIiAbDnhK3FhXyEHF7wCn7FXjgojcP1/RDWp1e/xrosODy5kEtXzaVIi+1rlrVUC6jCHZ6fvoFT+ZeixM+Un1IGxw8kcBKxtMVEubNa83J1DF/+4oPWspzlAx0dF49PTd1GKum6x0ZOARhajs8NHQynjmzxfrxt4yQKx3aOoV1cZO87g+uOIA2+URDDX0pGo3aLk7QBWonU/wG7Iy2sTTzss/mfOUa+Z3IZPpHMNi5IsWZOEr1rL/kSno3wUE+jBKimAoza2N0+CoMSsuwie9A8/XypPLdUhdSvLq6pmf07dORXID+thWvoiPjMOB/78EHfTExHP2wiCy3s8DP977nKFRx7KNp9+kG3YRl2iOwKXkM44jXGcgUZWbKhg/iCMqRGaXY6S08uRoWWeycDmHAyRxnXtQXvSjRtiRGBn6TVWC//DAGGM9vLLL8eW9Kv4sd2f1Zmb+t807sh5/P5u3eGKzexEXetVldroaFQKdUtXnO2OgB3x+zxhkbnbxizS9mWufkZSu/1lSdl7fqsmmuaXlHvnkBvzM8cBDN5OdZsN07PZ76gFWOU5H3W/OLmcbeLq8sczqdly8sG7X73Hgs8herPK9JC8Wy7u6l8zPptzCAhazAbBoDwClO9e1GS+1xlkhuxoj7NLpBY1a/uG86qVG+TfPXvyI+POXmzzC6r7QrE8GO1mrVa2Kx02NWfVHAQtka7FrPiHkQU4Y3uxRriUij0D9h4PsM8+nDZGZ+B8r5wYK4AFh+luu6ftvYUOQPhRR6oUDkzyfHY7WNLf1YcN5pp69EhhaSaqylV8fORodmE4kLs8nJN+oamrvBmddVKikDH/Nz+BnxL+048vqwFTAei/6aUO07Vpk3aR7BiitvOkHzO+INt2g99BsIdo+MTxqwMEjEIg+C4FmZcTlyNN/LxJVHgW1mUVAgc51F63kMU9A3VYa2fdhqgEGB+kNdD+GKJTf/WfVlpiNY8jyoUzJsMroD8/hdZfLkzPCvBvvjQwP3IGjlzq9kwFnGllD447hYxqi4OANZthy3bzEmYNPxFdw4OrqLdhywcOTi6I19Kml369hi4OH8P7ih3zU+GPm7U35lHy4kGRuO9Fb5jHWlFieFdouUfxyj/QY3wQo/XNWw1fElwc7rTc6/X2rtbbXxJE3pQV0nu8cGo6+Vw1d2wNnCAqGum/APXLswUtwAWcV8Wd6CN0dffVXHj2Qyy98CpZusZw6KQ4Q5wu5mhN6BUXctnKiYG1PiIbA8RzTj+cRQ36CbwGTYip2yI+7oWO2fNZMbGdHWUcJWYWZbidkigLveBnSBethkxw4TAU1iRTeOkXYc3+ht/GzpCCf0aDU3jrj5yZOdH3ayfwMwhy4wOx15lwAAAABJRU5ErkJggg=="}),Object(a.jsx)($l,{type:"stalls"},"stalls"),Object(a.jsx)(Oc,{}),p.stallQuestions.length>0&&Object(a.jsx)(fd,{productType:"stalls",questions:p.stallQuestions}),Object(a.jsx)(po,{label:"ADD ONS"})]}),Object(a.jsxs)(H.b,{path:d,exact:!0,children:[Object(a.jsx)($i,{}),Object(a.jsx)(El,{text:"Book RV Spots",headerIcon:td}),Object(a.jsx)($l,{type:"rvs"},"rvs"),Object(a.jsx)(nd,{}),p.rvQuestions.length>0&&Object(a.jsx)(fd,{productType:"rvs",questions:p.rvQuestions}),!p.stallProducts.length&&Object(a.jsx)(po,{label:"ADD ONS"})]}),Object(a.jsxs)(H.b,{path:l,exact:!0,children:[Object(a.jsx)(Sl,{user:n}),Object(a.jsx)(Vc,{user:n,elements:t}),Object(a.jsx)(ho,{}),Object(a.jsx)(hd,{})]})]})})},Ad=t(577);const wd=Object(Ad.a)("pk_test_UYkn9LxG5nNyIIiCX7VvBk5k00m3UktrfH");var Nd,Sd=e=>class extends r.Component{render(){return Object(a.jsx)(Qi.Elements,{stripe:wd,options:{fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=IBM+Plex+Sans"}]},children:Object(a.jsx)(e,Object(j.a)({},this.props))})}};const Id=L()(Nd||(Nd=Object(k.a)(["\n  query EventForOrderCreate($eventId: ID) {\n    event(id: $eventId) {\n      id\n      name\n      description\n      startDate\n      endDate\n      checkInTime\n      checkOutTime\n      openDate\n      closeDate\n      stallQuestions {\n        id\n        question\n        questionType\n        answerOptions\n        required\n      }\n      rvQuestions {\n        id\n        question\n        questionType\n        answerOptions\n        required\n      }\n      venue {\n        city\n        description\n        id\n        name\n        phone\n        state\n        street\n        street2\n        timeZone\n        zip\n      }\n      stallProducts {\n        description\n        endDate\n        id\n        name\n        nightly\n        price\n        startDate\n      }\n      addOnProducts {\n        id\n        price\n        addOn {\n          id\n          name\n          description\n          unitName\n        }\n      }\n      rvProducts {\n        id\n        name\n        description\n        startDate\n        endDate\n        price\n        nightly\n        rvLot {\n          id\n          name\n          description\n          sewer\n          water\n          power\n        }\n      }\n      venueAgreement {\n        id\n        name\n        url\n      }\n      venueMap {\n        id\n        name\n        url\n      }\n    }\n  }\n"]))),Cd=(e,n,t=null,a)=>{const r="renter"===a,s=r?3e5:6e3,i=r?"Close":null;t&&console.error("".concat(n,": ").concat(t)),e&&"function"===typeof e&&e(n,{error:!0,duration:s,action:i})},Dd=(e,n)=>{const t=Cr[e];if(!t)return!1;const a=t.static;return!(!a||!a.includes(n))},kd=e=>{const n=e.user?e.user.role.id:null,t=Object(H.h)().pathname;return Dd(n,e.perform)?e.yes():(e.ignoreRoute||e.rejectRoute(t),e.no())};kd.defaultProps={yes:()=>null,no:()=>null,user:null,ignoreRoute:!1};var _d,Ed=A(kd);const Rd=L()(_d||(_d=Object(k.a)(["\n  mutation OrderCheckout($input: OrderCheckoutInput) {\n    checkout(input: $input) {\n      success\n      order {\n        payments {\n          last4\n          cardBrand\n        }\n        orderItems {\n          id\n          price\n          quantity\n          addOnProduct {\n            id\n            price\n            addOn {\n              description\n              id\n              name\n              unitName\n            }\n          }\n          reservation {\n            id\n            status {\n              id\n              name\n            }\n            startDate\n            endDate\n            assignmentConfirmed\n            stallProduct {\n              id\n              nightly\n              startDate\n              endDate\n              name\n              description\n              price\n            }\n            rvProduct {\n              id\n              startDate\n              endDate\n              price\n              nightly\n              rvLot {\n                id\n                name\n                description\n                sewer\n                water\n                power\n              }\n              name\n              description\n            }\n          }\n        }\n        createdAt\n        fee\n        id\n        notes\n        successor\n        total\n        user {\n          id\n        }\n        event {\n          id\n          name\n          startDate\n          endDate\n          checkInTime\n          checkOutTime\n          venue {\n            city\n            description\n            id\n            name\n            phone\n            state\n            street\n            street2\n            timeZone\n            zip\n          }\n          stallProducts {\n            description\n            endDate\n            id\n            name\n            nightly\n            price\n            startDate\n          }\n          addOnProducts {\n            id\n            price\n            addOn {\n              id\n              name\n              description\n              unitName\n            }\n          }\n          rvProducts {\n            id\n            name\n            description\n            startDate\n            endDate\n            price\n            nightly\n            rvLot {\n              id\n              name\n              description\n              sewer\n              water\n              power\n            }\n          }\n        }\n      }\n      error\n    }\n  }\n"]))),Td=e=>{const n=((e=[])=>e.reduce(((e,n)=>n.addOnProduct?Object(j.a)(Object(j.a)({},e),{},{addOnProduct:!0}):n.reservation&&n.reservation.stallProduct?Object(j.a)(Object(j.a)({},e),{},{stallProduct:!0}):n.reservation&&n.reservation.rvProduct?Object(j.a)(Object(j.a)({},e),{},{rvProduct:!0}):e),{addOnProduct:!1,stallProduct:!1,rvProduct:!1}))(e.orderItems);return n.rvProduct&&n.stallProduct&&!n.addOnProduct?"Stall and RV spot reservation has been successfully created":!n.rvProduct||n.stallProduct||n.addOnProduct?n.rvProduct||!n.stallProduct||n.addOnProduct?n.rvProduct||n.stallProduct||!n.addOnProduct?"Reservation/order has been successfully created":"Add on order has been successfully created":"Stall reservation has been successfully created":"RV spot reservation has been successfully created"},Pd=Object(re.a)(Rd,{props:({mutate:e})=>({orderCheckout:function(){var n=Object(O.a)(x.a.mark((function n(t){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e({variables:{input:t}}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),options:e=>({onCompleted:({checkout:n})=>{n.success&&(e.user.id===n.order.user.id&&e.onUpdate(e.user),Dd(e.user.role.id,wr)?(e.history.push(ne.ADMIN.ORDERS),e.showSnackbar(Td(n.order),{success:!0,duration:5e3})):e.history.push({pathname:ne.RENTER.CONFIRM_RESERVATION.replace(":orderId",n.order.id),state:n})),n.error&&Cd(e.showSnackbar,n.error,n.error,e.user.role.name)},onError:n=>{Cd(e.showSnackbar,"Order could not be created",n)}})});Object(se.a)(D,H.j,A,Pd);var Md,Bd=Object(se.a)(H.j,Sd,A,D,Pd)((function(e){const n=Object(Qi.useStripe)(),t=Object(Qi.useElements)(),s=e.eventId,i=e.user,c=e.orderCheckout,o=Object(r.useState)(!1),l=Object(w.a)(o,2),d=l[0],u=l[1],p=Object(_.c)(Id,{variables:{eventId:s},fetchPolicy:"network-only"}),b=p.loading,m=p.data,j=void 0===m?{}:m,h=p.error;if(b)return Object(a.jsx)(B,{});if(h)return Object(a.jsx)(ta,{label:h});const g={event:j.event||{},ccInformation:{nameOnCard:null,saveCard:!1,selectedCard:null,zipCode:null,useCard:!0,country:""},renterInformation:{id:i&&i.id,firstName:i&&i.firstName,lastName:i&&i.lastName,phone:i&&i.phone,email:i&&i.email},renterNotes:null,rv_spot:{start:null,end:null,quantity:null},productQuestionAnswers:[],stalls:{start:null,end:null,quantity:null},addOns:{},hasEmptyRVQuestions:{},hasEmptyStallQuestions:{},stallProductId:null,rvProductId:null,sameDates:!1,venueAgreement:!1},v=Ca.e().shape({type:Ca.f().oneOf(["fullEvent","nightly"]),stallProductId:Ca.f().when("stalls.quantity",{is:e=>Number(e)>0,then:Ca.f().required("Stall Product not selected"),otherwise:Ca.f().nullable()}),rvProductId:Ca.f().when("rv_spot.quantity",{is:e=>Number(e)>0,then:Ca.f().required("RV Product not selected"),otherwise:Ca.f().nullable()}),ccInformation:Ca.e().shape({nameOnCard:Ca.f("Name on card is required").when("selectedCard",{is:e=>!e,then:Ca.f().min(2,"Name on card is too short").max(50,"Name on card is too long").nullable().required("Name on card is required"),otherwise:Ca.f().nullable()}),saveCard:Ca.c().required(),selectedCard:Ca.f().length(4).nullable(),zipCode:Ca.f().when("selectedCard",{is:e=>!e,then:Ca.f().nullable().required("Billing zip code is required"),otherwise:Ca.f().nullable()}),useCard:Ca.c().required()}),renterInformation:Ca.e().shape({id:Ca.d().cast(),firstName:Ca.f().min(2,"First name is too short").max(50,"First name is too long").nullable().required("First name is required"),lastName:Ca.f().min(2,"Last name is too short").max(50,"Last name is too long").nullable().required("Last name is required"),phone:Ca.f().matches("^[0-9]+$","Enter a valid phone number").length(10,"Enter a valid phone number").required("Enter a valid phone number"),email:Ca.f().email()}),renterNotes:Ca.f().max(250).nullable(),venueAgreement:Ca.c().required().oneOf([!0],"You must accept the venue agreement to continue")}),f=Ca.e().shape({type:Ca.f().oneOf(["fullEvent","nightly"]),stallProductId:Ca.f().when("stalls.quantity",{is:e=>Number(e)>0,then:Ca.f().required("Stall Product not selected"),otherwise:Ca.f().nullable()}),rvProductId:Ca.f().when("rv_spot.quantity",{is:e=>Number(e)>0,then:Ca.f().required("RV Product not selected"),otherwise:Ca.f().nullable()}),renterInformation:Ca.e().shape({id:Ca.d().cast(),firstName:Ca.f().min(2,"First name is too short").max(50,"First name is too long").nullable().required("First name is required"),lastName:Ca.f().min(2,"Last name is too short").max(50,"Last name is too long").nullable().required("Last name is required"),phone:Ca.f().matches("^[0-9]+$","Enter a valid phone number").length(10,"Enter a valid phone number").required("Enter a valid phone number"),email:Ca.f().email()}),renterNotes:Ca.f().max(250).nullable(),venueAgreement:Ca.c().required().oneOf([!0],"You must accept the venue agreement to continue")}),y=function(){var e=Object(O.a)(x.a.mark((function e(a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.ccInformation.selectedCard){e.next=2;break}return e.abrupt("return");case 2:return r={card:t.getElement(Qi.CardNumberElement),name:a.ccInformation.nameOnCard,zip:a.ccInformation.zipCode},e.next=5,Xo(n,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),A=function(){var n=Object(O.a)(x.a.mark((function n(t){var a,r,s,o;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.ccInformation.selectedCard||d){n.next=5;break}return n.next=3,y(t);case 3:r=n.sent,a=r;case 5:return n.next=7,$o({orderCheckout:c,values:t,stripeToken:a,user:i,isZeroRatesForm:d});case 7:s=n.sent,(o=Object(Cs.a)(s,"data.checkout.error"))&&Cd(e.showSnackbar,o||"Order could not be updated",o,i.role.name);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(a.jsx)(Ia.c,{initialValues:g,enableReinitialize:!0,validationSchema:d?f:v,onSubmit:A,children:()=>Object(a.jsx)(yd,{stripe:n,elements:t,user:i,setIsZeroRatesForm:u})})}));const Fd=Object(E.b)((e=>{const n=e.className,t=Object(H.i)().eventId;return Object(a.jsx)("section",{className:n,children:Object(a.jsx)(Bd,{eventId:t})})}))(Md||(Md=Object(k.a)(["\n  /* margin: 85px 50px 50px;\n  // max-width: 1800px;\n  min-width: 1130px; */\n\n  margin: 85px 0 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  @media screen and (max-width: 600px) {\n    margin: 15px 0 0;\n  }\n\n  @media screen and (min-width: 960px) {\n    margin: 85px auto;\n    max-width: 1800px;\n    min-width: 1130px;\n  }\n\n  &__Header {\n    &&& {\n      text-align: left;\n      margin: 0 20px 30px 0;\n    }\n  }\n"])));var Ld,qd=Object(r.memo)(Fd);const zd=L()(Ld||(Ld=Object(k.a)(["\n  query orderForViewDetails($id: ID) {\n    order(id: $id) {\n      id\n      createdAt\n      updatedAt\n      total\n      fee\n      platformFee\n      group {\n        id\n        name\n      }\n      canceled\n      event {\n        id\n        endDate\n        checkInTime\n        checkOutTime\n        name\n        rvProducts {\n          id\n          price\n          nightly\n          rvLot {\n            id\n            power\n            sewer\n            water\n          }\n        }\n        startDate\n        venue {\n          id\n          name\n          city\n          street\n          street2\n          state\n          phone\n          description\n        }\n        addOnProducts {\n          id\n          price\n          addOn {\n            id\n            name\n            description\n            unitName\n          }\n        }\n      }\n      orderItems {\n        id\n        addOnProduct {\n          id\n          price\n          addOn {\n            id\n            name\n            unitName\n          }\n        }\n        reservation {\n          id\n          endDate\n          rvProduct {\n            id\n            price\n            nightly\n          }\n          stallProduct {\n            id\n            nightly\n            price\n          }\n          startDate\n        }\n        quantity\n      }\n      payments {\n        id\n        amount\n        cardBrand\n        cardPayment\n        last4\n      }\n    }\n  }\n"])));var Yd,Vd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAaCAYAAAC+aNwHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAGgAAAAB+5WlTAAABfklEQVQ4Eb2TPU7DQBBGZ3ZDwwW4AiQNJcRGoom5AEIgwzFIJChwgyBOxRlQBIRjQJD4qRBO4Ah0QEFFsswgxrLDbuI0uBlrPe/tt2Mb4L+vSr27vhqZkuyr5KZILdevooEZXr5+dtsiwSIg9zA8NHAg/YjYmZv1wkKCUZglBL7NIC5NPIIL1oi1x9h/GStwwUqr4Cn2H36TyKny1QYD4rtWWEuOvXvpts6gKGxN4IRBBUlcvZOdpeYSTAuzJB2iC1Zar9l2ziWwwoAfqqSD3tHyrTTbqio3risGYH/0ISKcTIKZUb2mn9BnGRLwlZUYY/bmd2+2smu2+3SIlGSDoLYxkP5pBAwA9M5zq3pmg3ktHSIl6ViSaHKcLjS6my5BmkAaXElQqe1+0zuXPql/BPzAKQEM+y3/QmCuVgE/KCpJZ8BQ9nLNxIBps1x6nQJucErobYnEeQTZgavtOPzd0FtbHJtAJLYktPMhrSeFEohIkvzA8Uok61NVklSywDcaGcVNQpUNLAAAAABJRU5ErkJggg==";const Ud=({className:e})=>Object(a.jsx)(Wd,{className:e,children:Object(a.jsxs)("div",{className:"".concat(e,"__Page-Title"),children:[Object(a.jsx)(ar,{className:"".concat(e,"__Header"),label:"Page not found"}),Object(a.jsx)("p",{className:"".concat(e,"__Lead"),children:"We couldn\u2019t find what you are looking for."})]})});const Wd=E.b.section(Yd||(Yd=Object(k.a)(["\n  text-align: left;\n  div {\n    p {\n      margin-top: 40px;\n      font-size: 16px;\n    }\n  }\n"]))),Qd=(e,n)=>!!((null===e||void 0===e?void 0:e.graphQLErrors)&&e.graphQLErrors.length>0)&&e.graphQLErrors[0].extensions.code===n;let Gd;var Hd,Kd;!function(e){e.BAD_USER_INPUT="BAD_USER_INPUT"}(Gd||(Gd={}));const Zd=Object(E.b)((e=>{const n=e.className,t=Object(H.i)(),s=e.match.url.indexOf("details/")>1,i=e.match.url.indexOf("confirmation/")>1,c=Object(_.a)(zd,{variables:{id:t.orderId}}),o=Object(w.a)(c,2),l=o[0],d=o[1],u=d.data,p=d.error,m=d.loading;Object(r.useEffect)((()=>{!s&&!t.orderId||u||l()}),[u]);if(Qd(p,Gd.BAD_USER_INPUT))return Object(a.jsx)(Ud,{className:n});if(m||p)return Object(a.jsx)("div",{style:{marginTop:"100px"},children:m?Object(a.jsx)(B,{}):"Error retrieving orders"});let j="Reservation Summary";return u&&!Hr()(u.order.createdAt).isSame(u.order.updatedAt)&&(j="Reservation Updated"),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{className:n,children:[Object(a.jsx)(Xd,{children:Object(a.jsxs)("div",{className:"".concat(n,"__Page-Title"),children:[s&&Object(a.jsxs)(b.b,{to:"/reservations","data-testid":"back-to-reservations-button",id:"back-button",children:[Object(a.jsx)("img",{src:Vd,alt:"BACK"})," BACK TO RESERVATIONS"]}),Object(a.jsx)(ar,{className:"".concat(n,"__Header"),label:s?"Order Details":"Confirmation"}),Object(a.jsx)("p",{className:"".concat(n,"__Lead"),children:null!==u&&void 0!==u&&u.order.canceled?"You reservation has been canceled.  You will receive a copy of this confirmation via email.":"Your reservation is confirmed and has been paid in full. You will receive a copy of this confirmation via email."})]})}),Object(a.jsx)(wl,{isViewDetailsPage:s,isViewConfirmationPage:i,data:u,titleHeader:j,checkoutResponse:e.location.state})]})})}))(Hd||(Hd=Object(k.a)(["\n  margin: 85px auto 0;\n  max-width: 1284px;\n  &__Page-Title {\n    text-align: left;\n    ","\n  }\n  &__Header {\n    &&& {\n      margin-top: 10px;\n      text-align: left;\n      @media screen and (max-width: 1270px) {\n        margin-left: 4%;\n      }\n    }\n  }\n  #back-button {\n      text-align: left;\n      font-size: 15px;\n      color: ",";\n      letter-spacing: 1.05px;\n      line-height: 17px;\n      margin-bottom: 20px !important;\n      cursor: pointer;\n\n      img {\n        height: 11px;\n        margin-right: 8px;\n      }\n    }\n  }\n\n  &__Lead {\n    &&& {\n      text-align: left;\n      margin-left: 7px;\n      @media screen and (max-width: 1270px) {\n        margin-left: 4%;\n      }\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 16px;\n    }\n  }\n"])),en("DESKTOP_WIDTH","\n      margin: 0 55px;\n    "),P.border.tertiary),Xd=E.b.div(Kd||(Kd=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n"])),Ke);var Jd,$d=Object(r.memo)(Zd),eu=t(1246),nu=E.b.div(Jd||(Jd=Object(k.a)(["\n  .MuiSnackbar-root {\n    padding-top: 45px;\n    &.rolo-snackbar {\n      .MuiSnackbarContent-root {\n        text-align: center;\n        .MuiButton-label {\n          font-weight: bold;\n          color: white;\n        }\n      }\n    }\n  }\n  .MuiSnackbarContent-root {\n    ","\n"])),(({isError:e,isInfo:n})=>"background: ".concat(e?P.error.primary:n?P.secondary:P.primary)));var tu=e=>{const n=Object(r.useContext)(N),t=n.snackbarMessage,s=n.snackbarOpen,i=n.hideSnackbar,c=n.options,o=()=>Object(a.jsx)(_n.a,{size:"small",onClick:()=>i(),children:c.action});return Object(r.useEffect)((()=>{let e=setTimeout((()=>{s&&i()}),Number(c.duration||6e3));return()=>{e&&clearTimeout(e)}}),[s]),Object(a.jsx)(nu,{isError:c.error,isInfo:c.info,children:Object(a.jsx)(eu.a,Object(j.a)(Object(j.a)({className:"rolo-snackbar","data-testid":"snackbar-instance"},e),{},{anchorOrigin:{vertical:"top",horizontal:e.horizontal||"center"},open:s,autoHideDuration:c.duration||6e3,message:t,onClose:()=>c.action?"":i(),action:c.action&&Object(a.jsx)(o,{})}))})};var au=Object(se.a)(H.j,A)((e=>(Object(r.useEffect)((()=>{e.location.pathname===ae.ROOT&&e.history.push(ne.RENTER.EVENTS)})),Object(a.jsx)(Ed,{perform:Ir,yes:()=>Object(a.jsxs)("section",{children:[Object(a.jsx)(Qr,{children:Object(a.jsxs)(H.d,{children:[Object(a.jsx)(H.b,{exact:!0,path:ne.RENTER.EVENTS,component:Di}),Object(a.jsx)(H.b,{exact:!0,path:ne.RENTER.RESERVATIONS,component:Bi}),Object(a.jsx)(H.b,{exact:!0,path:ne.RENTER.HELP,component:Wi}),Object(a.jsx)(H.b,{exact:!0,path:ne.RENTER.VIEW_RESERVATION,component:$d}),Object(a.jsx)(H.b,{exact:!0,path:ne.RENTER.CREATE_ORDER,component:qd}),Object(a.jsx)(H.b,{exact:!0,path:ne.RENTER.CONFIRM_RESERVATION,component:$d})]})}),Object(a.jsx)(tu,{})]}),no:()=>Object(a.jsx)(H.a,{to:e.user?K:ae.LOGIN})})))),ru=t(1151),su=t(1244),iu=t(1217),cu=t(1193),ou=t(1218),lu=t(1220),du=t(1215),uu=t(1216),pu=t(1219),bu=t(1221),mu=t.p+"static/media/renters-light-gray.fea5d484.svg",ju=t.p+"static/media/renters-white.500ef8f2.svg",hu=t.p+"static/media/HorseshoeWhite.7af429b3.svg",xu=t.p+"static/media/HorseshoeGrey.a593a213.svg",Ou=t.p+"static/media/RvGrey.21d7a5b0.svg",gu=t.p+"static/media/RvWhite.18047b48.svg",vu=t.p+"static/media/ReportsWhiteIcon.67f59c03.svg",fu=t.p+"static/media/ReportsGreyIcon.63d6a27d.svg";var yu,Au,wu,Nu,Su=e=>{const n=e.path,t=e.icon,r=n===ne.ADMIN.USERS?ju:mu,s=n===ne.OPS.RVS?gu:Ou,i=n===ne.OPS.STALLS?hu:xu,c=n===ne.ADMIN.GROUPS?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAATCAYAAACKsM07AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE6SURBVHgBvVQNscIwDE53TwDPwXAwCVjAwXtKNgmgAByAg0oAFGwoWB2EBDIIXboN7uC7y9r1y0+TtAV4AYiYk8zgXZDxguSPR8Oxxwd4nk+x1QolPqNUnMc+/BRb1+2QhtqIOycJJC3YmMto2f4650ImP6m65jCMMKBT3GfcOJI2SrPuGpoo0W7ItheOFgtx2jkvFMdN3un6o2rykK3TTmQ6k9QD1zDaxDUjYz22ZZ3mOko0D/0+LEmOJBtI15md/AvvDW4JKrXeEUxwKV1vcIcssbtG0k7tXGMhumeDKzL4ML4SYA2fw813dMZ141Y4jpXo1tH6/h6GfraGYSlchePOS4PbdCViNEZ6FUZPsoEgOpXBnfjzwx+6deysgedj2fJtpHUYCwKPy6Ztp/UWb+9QbZTgMCFDuACuvT9J6qEOzAAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAATCAYAAACKsM07AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIHSURBVHgBtVRLctNAEH09Y2NTbMISClcpS35V9i5mg3wEH8E3gBMQjsAJcoVwAntBlWFlUwSyjKgEvIxYUCUTaZrpiRRb8thOFu6NRtP9Xvf0vGngDjaezILJ5GzvLhgqEXw7D0EUgDnqvmyNlompwUcAhzlsxHMadDuPom1YVSy+nM7ekVZDUnQkX/m/qaJELsbh9d4tsIsKzRkqxqT2kySJ7zfuXcJj4kciBaxiG/N/Dzud/didQCPz9zVNA2ywpk2Omj8mqdXa8nUJ/uIqYkZciYmaaTrt2Sqk5x6OY6kwsTE+bHEPLoGQZMw9cRQBqeF+x5FLK2hge3m8wPPItuftJmwRWSsW+krHbON1PdvL7PoBkpuquk+dWvqFRIvE67B6yUefTi7ammhIhNI9ELK+mdenuYICeI0ikavcg6in4oyUPQl9/vFLFFAh4NHBsyc9v28liY19bGN/D8tStn/AVHkJiKLx6SzYTu5oQollmJ8rNEBbYce2+wTGmA/YlVlu9epF601Z4xDhByLNWyW3MRJLoNelbcbHA8vtWmTAf8ooDmVgSXJm834TuZDkwy1YdikFN7+u78CO2CrWEh/mSlprTIidgmysx/lVPu4ld5+3DscnFxFo8aCI9KUcffz9fFMOyLRt1uuDKta+DddewhaTComNvNJgeZ/AU0O6n4+RtfYfRugbCfeVGOgAAAAASUVORK5CYII=",o=n===ne.ADMIN.REPORTS?vu:fu;switch(t){case"renters":return Object(a.jsx)("img",{src:r,alt:"Renters Icon"});case"stalls":return Object(a.jsx)("img",{src:i,alt:"Stalls Icon"});case"rvs":return Object(a.jsx)("img",{src:s,alt:"Rv Icon"});case"groups":return Object(a.jsx)("img",{src:c,alt:"Groups Icon"});case"reports":return Object(a.jsx)("img",{src:o,alt:"Reports Icon"});default:return Object(a.jsx)("img",{src:null,alt:"Invalid iconType"})}};const Iu=E.b.p(yu||(yu=Object(k.a)(["\n  &&& {\n    color: rgb(200, 214, 229);\n    ","\n    font-size: 1.125rem;\n    font-weight: 600;\n    letter-spacing: 0.8px;\n  }\n"])),Fe),Cu=Object(E.b)(b.c)(Au||(Au=Object(k.a)(["\n  &.active-link {\n    &&& {\n      &:active div[class^='MuiListItemIcon-root'],\n      div[class*='MuiListItemIcon-root'] {\n        color: white;\n      }\n      div[class^='MuiListItemText-root'],\n      div[class*='MuiListItemText-root'] {\n        p {\n          color: white;\n        }\n      }\n    }\n  }\n"]))),Du=Object(E.b)(ru.a)(wu||(wu=Object(k.a)(["\n  &&& {\n    padding: 0;\n  }\n"])));class ku extends r.PureComponent{constructor(...e){super(...e),this.state={open:!1,showAccountDropdown:!1},this.handleDrawerOpen=()=>{this.setState({open:!0})},this.handleDrawerClose=()=>{this.setState({open:!1})},this.toggleAccountDropdown=()=>{this.setState({showAccountDropdown:!this.state.showAccountDropdown})},this.hideAccountDropdown=()=>{this.setState({showAccountDropdown:!1})}}render(){const e=this.props,n=e.classes,t=e.theme,r=e.location,s=this.state.showAccountDropdown;return Object(a.jsxs)("div",{className:"".concat(n.root," admin-root-section"),"data-testid":"logged-in-header",children:[Object(a.jsx)(Dr.a,{}),Object(a.jsx)(Yr,{showHamburger:!0,drawerOpen:this.state.open,handleDrawerOpen:this.handleDrawerOpen,toggleAccountDropdown:this.toggleAccountDropdown,showAccountDropdown:s}),Object(a.jsxs)(su.a,{variant:"permanent",className:_r()(n.drawer,{[n.drawerOpen]:this.state.open,[n.drawerClose]:!this.state.open}),classes:{paper:_r()({[n.drawerOpen]:this.state.open,[n.drawerClose]:!this.state.open})},onClick:this.hideAccountDropdown,open:this.state.open,children:[Object(a.jsx)("div",{className:n.toolbar,children:Object(a.jsx)(et.a,{onClick:this.handleDrawerClose,className:n.drawerListItem,children:"rtl"===t.direction?Object(a.jsx)(du.a,{}):Object(a.jsx)(uu.a,{})})}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder}),Object(a.jsxs)(cu.a,{className:n.mainNavContainer,children:[Object(a.jsxs)(Cu,{"data-testid":ne.ADMIN.ORDERS,to:ne.ADMIN.ORDERS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(Du,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(pu.a,{})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(Iu,{children:"ORDERS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]}),Object(a.jsx)(Ed,{perform:Ar,ignoreRoute:!0,yes:()=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Cu,{"data-testid":ne.ADMIN.EVENTS,to:ne.ADMIN.EVENTS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(Du,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(bu.a,{})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(Iu,{children:"EVENTS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]}),Object(a.jsxs)(Cu,{"data-testid":ne.ADMIN.USERS,to:ne.ADMIN.USERS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(Du,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"renters"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(Iu,{children:"USERS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]})]})}),Object(a.jsxs)(Cu,{"data-testid":ne.OPS.STALLS,to:ne.OPS.STALLS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(Du,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"stalls"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(Iu,{children:"STALLS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]}),Object(a.jsxs)(Cu,{"data-testid":ne.OPS.RVS,to:ne.OPS.RVS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(Du,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"rvs"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(Iu,{children:"RVs"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]}),Object(a.jsx)(Ed,{perform:Ar,ignoreRoute:!0,yes:()=>Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Cu,{"data-testid":ne.ADMIN.GROUPS,to:ne.ADMIN.GROUPS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(Du,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"groups"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(Iu,{children:"GROUPS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]})})}),Object(a.jsx)(Ed,{perform:Ar,ignoreRoute:!0,yes:()=>Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Cu,{"data-testid":ne.ADMIN.REPORTS,to:ne.ADMIN.REPORTS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(Du,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"reports"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(Iu,{children:"REPORTS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]})})})]})]}),Object(a.jsx)(_u,{onClick:this.hideAccountDropdown,children:this.props.children})]})}}const _u=E.b.section(Nu||(Nu=Object(k.a)(["\n  width: 100%;\n"])));var Eu,Ru=Object(se.a)(Object(zt.a)((e=>({root:{display:"flex"},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{backgroundColor:"rgb(87, 101, 116)",color:"rgb(200, 214, 229)",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{backgroundColor:"rgb(87, 101, 116)",color:"rgb(200, 214, 229)",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1,[e.breakpoints.up("sm")]:{width:e.spacing(9)+1}},toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",backgroundColor:"rgb(87, 101, 116)"},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},drawerListItem:{color:"rgb(200, 214, 229)",marginRight:0,padding:0,textDecoration:"none"},drawerListItemIcon:{color:"rgb(200, 214, 229)",marginRight:0,padding:"24px",width:"72px",height:"72px"},drawerListItemBorder:{backgroundColor:"rgb(200, 214, 229)"},mainNavContainer:{paddingTop:0,paddingBottom:0},listItemButton:{padding:0},logoutContainer:{width:"100%",position:"absolute",bottom:0,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:0}})),{withTheme:!0}),H.j)(ku);const Tu=L()(Eu||(Eu=Object(k.a)(["\n  query GetAdminOrders($input: OrdersInput) {\n    orders(input: $input) {\n      error\n      success\n      count\n      checkingInCount\n      checkingOutCount\n      orders {\n        group {\n          id\n          name\n        }\n        id\n        notes\n        orderItems {\n          id\n          quantity\n          reservation {\n            id\n            assignmentConfirmed\n            stalls {\n              id\n            }\n            rvSpots {\n              id\n            }\n            status {\n              id\n              name\n            }\n          }\n          addOnProduct {\n            id\n            addOn {\n              id\n              name\n            }\n          }\n        }\n        user {\n          id\n          firstName\n          lastName\n        }\n        event {\n          id\n          name\n        }\n      }\n    }\n  }\n"])));var Pu,Mu=t(578),Bu=t.n(Mu);var Fu=Object(E.b)((e=>Object(a.jsxs)(Yn,{primary:!0,className:e.className,onClick:e.onClick,"data-testid":"add-button",children:[Object(a.jsx)(Bu.a,{}),e.label]})))(Pu||(Pu=Object(k.a)(["\n  &&& {\n    height: 36px;\n    width: 172px;\n    border-radius: 3px\n    margin: 20px 0 25px;\n    box-shadow: 0 2px 10px 0 rgba(0,0,0,0.16), 0 2px 5px 0 rgba(0,0,0,0.26);\n    align-self: flex-end;\n  }\n  .plus-icon {\n    padding-right: 10px;\n  }\n"]))),Lu=t(337),qu=t.n(Lu);function zu(e,n,t=0){for(let a=t;a<e.length;a++)if(n(e[a]))return a;return-1}function Yu(e,n){return e&&0!==e.length?e.sort(((e,t)=>e&&t?e[n].localeCompare(t[n],"en",{numeric:!0}):0)):[]}var Vu,Uu=t.p+"static/media/Printer.feba2b56.svg";var Wu,Qu=Object(E.b)((e=>{const n=e.className,t=e.value,r=e.title;return Object(a.jsxs)("div",{className:"".concat(n,"__row-stat ").concat(t<1?"num-zero":""),children:[Object(a.jsx)("div",{className:"number",children:t}),Object(a.jsx)("div",{className:"title",children:r})]})}))(Vu||(Vu=Object(k.a)(["\n  &__row-stat {\n    text-align: center;\n    width: 100px;\n\n    &.num-zero {\n      opacity: 20%;\n    }\n\n    .number {\n      font-weight: bold;\n      font-size: 24px;\n    }\n\n    .title {\n      text-transform: uppercase;\n      font-size: 13px;\n    }\n  }\n"])));const Gu={"checked-in":{classType:"checked-in",text:"checked in"},"partial-check-in":{classType:"partial-check-in",text:"partially checked in"},reserved:{classType:"reserved",text:"reserved"},canceled:{classType:"canceled",text:"canceled"},"need-assignment":{classType:"need-assignment",text:"needs assignment"},departed:{classType:"departed",text:"departed"}};var Hu=Object(E.b)((e=>{const n=Gu[e.type];return Object(a.jsxs)("span",{className:"".concat(e.className,"__badge ").concat(n.classType),children:["need-assignment"===e.type&&Object(a.jsx)(ao.a,{}),Object(a.jsx)("span",{children:n.text})]})}))(Wu||(Wu=Object(k.a)(["\n  &__badge {\n    border: 1px solid black;\n    border-radius: 16px;\n    display: block;\n    padding: 4.5px 10.5px;\n    text-transform: uppercase;\n    font-size: 13px;\n    letter-spacing: 0.7px;\n    line-height: 17px;\n    margin: 0 6px;\n    height: max-content;\n\n    &.checked-in {\n      border-color: #29b490;\n      color: #29b490;\n    }\n\n    &.partial-check-in {\n      border-color: #387fc7;\n      color: #387fc7;\n    }\n\n    &.reserved {\n      border-color: #1c2229;\n      color: #1c2229;\n    }\n\n    &.canceled {\n      border-color: #ec494a;\n      color: #ec494a;\n    }\n\n    &.need-assignment {\n      border-color: #ff9e42;\n      color: #495868;\n      white-space: nowrap;\n\n      svg {\n        font-size: 15px;\n        color: #ff9e42;\n        position: relative;\n        top: 2px;\n        margin-right: 4px;\n      }\n    }\n\n    &.departed {\n      border-color: #cdd9e7;\n      color: #5a6776;\n    }\n  }\n"])));const Ku=Object(r.createContext)(),Zu=Ku.Provider,Xu=(e,n)=>zu(n,(n=>n&&e&&n===e));class Ju extends r.PureComponent{constructor(...e){super(...e),this.state={data:[],selectedRows:[]},this.addSelection=e=>{-1===Xu(e,this.state.selectedRows)&&(this.setState({selectedRows:this.state.selectedRows.concat(e)}),localStorage.setItem("selectedRows",JSON.stringify(this.state.selectedRows.concat(e))))},this.removeSelection=e=>{if(Xu(e,this.state.selectedRows)>-1){const n=this.state.selectedRows.filter((n=>n!==e));this.setState({selectedRows:n}),localStorage.setItem("selectedRows",JSON.stringify(n))}},this.toggleSelection=e=>{-1===Xu(e,this.state.selectedRows)?this.addSelection(e):this.removeSelection(e)},this.clearAllSelections=()=>{this.setState({selectedRows:[]}),localStorage.setItem("selectedRows",[])},this.selectAll=e=>{const n=e||this.state.data;if(n.length){const e=n.reduce(((e,n)=>(e.push(n.id),e)),[]);this.setState({selectedRows:e}),localStorage.setItem("selectedRows",JSON.stringify(e))}},this.setDataProvider=e=>{const n=localStorage.getItem("selectedRows")?JSON.parse(localStorage.getItem("selectedRows")):[];n&&n.length?this.setState({data:e,selectedRows:n}):this.setState({data:e,selectedRows:[]})}}render(){return Object(a.jsx)(Zu,{value:{selectedRows:this.state.selectedRows||[],clearAllSelections:this.clearAllSelections,toggleSelection:this.toggleSelection,selectAll:this.selectAll,setDataProvider:this.setDataProvider,dataProvider:this.state.data||[]},children:this.props.children})}}var $u;const ep=e=>{let n=[];const t=(e=>{let n=!1;return e.reduce(((e,t)=>(t.reservation&&t.reservation.status&&t.quantity&&((t.reservation.stalls&&t.quantity!==t.reservation.stalls.length||t.reservation.rvSpots&&t.quantity!==t.reservation.rvSpots.length)&&(e.assignment="need-assignment"),n&&null!==n.reservation&&t.reservation.status.name&&n.reservation.status.name&&("checked in"==t.reservation.status.name||"checked in"==n.reservation.status.name)&&t.reservation.status.name!==n.reservation.status.name&&(e.partial="partial-check-in"),e[t.reservation.status.name]="checked in"===t.reservation.status.name?"checked-in":t.reservation.status.name),n=t,e)),{})})(e.orderItems||[]);return t.canceled?(n.push(Object(a.jsx)(Hu,{type:"canceled"},"canceled")),n):(Object.entries(t).forEach((e=>{(e.length&&"partial-check-in"===t.partial&&"checked-in"!==e[1]&&"partial-check-in"===t.partial&&"reserved"!==e[1]||e.length>0&&"partial-check-in"!==t.partial)&&n.push(Object(a.jsx)(Hu,{type:e[1]},e[0]))})),Yu(n,"key"))},np=qu()(((e,n)=>{if(0===n.length)return!1;return zu(n,(n=>n&&e&&n===e.id))>-1}),((...e)=>JSON.stringify(e))),tp=qu()((e=>e?"".concat(eo(e.firstName)||""," ").concat(eo(e.lastName)||""):null),((...e)=>JSON.stringify(e))),ap=qu()(((e,n)=>e.reduce(((e,t)=>("undefined"===typeof e.quantity&&(e.quantity=0),null!==t.reservation&&null!==t.reservation[n]&&(e.quantity=t.quantity),e)),{})),((...e)=>JSON.stringify(e)));var rp,sp=Object(E.b)((e=>{var n,t;const s=e.onClick,i=e.onCheckboxSelected,c=e.className,o=e.style,l=e.index,d=e.item,u=e.isFocused,p=Object(r.useState)(!1),b=Object(w.a)(p,2),m=b[0],j=b[1],h=Object(_.c)(sl,{variables:{id:d.id},skip:!m,fetchPolicy:"network-only"}).data,x=Object(r.useContext)(Ku),O=Object(r.useRef)(),g=d.orderItems||[],v=Object(r.useCallback)((()=>{i(d.id)})),f=Object(r.useCallback)(ap(g,"stalls")),y=Object(r.useCallback)(ap(g,"rvSpots")),A=null===d||void 0===d||null===(n=d.orderItems)||void 0===n?void 0:n.filter((e=>e.addOnProduct&&e.quantity>0));return Object(a.jsxs)("div",{className:"".concat(c,"__table-row ").concat(u?"tr-focused":""),style:o,onMouseEnter:()=>j(!0),"data-testid":"ops-table-row",children:[Object(a.jsx)(Qt.a,{onChange:v,color:"primary",checked:np(d,x.selectedRows)}),Object(a.jsx)("div",{onClick:s,onKeyPress:s,className:"body",role:"button",tabIndex:"0",children:Object(a.jsxs)("div",{className:"customer-name-container",children:[Object(a.jsxs)("div",{className:"customer-name",children:[tp(d.user)," ",d.notes&&Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAANqADAAQAAAABAAAANgAAAADzQy6kAAAC5UlEQVRoBe2az2sTQRTH39vml6QiTSykTSG2RPEv8Fal2IsHD170VrzoX+DRH2fpf6DgQU+exJMgKpQexL9AlGBdoT+CTYrUgK3ZjG82bAjbGdPNTGY2ZRfCZt++mfc+77s7s8kOgmArzi4sM+bdBMDLwFiZAUwK3DSa8BcAe1GcTN+r1WoHOjrG/k6m5xbOt73OU4K50m839R0R3xTyqRs64Hpg0zPzi23ovAYGU6ZARHF0wflgXaW8T7ahAlAdcA7vrHv52VUqgOJ7xti1Zqv9qlqtZvvtUb47fKCwdU/9L1FVOCzMVJ4wBneOBEE8BISHE+lTz3fdz9tHzisapkoVGmwHb8NelnQp0pAu2ghqb+v741FAicLJbMMq5/B5StQpV0pkt2EbBs6RTb62lQoXMCqcPyqGO7F5zO8pWfwocLED408eOuBiB8Yfp3TAxQ6MX4Y64GIJpgMutmCqcLEGU4GLPdiwcCh7ZtvbcXu/1XjnujdZXNU4wbPlWCgWBZZP4o3ff1dPHFi3CLhiDwxhN4oS0XzZGWtgDsNn0ZKN5m0N7Fy5eJ9Gp1UErEdL+Xje1kbF46U32Es2ulpTbHDKah4JmFr9zLdOFDNfc7WIiWJq9TPfOlHMfM3VIiaKqdXPfOtEMfM1V4uYKKZWP/OtE8XM11wtYqKYWv3Mtz65itG/RPuiehbnLghfuot8bdlkOXImh9ZybAoT8w5uC+1xMspyJKYU5blGn4vhfDsMHxVK804mR8vt8vmt8Hmbx41Wa/bwD6x0GHsgyWMNz5YrS54HHyQOY2meSOGS/6qoUKq8o/UeV8eSIpQ0Ab1v7rjL/qiYzmTv0r3WCPmM3yExpLM5f12YD1b/8fUbOnCd4Eb4BmTEdaLcOUPd/bLBI/Xmseam+zGTyV2iN4JvR5yC9u55zjx3zhB07t9jwUGw95fRss4tWhm3CMgXkeHp4Fw89mwfGNI0xdZT6Lz8ub2xHs7rHwzmLlfr9gMVAAAAAElFTkSuQmCC",alt:"Special Request Icon"})]}),Object(a.jsxs)("div",{className:"event-group-name",children:[eo(d.event.name),(null===(t=d.group)||void 0===t?void 0:t.name)&&" | ".concat(eo(d.group.name))]})]})}),Object(a.jsx)("div",{className:"status-badges",children:ep(d)}),Object(a.jsxs)("div",{className:"status-info",children:[Object(a.jsx)(Qu,{value:f.quantity,title:"stalls"}),Object(a.jsx)(Qu,{value:y.quantity,title:"rv spots"}),Object(a.jsx)(Qu,{value:null===A||void 0===A?void 0:A.length,title:"add ons"})]}),Object(a.jsx)(No.a,{trigger:()=>Object(a.jsx)(et.a,{"data-testid":"print-receipt-icon",className:"printer-icon",children:Object(a.jsx)("img",{src:Uu,alt:"printer icon"})}),content:()=>O.current}),h&&Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(Wo,{order:h.order,ref:O})})]},l)}))($u||($u=Object(k.a)(["\n  &__table-row {\n    display: flex;\n    flex-direction: row;\n    height: 88px;\n    margin: 5px 20px;\n    text-align: left;\n    align-items: center;\n    box-sizing: borderbox;\n    background: white;\n    padding: 14px;\n    box-shadow: 0 2px 6px rgba(17, 24, 31, 0.03), 0 2px 3px rgba(17, 24, 31, 0.1);\n\n    &:hover {\n      box-shadow: 0 3px 8px rgba(17, 24, 31, 0.15), 0 2px 3px rgba(17, 24, 31, 0.3);\n\n      .printer-icon {\n        display: block;\n      }\n    }\n\n    .printer-icon {\n      display: none;\n      position: absolute;\n      right: -25px;\n      background: #ebebeb;\n      border: 1px solid #8395a7;\n\n      &:hover {\n        background: #ebebeb;\n      }\n    }\n\n    &.tr-focused {\n      box-shadow: 0 3px 8px rgba(17, 24, 31, 0.15), 0 2px 3px rgba(17, 24, 31, 0.3);\n      color: ",";\n      border-left: 3px solid ",";\n    }\n\n    .body {\n      display: flex;\n      height: 88px;\n      width: 100%;\n      margin-left: 10px;\n      align-items: center;\n\n      &:hover .customer-name {\n        color: ",";\n      }\n    }\n\n    .body:focus {\n      outline: none;\n    }\n    .body:hover {\n      cursor: pointer;\n    }\n\n    input {\n      display: block;\n      margin-right: 20px;\n    }\n\n    .customer-name-container {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      white-space: nowrap;\n      width: 200px;\n\n      .customer-name {\n        font-family: 'IBMPlexSans-SemiBold';\n        font-size: 18px;\n        line-height: 23px;\n        letter-spacing: 0.792px;\n\n        img {\n          margin-left: 15px;\n          margin-top: 3px;\n          width: 18px;\n          height: 18px;\n        }\n      }\n\n      .event-group-name {\n        font-size: 16px;\n        font-family: 'IBMPlexSans-Regular';\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    }\n\n    .status-badges {\n      display: flex;\n      flex-direction: row;\n      flex-grow: 2;\n      flex-shrink: 0;\n      justify-content: flex-end;\n      align-items: center;\n      padding-right: 18px;\n    }\n    .status-info {\n      display: flex;\n      flex-grow: 1;\n      width: 275px;\n      padding-left: 10px;\n      padding-right: 15px;\n      border-left: 1px solid #cddae7;\n    }\n  }\n"])),P.text.darkBlue,P.text.darkBlue,P.text.darkBlue);var ip=Object(E.b)((e=>{const n=e.openRow,t=e.orderID,i=e.className,c=e.itemCount,o=e.isItemLoaded,l=e.loadMoreItems,d=e.items,u=s.a.createRef(),p=Object(r.useState)(1),b=Object(w.a)(p,2),m=b[0],h=b[1],x=Object(r.useContext)(Ku),O=()=>{u.current.scrollToItem(0)},g=e=>{x.toggleSelection(e)};Object(r.useEffect)((()=>{x.setDataProvider(d)}),[d]),Object(r.useEffect)((()=>{u.current&&O()}),[d[0]]);const v=Object(r.useCallback)((e=>{const r=e.index,s=e.style;if(!o(r))return Object(a.jsx)(a.Fragment,{});const i=d[r];return Object(a.jsx)(sp,{item:i,isFocused:t===i.id,onClick:()=>n(i.id),onCheckboxSelected:g,style:Object(j.a)(Object(j.a)({},s),{},{marginLeft:50,marginRight:50,width:"calc(100% - 100px)",top:s.top+10,height:s.height-10}),index:r})}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ss,{style:{position:"absolute",bottom:12,right:20,zIndex:1},onClick:O,start:m}),Object(a.jsx)("div",{className:"".concat(i,"__wrapper-div"),children:Object(a.jsx)(es.a,{children:({height:e,width:n})=>Object(a.jsx)(ns.a,{isItemLoaded:o,itemCount:c,loadMoreItems:l,children:({onItemsRendered:t})=>Object(a.jsx)($r.a,{height:e,itemCount:c,onItemsRendered:({visibleStartIndex:e,visibleStopIndex:n})=>(h(e+1),t({visibleStartIndex:e,visibleStopIndex:n})),itemSize:100,width:n,ref:u,className:"".concat(i,"__table"),children:v})})})})]})}))(rp||(rp=Object(k.a)(["\n  &__wrapper-div {\n    height: calc(100% - 83px);\n    overflow-x: hidden;\n  }\n\n  &__table {\n    width: 100%;\n    height: 100%;\n    &&& {\n      margin: 0;\n    }\n  }\n"]))),cp=t(579),op=t.n(cp);const lp="MM/DD/YYYY";var dp,up=t(1145);var pp,bp=Object(E.b)((e=>{let n=e.field,t=e.form,r=Object(kn.a)(e,["field","form"]);const s=r.className,i=r.fieldlabel,c=r.value,o=r.clear,l=Object(kn.a)(r,["className","fieldlabel","value","clear"]);return Object(a.jsxs)("div",{className:"".concat(s,"__text-filter"),children:[Object(a.jsxs)(up.a,{children:[i,c&&Object(a.jsx)("button",{type:"button",onClick:e=>{o(e,n.name,t)},className:"clear",children:"clear"})]}),Object(a.jsx)(mn.a,Object(j.a)(Object(j.a)(Object(j.a)({},l),n),{},{value:c,id:i,variant:"outlined",InputProps:{startAdornment:Object(a.jsx)($n.a,{position:"start",children:Object(a.jsx)(ci.a,{})})}}))]})}))(dp||(dp=Object(k.a)(["\n  &__text-filter {\n    margin: 0 0 25px 0;\n\n    .clear {\n      color: #2875c3;\n      float: right;\n      text-transform: uppercase;\n      font-family: 'IBMPlexSans-Bold';\n      cursor: pointer;\n      font-size: 12px;\n      background: none;\n      border: 0;\n      padding: 0;\n      position: relative;\n      top: -2px;\n    }\n\n    .MuiTextField-root {\n      width: 100%;\n    }\n\n    .Mui-disabled {\n      background: #f2f4f7;\n\n      svg {\n        color: #576574;\n      }\n    }\n\n    .MuiOutlinedInput-notchedOutline {\n      border-color: ",";\n    }\n\n    .MuiOutlinedInput-adornedStart {\n      padding-left: 10px;\n    }\n\n    svg {\n      color: ",";\n    }\n\n    label {\n      display: block;\n      text-transform: uppercase;\n      font-family: 'IBMPlexSans-Bold';\n      font-size: 12px;\n      color: ",";\n      margin-bottom: 10px;\n    }\n\n    input {\n      padding: 10px 14px 10px 2px;\n      font-size: 15px;\n    }\n\n    input:-webkit-autofill,\n    input:-webkit-autofill:hover,\n    input:-webkit-autofill:focus,\n    input:-webkit-autofill:active {\n      -webkit-box-shadow: 0 0 0 1000px white inset !important;\n    }\n  }\n"])),P.text.lightGray2,P.text.accent,P.text.secondary),mp=t(1222),jp=t(601),hp=t(1152);const xp=Object(mp.a)({select:{"& li":{fontSize:15}}});var Op,gp=Object(E.b)((e=>{let n=e.field,t=e.form,r=Object(kn.a)(e,["field","form"]);const s=r.className,i=r.fieldlabel,c=r.options,o=r.value,l=r.clear,d=Object(kn.a)(r,["className","fieldlabel","options","value","clear"]),u=xp();return Object(a.jsxs)("div",{className:l?"".concat(s,"__select-filter"):"".concat(s,"__select-filter")+" noclear",children:[l&&Object(a.jsxs)(up.a,{htmlFor:n.name,children:[i,o&&Object(a.jsx)("button",{type:"button",onClick:e=>{l(e,n.name,t)},className:"clear",children:"clear"})]}),Object(a.jsx)(Sa.a,{variant:"outlined",fullWidth:!0,children:Object(a.jsx)(jp.a,Object(j.a)(Object(j.a)(Object(j.a)({},d),n),{},{MenuProps:{classes:{paper:u.select}},value:o,labelid:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",children:c.map((e=>Object(a.jsx)(hp.a,{value:e.value,children:e.name},e.name)))}))})]})}))(pp||(pp=Object(k.a)(["\n  &__select-filter {\n    width: 100%;\n    margin: 0 0 25px 0;\n\n    &.noclear {\n      .MuiInputBase-root {\n        padding: 0 14px;\n      }\n    }\n\n    .MuiSelect-outlined {\n      font-size: 15px;\n    }\n\n    .clear {\n      color: #2875c3;\n      float: right;\n      text-transform: uppercase;\n      font-family: 'IBMPlexSans-Bold';\n      cursor: pointer;\n      font-size: 12px;\n      background: none;\n      border: 0;\n      padding: 0;\n      position: relative;\n      top: -2px;\n    }\n\n    .MuiSelect-selectMenu:focus {\n      background: white;\n    }\n\n    .MuiOutlinedInput-notchedOutline {\n      border-color: ",";\n    }\n\n    .MuiOutlinedInput-input {\n      padding: 0;\n    }\n\n    label {\n      display: block;\n      text-transform: uppercase;\n      font-family: 'IBMPlexSans-Bold';\n      font-size: 12px;\n      color: ",";\n      margin-bottom: 10px;\n    }\n\n    .MuiInputBase-root {\n      padding: 10px 14px;\n    }\n\n    .MuiListItem-root {\n      font-size: 15px;\n    }\n  }\n"])),P.text.lightGray2,P.text.secondary);var vp,fp=Object(E.b)((e=>Object(a.jsx)(_n.a,Object(j.a)({},e))))(Op||(Op=Object(k.a)(["\n  &.MuiButton-containedPrimary {\n    background-color: ",";\n    margin: 14px 0;\n  }\n\n  &.MuiButton-textPrimary {\n    color: ",";\n    margin: 10px 0;\n  }\n"])),P.button.secondary.active,P.secondary);var yp,Ap=Object(E.b)((e=>{let n=e.field,t=(e.form,Object(kn.a)(e,["field","form"]));return Object(a.jsx)(ad.a,Object(j.a)({control:Object(a.jsx)(Qt.a,Object(j.a)({classes:{checked:"state-checked"}},n))},t))}))(vp||(vp=Object(k.a)(["\n  &.MuiFormControlLabel-root {\n    display: flex;\n\n    .MuiCheckbox-root {\n      color: #8395a7;\n      padding: 4px 9px;\n    }\n\n    .state-checked {\n      color: #2875c3;\n    }\n\n    .MuiTypography-root {\n      font-size: 15px;\n      padding-top: 2px;\n    }\n  }\n"])));t(1126);const wp="today",Np="tomorrow",Sp="next-seven",Ip="this-month",Cp="custom";var Dp,kp=Object(E.b)((e=>{const n=Object(r.useContext)(Ku),t=()=>!1,s=e.className,i=e.filters,c=e.setFilters,o=e.checkInOutFilter,l=e.orders,d=e.setCheckInOutFilter,u=JSON.parse(sessionStorage.getItem("filters")),p=Object(r.useState)(null),b=Object(w.a)(p,2),m=b[0],h=b[1],x=Object(r.useState)(null),O=Object(w.a)(x,2),g=O[0],v=O[1],f=Object(r.useState)(null),y=Object(w.a)(f,2),A=y[0],N=y[1],S=Object(r.useState)(!1),I=Object(w.a)(S,2),C=I[0],D=I[1],k=Object(r.useState)({user:"",stallName:"",rvSpotName:"",event:"",group:"",checkInOutDate:"",reservationStatus:0,hasStalls:!1,hasRVs:!1,hasAddOns:!1,hasSpecialReqs:!1,spacesNeedAssignment:!1,allSpacesAssigned:!1,startDate:"",endDate:""}),_=Object(w.a)(k,2),E=_[0],R=_[1];Object(r.useEffect)((()=>{const e=new URLSearchParams(window.location.search);let n={};var t,a=Object(vs.a)(e);try{for(a.s();!(t=a.n()).done;){const e=Object(w.a)(t.value,2),a=e[0],r=e[1];n[a]="true"===r||"false"===r?!!r:"startDate"===a?r:"reservationStatus"===a?""===r?0:parseInt(r):""===r?null:r}}catch(r){a.e(r)}finally{a.f()}Object.entries(i).sort().toString()!==Object.entries(n).sort().toString()&&(c(n),R(n),v(Hr()(n.startDate)),N(Hr()(n.endDate)))})),Object(r.useEffect)((()=>{u?(u.endDate&&u.startDate&&D(!0),c(u),R(u),v(Hr()(u.startDate)),N(Hr()(u.endDate)),M(u)):sessionStorage.setItem("filters",JSON.stringify(E))}),[JSON.stringify(u)]),Object(r.useEffect)((()=>{let e="";i.startDate&&(e=T(i.startDate,i.endDate)),R(Object(j.a)(Object(j.a)(Object(j.a)({},E),i),{},{checkInOutDate:e}))}),[JSON.stringify(i)]);const T=(e,n)=>{const t=Hr()(n).diff(Hr()(e),"days"),a=Hr()().isSame(Hr()(e),"day"),r=Hr()().add(1,"day").isSame(Hr()(e),"day");return 0===t&&a?wp:r?Np:!C&&a&&7===t?Sp:t===Hr()().endOf("month").diff(Hr()().startOf("month"),"days")?Ip:Cp},P=({startDate:e,endDate:n})=>{v(e),N(n)},M=(e,n)=>{const t=(e=>{switch(e){case wp:return v(Hr()().startOf("day")),N(Hr()().endOf("day")),{startDate:Hr()().startOf("day").format("YYYY-MM-DD"),endDate:Hr()().endOf("day").format("YYYY-MM-DD")};case Np:return v(Hr()().add(1,"days").startOf("day")),N(Hr()().add(1,"days").endOf("day")),{startDate:Hr()().add(1,"days").format("YYYY-MM-DD"),endDate:Hr()().add(1,"days").endOf("day").format("YYYY-MM-DD")};case Sp:return v(Hr()().startOf("day")),N(Hr()().add(7,"days")),{startDate:Hr()().startOf("day").format("YYYY-MM-DD"),endDate:Hr()().add(7,"days").format("YYYY-MM-DD")};case Ip:return v(Hr()().startOf("month")),N(Hr()().endOf("month")),{startDate:Hr()().startOf("month").format("YYYY-MM-DD"),endDate:Hr()().endOf("month").format("YYYY-MM-DD")};case Cp:return{startDate:g?g.format("YYYY-MM-DD"):Hr()().format("YYYY-MM-DD"),endDate:A?A.format("YYYY-MM-DD"):Hr()().format("YYYY-MM-DD")};default:return""}})(e.checkInOutDate),a={};for(var r=0,s=Object.keys(e);r<s.length;r++){const n=s[r];e[n]&&"checkInOutDate"!==n&&(a[n]=e[n])}const i=Object(j.a)(Object(j.a)({},a),t);R(e),sessionStorage.setItem("filters",JSON.stringify(i)),c(i),history.pushState({type:"Filter"},"page 2",(e=>{let n="/admin/orders?";for(var t=0,a=Object.entries(e);t<a.length;t++){const e=Object(w.a)(a[t],2),r=e[0],s=e[1];n+=!s||"string"!==typeof r||"string"!==typeof s&&"number"!==typeof s?"":"".concat(r,"=").concat(s,"&"),n+=s&&"string"===typeof r&&"number"!==typeof s&&"string"!==typeof s?"".concat(r,"=","true","&"):""}return n})(i)),null===n||void 0===n||n.setSubmitting(!1)},B=(e,n,t)=>{t.setFieldValue(n,"");const a=Object(j.a)({},t.values);delete a[n],"checkInOutDate"===n?(D(!1),delete a.startDate,delete a.endDate,t.setFieldValue("startDate",""),t.setFieldValue("endDate",""),d({checkInOnly:!1,checkOutOnly:!1})):!o.checkInOnly&&!o.checkOutOnly||l.length||d({checkInOnly:!1,checkOutOnly:!1}),M(a)};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"".concat(s,"__table-filters"),children:[Object(a.jsx)("div",{className:"header-container",children:Object(a.jsx)(jr,{label:"Filters"})}),Object(a.jsx)(Ia.c,{initialValues:E,onSubmit:M,enableReinitialize:!0,children:({values:e,resetForm:r})=>Object(a.jsxs)(Ia.b,{children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)(Ia.a,{name:"user",fieldlabel:"renter",component:bp,value:e.user||"",clear:B}),Object(a.jsx)(Ia.a,{name:"stallName",fieldlabel:"stall",component:bp,value:e.stallName||"",clear:B,disabled:!!e.rvSpotName}),Object(a.jsx)(Ia.a,{name:"rvSpotName",fieldlabel:"rv spot",component:bp,value:e.rvSpotName||"",clear:B,disabled:!!e.stallName}),Object(a.jsx)(Ia.a,{name:"event",fieldlabel:"event",component:bp,value:e.event||"",clear:B}),Object(a.jsx)(Ia.a,{name:"group",fieldlabel:"group name",component:bp,value:e.group||"",clear:B}),Object(a.jsx)(Ia.a,{name:"checkInOutDate",fieldlabel:"check in / check out date",component:gp,value:e.checkInOutDate||"",clear:B,options:[{value:wp,name:"Today"},{value:Np,name:"Tomorrow"},{value:Sp,name:"Next 7 Days"},{value:Ip,name:"This Month"},{value:Cp,name:"Custom"}]}),"custom"===e.checkInOutDate&&Object(a.jsx)(Rl.DateRangePicker,{startDate:g,startDateId:"filter_startDate",endDate:A,endDateId:"filter_endDate",onDatesChange:P,focusedInput:m,onFocusChange:e=>h(e),displayFormat:lp,openDirection:"up",appendToBody:!0,block:!0,minimumNights:0,isOutsideRange:t,customInputIcon:Object(a.jsx)(op.a,{})}),Object(a.jsx)(Ia.a,{name:"reservationStatus",fieldlabel:"status",component:gp,value:e.reservationStatus||"",clear:B,options:[{value:1,name:"Reserved"},{value:2,name:"Checked In"},{value:3,name:"Departed"},{value:4,name:"Canceled"}]})]}),Object(a.jsxs)("div",{className:"checkbox-group",children:[Object(a.jsx)("h3",{children:"included in reservation"}),Object(a.jsx)(Ia.a,{name:"hasStalls",label:"Stalls",component:Ap,checked:e.hasStalls||!1}),Object(a.jsx)(Ia.a,{name:"hasRVs",label:"RVs",component:Ap,checked:e.hasRVs||!1}),Object(a.jsx)(Ia.a,{name:"hasAddOns",label:"Add Ons",component:Ap,checked:e.hasAddOns||!1}),Object(a.jsx)(Ia.a,{name:"hasSpecialReqs",label:"Special Requests",component:Ap,checked:e.hasSpecialReqs||!1})]}),Object(a.jsxs)("div",{className:"checkbox-group",children:[Object(a.jsx)("h3",{children:"stall / rv spot assignment"}),Object(a.jsx)(Ia.a,{name:"spacesNeedAssignment",label:"Needs Assignment",component:Ap,checked:e.spacesNeedAssignment||!1}),Object(a.jsx)(Ia.a,{name:"allSpacesAssigned",label:"Stall/Spot Assigned",component:Ap,checked:e.allSpacesAssigned||!1})]}),Object(a.jsxs)("div",{className:"button-group",children:[Object(a.jsx)(fp,{type:"submit",variant:"contained",color:"primary",onClick:()=>{n.clearAllSelections()},fullWidth:!0,children:"apply filters"}),Object(a.jsx)(fp,{color:"primary",fullWidth:!0,onClick:()=>{(()=>{const e={user:"",stallName:"",rvSpotName:"",event:"",checkInOutDate:"",group:"",reservationStatus:0,hasStalls:!1,hasRVs:!1,hasAddOns:!1,hasSpecialReqs:!1,spacesNeedAssignment:!1,allSpacesAssigned:!1,startDate:"",endDate:""};d({checkInOnly:!1,checkOutOnly:!1}),c(e),R(e),sessionStorage.setItem("filters",JSON.stringify(e)),history.pushState({type:"FilterClear"},"page 2","/admin/orders?")})(),r()},children:"clear filters"})]})]})})]})})}))(yp||(yp=Object(k.a)(["\n  &__table-filters {\n    background: white;\n    width: 300px;\n    text-align: left;\n    margin-right: 12px;\n    height: calc(100% + 33px);\n    overflow-y: auto;\n    box-shadow: 0 2px 6px rgba(17, 24, 31, 0.03), 0 2px 3px rgba(17, 24, 31, 0.1);\n\n    .checkbox-group {\n      padding: 0 20px;\n    }\n\n    .input-group {\n      padding: 0 20px;\n    }\n\n    .header-container {\n      margin: 20px;\n    }\n\n    .DateRangePicker {\n      margin-bottom: 20px;\n    }\n\n    .DateInput {\n      width: 90px;\n\n      .DateInput_input {\n        font-size: 15px;\n        color: rgba(0, 0, 0, 0.87);\n      }\n    }\n\n    .DateRangePickerInput_calendarIcon {\n      padding: 0;\n      margin: 7px 0 0 10px;\n      color: #29b490;\n    }\n\n    .DateInput_input {\n      width: 90px;\n      padding: 11px 4px 9px;\n    }\n\n    .DateRangePickerInput {\n      border-color: #8395a7;\n      border-radius: 4px;\n    }\n\n    .checkbox-group {\n      margin-bottom: 25px;\n    }\n\n    h3 {\n      text-transform: uppercase;\n      font-family: 'IBMPlexSans-Bold';\n      font-size: 12px;\n      font-weight: 400;\n      color: #4f5d6d;\n      margin-top: 0;\n      margin-bottom: 3px;\n    }\n\n    .MuiButton-root {\n      margin: 0 0 14px 0;\n      font-size: 16px;\n    }\n\n    .button-group {\n      position: sticky;\n      bottom: 0;\n      background: white;\n      box-shadow: 0 2px 6px rgba(17, 24, 31, 0.08), 0 2px 6px rgba(17, 24, 31, 0.3);\n      padding: 16px 20px 0 20px;\n    }\n  }\n"])));const _p=L()(Dp||(Dp=Object(k.a)(["\n  query OrderForOrderTableDetail($id: ID) {\n    order(id: $id) {\n      id\n      notes\n      canceled\n      updatedAt\n      orderItems {\n        id\n        quantity\n        addOnProduct {\n          id\n          addOn {\n            id\n            name\n            unitName\n          }\n        }\n        reservation {\n          id\n          status {\n            id\n            name\n          }\n          startDate\n          endDate\n          rvProduct {\n            id\n            rvLot {\n              id\n              name\n            }\n            name\n          }\n          stallProduct {\n            id\n            name\n          }\n          stalls {\n            id\n            name\n            status\n            building {\n              id\n              name\n            }\n          }\n          rvSpots {\n            id\n            name\n            rvLot {\n              id\n              name\n            }\n          }\n        }\n      }\n      user {\n        firstName\n        id\n        lastName\n        phone\n      }\n      event {\n        id\n        name\n        description\n      }\n    }\n  }\n"]))),Ep=(e,n)=>"".concat(Hr()(e).format("MM/DD/YY")," - ").concat(Hr()(n).format("MM/DD/YY"));const Rp=({onClose:e})=>Object(a.jsx)("div",{className:"close-icon",tabIndex:0,role:"button",onKeyPress:()=>e(),onClick:()=>e(),children:Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHKADAAQAAAABAAAAHAAAAABkvfSiAAABkElEQVRIDb3WPUvEMBgH8CTt5CJ3m7hUEBQO9Cv0G4iLCDf44aTLbX4V4UAnXRwcFA8HEWpj/jU505e8Nlzgruld8vz6tM3TEiJaWZb57KCo5odHV9hP2RATsWEgLkXn/uG54oQDq2nGlu8vT6sUKDD+01QiVk4JXZ2dFsts801uCeHXEmCE88u9/fnj1+fHegqqYzLO4vVtc8woo3fih1oLnuOoppzeEQzha1gZMkFGyEz8yCQcnakRk5cqA5AKdWGwWjAF6oN1wCmoLzYAY9AQbBQMQUMxxKb4MjVbQMxRi1qb7ywcVhCBTKhE2nIl+04M47Z3qZw02BiXzP+axRwvDAOdIAYZUPyF5o1hsKos6O+keWVouI7qAIPKoBM0YCj2jfioM+SNWu9SE4ZnJtKLWRbGDG0YHtCGG8mZ6SjowpAdWgw6AH2xPzIc7YChWAy6BWOxULQFp2IhKE2FKRRbW0zGG34hxgRXfR3o97Fs5Frtvg0Ki52fFDd4SZWTggpxH9L3+ygMWO2YXb7q/wLZt8499cRPyQAAAABJRU5ErkJggg==",alt:"Close"})}),Tp=({className:e="",children:n,title:t,text:r})=>Object(a.jsxs)("div",{className:"row "+e,children:[!!t&&Object(a.jsxs)("div",{className:"order-divider",children:[Object(a.jsx)("div",{className:"section-name",children:t}),Object(a.jsx)("div",{className:"line"})]}),!!r&&Object(a.jsx)("div",{className:"order-text",children:r}),n]}),Pp=({columns:e})=>{const n=(e||[]).map(((e,n)=>Object(a.jsxs)("div",{className:"order-col ".concat(n>1?"row-below":""," ").concat((n+1)%2===0?"last":""),children:[Object(a.jsx)("div",{className:"heading",children:e.title}),Object(a.jsx)("div",{className:"",children:e.text})]},"".concat(e.title).concat(n.toString()))));return Object(a.jsx)("div",{className:"order-details",children:n})},Mp=({addOnOrderItems:e,children:n})=>{const t=e||[],s=Object(r.useMemo)((()=>t.map((e=>{const n=e.addOnProduct,t=e.quantity,a=Io(Object(Cs.a)(n,"addOn.unitName",""),t);return{title:Io(Object(Cs.a)(n,"addOn.name",""),t).toUpperCase(),text:"".concat(t," ").concat(a)}}))),[JSON.stringify(e)]);return Object(a.jsx)(a.Fragment,{children:n(s)})},Bp=Ca.e().shape({order:Ca.e(),stallStatusId:Ca.f().when("hasStalls",{is:e=>!!e,then:Ca.f().required("Stall Reservation status is required"),otherwise:Ca.f().nullable()}),rvStatusId:Ca.f().when("hasRvs",{is:e=>!!e,then:Ca.f().required("RV Reservation status is required"),otherwise:Ca.f().nullable()})}),Fp=e=>{let n=e.children,t=Object(kn.a)(e,["children"]);return Object(a.jsx)(Ia.c,{initialValues:Object(j.a)({},t),validationSchema:Bp,children:e=>n(e)})};var Lp;const qp=Object(E.b)((({className:e="",children:n})=>Object(a.jsx)("div",{className:e+" order-side-panel",children:n})))(Lp||(Lp=Object(k.a)(["\n  &.order-side-panel {\n    background: ",";\n    height: calc(100% - 188px);\n    overflow: overlay;\n    overflow-y: auto;\n    width: 350px;\n    right: 0;\n    position: absolute;\n    z-index: 2;\n    ","\n    flex-flow: column nowrap;\n    top: 188px;\n    box-shadow: -2px 2px 5px 0 rgba(17, 24, 31, 0.3), -2px 2px 10px 0 rgba(17, 24, 31, 0.1);\n    font-family: IBMPlexSans-Regular;\n\n    .row {\n      margin: 40px 25px 0 25px;\n    }\n\n    .row-20 {\n      margin: 20px 25px 0 25px;\n    }\n\n    .order-user-name {\n      font-size: 22px;\n      font-family: 'IBMPlexSans-SemiBold';\n      line-height: 25px;\n      ","\n      flex-flow: row nowrap;\n      justify-content: space-between;\n\n      .close-icon {\n        img {\n          height: 14px;\n        }\n      }\n      .close-icon:hover {\n        cursor: pointer;\n      }\n    }\n\n    .phone-and-updated {\n      margin-top: 5px;\n      text-align: left;\n\n      .user-phone {\n        font-size: 16px;\n      }\n\n      p {\n        margin-bottom: 0;\n        font-size: 11px;\n        letter-spacing: 0.48 px;\n      }\n    }\n\n    .order-text {\n      font-size: 16px;\n      line-height: 25px;\n      text-align: left;\n      margin-top: 3px;\n    }\n\n    .order-divider {\n      ","\n      flex-flow: row nowrap;\n      justify-content: space-between;\n      flex-grow: 1;\n\n      .section-name {\n        font-size: 18px;\n        font-family: 'IBMPlexSans-SemiBold';\n        line-height: 23px;\n        margin-right: 10px;\n      }\n\n      .line {\n        background: ",";\n        height: 1px;\n        flex: 1;\n        position: relative;\n        top: 11px;\n      }\n    }\n\n    .order-details {\n      ","\n      flex-flow: row wrap;\n      justify-content: flex-start;\n      margin-top: 15px;\n\n      .order-col {\n        margin-right: 100px;\n        font-size: 16px;\n        line-height: 25px;\n        text-align: left;\n\n        .heading {\n          font-size: 13px;\n          font-family: 'IBMPlexSans-Bold';\n          line-height: 17px;\n          color: ",";\n        }\n      }\n      .order-col.last {\n        margin-right: 0;\n      }\n      .order-col.row-below {\n        margin-top: 15px;\n      }\n    }\n\n    .order-select {\n      margin-top: 15px;\n      .MuiFormControl-root {\n        display: block;\n      }\n      .MuiInputBase-root {\n        width: 100%;\n        text-align: left;\n        border: "," 1px solid;\n        border-radius: 3px;\n        padding: 0 10px;\n      }\n      .MuiSelect-select {\n        font-size: 15px;\n        line-height: 24px;\n      }\n      .MuiSelect-select:focus {\n        background: transparent;\n      }\n      .MuiInputBase-root svg {\n        color: ",";\n      }\n      .MuiInput-underline:before {\n        border-bottom: none;\n      }\n      .Mui-disabled {\n        background: #c6c6c6;\n        svg {\n          color: #999;\n        }\n      }\n    }\n\n    .row-edit-button {\n      position: -webkit-sticky;\n      position: sticky;\n      bottom: 0px;\n      background-color: white;\n    }\n\n    .row {\n      button {\n        width: 100%;\n        margin-bottom: 25px;\n      }\n    }\n\n    .loading {\n      ",";\n      margin-top: 150px;\n      justify-content: center;\n    }\n  }\n"])),P.white,Ke,Ke,Ke,P.border.primary,Ke,P.text.secondary,P.text.lightGray2,P.primary,Ke);var zp,Yp={RESERVED:{id:1,name:"reserved"},CHECKED_IN:{id:2,name:"checked in"},DEPARTED:{id:3,name:"departed"},CANCELLED:{id:4,name:"cancelled"}};const Vp=L()(zp||(zp=Object(k.a)(["\n  mutation UpdateReservationStatus($input: UpdateReservationStatusInput!) {\n    updateReservationStatus(input: $input) {\n      error\n      success\n      reservation {\n        id\n        status {\n          id\n          name\n        }\n        startDate\n        endDate\n        assignmentConfirmed\n        stallProduct {\n          id\n        }\n        rvProduct {\n          id\n        }\n      }\n    }\n  }\n"]))),Up=Object(re.a)(Vp,{props:({mutate:e})=>({updateReservationStatus:n=>{e({variables:{input:n}})}}),options:e=>({onCompleted:function(){var n=Object(O.a)(x.a.mark((function n({updateReservationStatus:t}){var a,r,s,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.success?(a=t.reservation,s=(r=void 0===a?{}:a).rvProduct,i=s?"RV spot":"Stall",e.showSnackbar(" ".concat(i," reservation status updated to ").concat(Object(Gi.a)(r.status&&r.status.name||"")))):e.showSnackbar("Reservation update failed",{error:!0});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onError:function(){var n=Object(O.a)(x.a.mark((function n(t){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cd(e.showSnackbar,"Reservation update failed",t);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})});const Wp=(Qp=({name:e,orderItemId:n,disabled:t,updateReservationStatus:s})=>{const i=Object(Ia.f)().values,c=i[e]?String(i[e]):"",o=Object(r.useState)(!1),l=Object(w.a)(o,2),d=l[0],u=l[1],p=Object(r.useMemo)((()=>Object.keys(Yp).filter((e=>Yp[e].id!==Yp.CANCELLED.id)).map((e=>({value:Yp[e].id||"",label:Object(Gi.a)(Yp[e].name||"")})))),[JSON.stringify(Yp)]),b=Object(r.useMemo)((()=>p.map((({value:e,label:n})=>Object(a.jsx)(hp.a,{value:e,children:n},e)))),[JSON.stringify(p)]),m=Object(r.useCallback)((()=>{d&&n&&c&&i.order.id?s({orderItemId:n,statusId:c},{id:i.order.id}):u(!0)}),[c]);return Object(r.useEffect)((()=>{m()}),[m]),Object(a.jsx)("div",{className:"order-select",children:Object(a.jsx)(Ia.a,{as:"select",name:e,render:({field:e})=>Object(a.jsx)(Sa.a,{disabled:t,children:Object(a.jsx)(jp.a,Object(j.a)(Object(j.a)({},e),{},{disableUnderline:!0,children:b}))})})})},Object(se.a)(D,Up)(Qp));var Qp;const Gp=()=>Object(a.jsx)(qp,{children:Object(a.jsx)("div",{className:"loading",children:Object(a.jsx)(B,{})})}),Hp=({children:e,order:n})=>{const t=Object(Cs.a)(n,"reservation.stalls",[]),r="".concat(n.quantity," ").concat(Io("stall",n.quantity)),s=t.reduce(((e,n)=>{const t=Object(j.a)({},e),a=Object(Cs.a)(n,"building.name","none");return t[a]=void 0!==t[a]?t[a]+", "+n.name:n.name,t}),{}),i=Object.keys(s).map((e=>Object(a.jsxs)(a.Fragment,{children:[e,Object(a.jsx)("br",{})," "]}))),c=Object.keys(s).map((e=>s[e])).join(", "),o=[{title:"LOCATION",text:0===i.length?"Unassigned":i},{title:"STALLS",text:c||r}];return Object(a.jsx)(a.Fragment,{children:e(o)})},Kp=({children:e,order:n})=>{const t=n.reservation,s=void 0===t?{}:t,i=n.quantity,c=s.rvProduct,o=void 0===c?{}:c,l=s.rvSpots||[],d=Object(r.useMemo)((()=>l.map((e=>e.name)).join(", ")),[JSON.stringify(l)]),u=Object(Cs.a)(o,"name","Unassigned"),p=Object(Cs.a)(o,"rvLot.name","Unassigned"),b="".concat(i," ").concat(Io("spot",i)),m=[{title:"LOCATION",text:u||p},{title:"SPOTS",text:d||b}];return Object(a.jsx)(a.Fragment,{children:e(m)})},Zp=e=>{const n=e.orderID,t=e.onClose,s=Object(H.g)().push,i=Object(_.a)(_p,{fetchPolicy:"network-only"}),c=Object(w.a)(i,2),o=c[0],l=c[1],d=l.called,u=l.data,p=l.loading,b=u&&u.order?u.order:{},m=b.user,j=void 0===m?{}:m,h=b.event,x=void 0===h?{}:h,O=b.orderItems,g=void 0===O?[]:O,v=b.notes,f=Object(r.useMemo)((()=>(e=>({stallsOrder:e.find((e=>!!e.reservation&&e.reservation.stallProduct))||null,rvsOrder:e.find((e=>!!e.reservation&&e.reservation.rvProduct))||null,addOnOrderItems:e.filter((e=>e.addOnProduct))}))(g)),[JSON.stringify(g)]),y=f.stallsOrder,A=f.rvsOrder,N=f.addOnOrderItems.filter((e=>e.quantity>0)),S=Object(r.useCallback)((()=>{n&&o({variables:{id:n}})}),[n]);return Object(r.useEffect)((()=>{S()}),[S]),n?p||!d?Object(a.jsx)(Gp,{}):Object(a.jsx)(Fp,{hasRvs:Boolean(A),hasStalls:Boolean(y),order:b,rvStatusId:Object(Cs.a)(A,"reservation.status.id",""),stallStatusId:Object(Cs.a)(y,"reservation.status.id",""),children:()=>Object(a.jsxs)(qp,{children:[Object(a.jsxs)(Tp,{className:"row-20 order-user-name",children:[Object(a.jsx)("div",{children:"".concat(Object(Gi.a)(j.firstName||"")," ").concat(Object(Gi.a)(j.lastName||""))}),Object(a.jsx)(Rp,{onClose:t})]}),Object(a.jsxs)(Tp,{className:"phone-and-updated",children:[Object(a.jsx)("div",{className:"user-phone",children:us(j.phone)}),Object(a.jsxs)("p",{children:["Edited at ",Hr.a.unix(new Date(b.updatedAt)/1e3).format("MM/DD/YY[,]h:mm A")]})]}),Object(a.jsx)(Tp,{className:"row-20",title:"Event",text:x.name}),!(null===y||void 0===y||!y.quantity)&&Object(a.jsxs)(Tp,{title:"Stalls",text:Ep(Object(Cs.a)(y,"reservation.startDate",""),Object(Cs.a)(y,"reservation.endDate","")),children:[Object(a.jsx)(Hp,{order:y,children:e=>Object(a.jsx)(Pp,{columns:e})}),Object(a.jsx)(Wp,{name:"stallStatusId",orderItemId:y.id,disabled:!!b.canceled})]}),!(null===A||void 0===A||!A.quantity)&&Object(a.jsxs)(Tp,{title:"RV Spots",text:Ep(Object(Cs.a)(A,"reservation.startDate",""),Object(Cs.a)(A,"reservation.endDate","")),children:[Object(a.jsx)(Kp,{order:A,children:e=>Object(a.jsx)(Pp,{columns:e})}),Object(a.jsx)(Wp,{name:"rvStatusId",orderItemId:A.id,disabled:!!b.canceled})]}),N.length>0&&Object(a.jsx)(Tp,{title:"Add Ons",children:Object(a.jsx)(Mp,{addOnOrderItems:N,children:e=>Object(a.jsx)(Pp,{columns:e})})}),!!v&&Object(a.jsx)(Tp,{title:"Special Request",text:v}),Object(a.jsx)(Tp,{className:"row-edit-button",children:Object(a.jsx)(Yn,{type:"submit",secondary:!0,onClick:()=>s("/admin/order/edit/".concat(n)),children:"Edit Reservation"})})]})},n):null};var Xp;var Jp,$p=Object(E.b)((e=>{const n=e.className;return Object(a.jsx)("div",{className:n,children:Object(a.jsxs)(Sa.a,{variant:"outlined",fullWidth:!0,children:[Object(a.jsx)(vc.a,{htmlFor:"".concat(e.label),children:e.label}),Object(a.jsx)(jp.a,{value:e.selectedOption,onChange:e.cb,labelWidth:200,inputProps:{name:e.label,id:e.label},children:e.options&&("USER TYPE"===e.label?e.options.map((e=>Object(a.jsx)(hp.a,{value:e.id,children:e.name.toUpperCase()},"".concat(e.id,"-").concat(e.name)))):e.options.map((e=>Object(a.jsx)(hp.a,{value:e.value,children:e.label},"".concat(e.value,"-").concat(e.label)))))})]})})}))(Xp||(Xp=Object(k.a)(["\n  width: 100%;\n  &&& {\n    height: 40px;\n    * {\n      background: transparent;\n    }\n    .MuiInputBase-root {\n      height: 40px;\n      margin: 0 0 0 0;\n      text-align: left;\n    }\n    .MuiInputLabel-formControl {\n      top: -9px;\n      ","\n      line-height: normal;\n      font-size: 0.9375rem;\n    }\n    .MuiInputLabel-shrink {\n      top: 0;\n    }\n    .Mui-focused {\n      top 0;\n    }\n    .MuiFormLabel-filled {\n      top: 0;\n    }\n    .MuiSelect-icon {\n      color: ",";\n    }\n  }\n"])),Fe,P.primary);var eb,nb,tb=Object(E.b)((e=>{const n=e.id,t=e.value,r=e.label,s=e.cb,i=e.options,c=e.className,o=e.isDisabled,l=e.hasLabel,d=e.firstMenuItemStyle;return Object(a.jsxs)(Sa.a,{className:c,disabled:o,children:[l&&Object(a.jsx)(vc.a,{htmlFor:"".concat(n,"-").concat(r),children:r}),Object(a.jsx)(jp.a,{value:t,onChange:s,input:Object(a.jsx)(fc.a,{id:"".concat(n,"-").concat(r)}),children:i.userRoles?i.userRoles.map((e=>Object(a.jsx)(hp.a,{value:e.id,children:e.name.toUpperCase()},"".concat(e.id,"-").concat(e.name)))):i.map(((e,t)=>Object(a.jsx)(hp.a,{value:e.value,disabled:e.disabled,style:d&&0===t?d:null,children:e.label},"".concat(n,"-").concat(e.value,"-").concat(e.label))))})]})}))(Jp||(Jp=Object(k.a)(["\n  &&& {\n    div {\n      ::before,\n      ::after {\n        border: none !important;\n      }\n    }\n    * {\n      ","\n    }\n    svg {\n      font-size: 22px;\n      color: ",";\n    }\n  }\n"])),Ye,(e=>e.isDisabled?P.primary.disabled:P.primary));var ab=Object(E.b)((e=>{const n=e.className,t=e.error,r=e.onBlur;return Object(a.jsx)("div",{className:n,children:Object(a.jsxs)(Sa.a,{variant:"filled",fullWidth:!0,onBlur:r,children:[Object(a.jsx)(vc.a,{id:"select-label-".concat(e.label),htmlFor:"".concat(e.label),shrink:e.shrink,children:e.label}),Object(a.jsxs)(jp.a,{value:e.selectedOption||"",onChange:e.cb,labelWidth:200,inputProps:{name:e.label,id:e.label},disabled:e.disabled,children:[e.options.length>0&&e.options.map((e=>Object(a.jsx)(hp.a,{value:e.value,disabled:e.disabled,children:Object(a.jsxs)("div",{"data-testid":e.dataTestid,children:[e.label,e.disabled&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{style:{margin:0}})," ",Object(a.jsx)("p",{style:{fontSize:"11px",margin:0},children:e.disabledText})]})]})},"".concat(e.value,"-").concat(e.label)))),0===e.options.length&&Object(a.jsx)(rb,{value:"",disabled:!0,children:Object(a.jsx)("div",{children:e.emptyListMessage?e.emptyListMessage:"No options"})})]}),t&&Object(a.jsx)("p",{className:"error-text",children:null===t||void 0===t?void 0:t.toUpperCase()})]})})}))(eb||(eb=Object(k.a)(["\n  width: 100%;\n  &&& {\n    * {\n      background: transparent;\n    }\n    .MuiInputBase-root {\n      height: 36px;\n      margin: 7px 0 0 0;\n    }\n    .MuiInputLabel-formControl {\n      top: -5px;\n      ","\n      line-height: normal;\n      font-size: 0.9375rem;\n    }\n    .MuiFormLabel-filled {\n      top: 5px;\n    }\n    .MuiSelect-icon {\n      color: ",";\n    }\n    .error-text {\n      color: #f44336;\n      margin: 4px 0 0 10px;\n      font-weight: 400;\n      line-height: 1.66\n      font-size: .75rem\n    }\n  }\n"])),Fe,P.primary);const rb=Object(E.b)(hp.a)(nb||(nb=Object(k.a)(["\n  && {\n    &.Mui-selected {\n      background-color: #fff;\n    }\n\n    &.Mui-disabled {\n      opacity: 1;\n    }\n  }\n"])));var sb;const ib=L()(sb||(sb=Object(k.a)(["\n  query ReservationAssignmentCountsSMS($input: SMSCountInput) {\n    reservationAssignmentSMSCounts(input: $input) {\n      productTypeNotPurchased\n      noSpacesAssigned\n      assignmentsAlreadySent\n      ordersToBeSentAssignment\n    }\n  }\n"])));var cb,ob,lb;const db=Object(E.b)(De.a)(cb||(cb=Object(k.a)(["\n  ","\n  flex-direction: row;\n  width: ",";\n  padding: 20px;\n  max-width: 670px;\n  height: auto;\n  outline: none;\n  left: 50%;\n  top: 50%;\n  position: absolute;\n  -webkit-transform: translate3d(-50%, -50%, 0);\n  -moz-transform: translate3d(-50%, -50%, 0);\n  transform: translate3d(-50%, -50%, 0);\n  @media screen and (max-width: 601px) {\n    width: 80vw;\n    height: auto;\n  }\n"])),Ke,(e=>e.width?e.width:"100vw")),ub=E.b.div(ob||(ob=Object(k.a)(["\n  ","\n  flex-direction: column;\n  width: 100%;\n"])),Ke),pb=E.b.h4(lb||(lb=Object(k.a)(["\n  ","\n  margin: 16px 0 0;\n  @media screen and (max-width: 601px) {\n    margin: 0 0 20px;\n  }\n"])),Me);var bb,mb=e=>{const n=e.heading,t=Object(kn.a)(e,["heading"]);return Object(a.jsx)(no.a,Object(j.a)(Object(j.a)({className:"modal-charge"},t),{},{children:Object(a.jsx)(db,{width:e.width,children:Object(a.jsxs)(ub,{children:[n&&Object(a.jsx)(pb,{children:n}),e.children]})})}))};const jb=L()(bb||(bb=Object(k.a)(["\n  mutation reservationDetailsSMS($input: AssignmentsSMSInput) {\n    reservationDetailsSMS(input: $input) {\n      success\n    }\n  }\n"])));var hb,xb,Ob,gb,vb,fb,yb,Ab=Object(re.a)(jb,{props:({mutate:e})=>({reservationDetailsSMS:n=>e({variables:{input:n}})})});const wb="Something went wrong texting assignment information. Please try again.",Nb=e=>Object(a.jsx)("p",{className:"".concat(e,"__assignments-modal-text"),children:"Loading..."}),Sb=e=>e>1?"renters":"renter",Ib=(e,n)=>e?n>1?"stalls":"stall":n>1?"RV spots":"RV spot",Cb=(e,n)=>n?Object(a.jsxs)(a.Fragment,{children:[e?"Stall":"RV"," assignments will be sent to:",Object(a.jsxs)("strong",{children:[" ",n," ",Sb(n)," "]})]}):"No ".concat(e?"stall":"RV spot"," assignments will be sent"),Db=e=>Ib(e,1),kb=e=>Ib(e,2),_b=(e,n)=>n>0?Object(a.jsx)("div",{className:"count-section",children:"".concat(n," ").concat(Sb(n)," ").concat(n>1?"have":"has"," already received their current ").concat(Db(e)," ").concat(1===n?"assignment.":"assignments.")}):null,Eb=(e,n)=>n>0?Object(a.jsx)("div",{className:"count-section",children:"".concat(n," ").concat(Sb(n)," ").concat(n>1?"do":"does"," not have ").concat(kb(e)," assigned.")}):null,Rb=(e,n)=>n>0?Object(a.jsx)("div",{className:"count-section",children:"".concat(n," ").concat(Sb(n)," did not reserve ").concat(kb(e),".")}):null,Tb=Object(E.b)((e=>{const n=e.className,t=e.open,r=e.toggleAssignmentsModalVisible,s=e.selectedRows,i=e.productType,c=e.onError,o=e.onSuccess,l="stalls"===i,d=()=>{r(!1)},u=e=>{c(e),d()},p=Object(_.c)(ib,{variables:{input:{orderIds:s,reservationType:i}}}),b=p.loading,m=p.error,j=p.data;if(b)return"Loading...";m&&u("Something went wrong getting assignment information. Please refresh and try again.");const h=j.reservationAssignmentSMSCounts,g=h.ordersToBeSentAssignment,v=h.assignmentsAlreadySent,f=h.productTypeNotPurchased,y=h.noSpacesAssigned,A=function(){var n=Object(O.a)(x.a.mark((function n(){var t;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.reservationDetailsSMS({orderIds:s,reservationType:i});case 3:(t=n.sent)&&!t.data.reservationDetailsSMS.success&&u(wb),o(l?"Stall assignment information has been texted":"RV Assignment information has been texted"),d(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),u(wb);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(a.jsx)(mb,{heading:l?"SEND STALL ASSIGNMENTS":"SEND RV SPOT ASSIGNMENTS",open:t,className:"".concat(n,"__send-assignments-modal"),width:"400px","data-testid":"send-assignments-modal",children:Object(a.jsxs)(Pb,{children:[Object(a.jsxs)(Mb,{children:[Object(a.jsxs)(Bb,{children:[b&&Nb(n),Object(a.jsx)("div",{className:"".concat(n,"__assignments-modal-text"),children:Cb(l,g.length)})]}),(v>0||f>0||y>0)&&Object(a.jsx)(Bb,{children:Object(a.jsxs)("div",{className:"".concat(n,"__assignments-modal-not-sending-content"),children:[Object(a.jsxs)("div",{className:"".concat(n,"__not-sending-title"),children:[Object(a.jsx)(yo.a,{style:{marginRight:5}}),Object(a.jsx)("span",{children:"Why won't some renters be texted?"})]}),_b(l,v),Eb(l,y),Rb(l,f)]})})]}),Object(a.jsxs)(Fb,{children:[Object(a.jsx)(qb,{secondary:!0,variant:"contained",size:"large",onClick:d,children:"CANCEL"}),Object(a.jsx)(Lb,{primary:!0,variant:"contained",size:"large",onClick:A,disabled:m||g.length<1,children:"SEND"})]})]})})}))(hb||(hb=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 32px;\n  height: 100%;\n  justify-content: space-around;\n  &&& {\n    width: 400px;\n  }\n  &__progress-spinner {\n    &&& {\n      bottom: 4%;\n      color: ",";\n      left: 77%;\n      position: absolute;\n    }\n  }\n  &__send-assignments-modal {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    & {\n      div[class^='MuiCard-root'],\n      div[class*='MuiCard-root'] {\n        height: auto;\n      }\n    }\n    h4 {\n      margin-top: 0;\n      margin-bottom: 20px;\n    }\n  }\n  &__assignments-modal-text {\n    font-size: 16px;\n    padding-bottom: 20px;\n    &&& {\n      width: 100%;\n    }\n    &.error {\n      padding: 0;\n    }\n  }\n  &__assignments-modal-not-sending-content {\n    background-color: #eaf2fb;\n    border-radius: 5px;\n    padding: 10px;\n    &&& p {\n      font-size: 13px !important;\n      padding: 10px 5px;\n    }\n    &&& {\n      width: 100%;\n    }\n\n    .count-section {\n      margin: 3px 0 5px 8px;\n    }\n  }\n  &__not-sending-title {\n    &&& {\n      ","\n      width: 100%;\n      height: auto;\n      ","\n      font-size: 14px;\n      letter-spacing: 0.5px;\n      text-align: left;\n      font-weight: 900;\n    }\n  }\n"])),P.primary,Ke,Ke,Fe),Pb=E.b.div(xb||(xb=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  &:first-child {\n    margin: 0 0 30px 0;\n  }\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    &:first-child {\n      margin: 0 0 30px 0;\n    }\n  }\n"])),Ke,Ke),Mb=E.b.div(Ob||(Ob=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 100%;\n"])),Ke),Bb=E.b.div(gb||(gb=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  &&& p {\n    ","\n    margin: 0;\n  }\n  width: 100%;\n"])),Ke,Fe),Fb=Object(E.b)(Pb)(vb||(vb=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-end;\n  align-self: flex-end;\n  width: 100%;\n  position: unset;\n  margin-top: 20px;\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    margin: 20px 0 0;\n  }\n"])),Ke,Ke),Lb=Object(E.b)(Yn)(fb||(fb=Object(k.a)(["\n  &&& {\n    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16), 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n    font-size: 16px;\n    line-height: 0;\n    width: auto;\n    margin-left: ","px;\n    &&&:first-child {\n      width: auto;\n    }\n  }\n"])),(e=>e.primary?20:0)),qb=Object(E.b)(Lb)(yb||(yb=Object(k.a)(["\n  &&& {\n    color: ",";\n    font-size: 16px;\n    height: 36px;\n    width: 228px;\n  }\n"])),P.white);var zb,Yb=Object(se.a)(Ab)(Object(r.memo)(Tb));const Vb=L()(zb||(zb=Object(k.a)(["\n  mutation OrderCustomSMS($input: SMSByOrderIdsInput) {\n    customSMSWithOrders(input: $input) {\n      success\n      error\n    }\n  }\n"])));var Ub,Wb,Qb,Gb,Hb,Kb,Zb,Xb=Object(re.a)(Vb,{props:({mutate:e})=>({customSMSWithOrders:n=>e({variables:{input:n}})})});const Jb=Object(E.b)((e=>{const n=e.className,t=e.open,s=e.toggleCustomMessageModal,i=e.selectedRows,c=e.onError,o=e.onSuccess,l=Object(r.useState)(null),d=Object(w.a)(l,2),u=d[0],p=d[1],b=()=>{s(!1)},m=e=>{c(e),b()},j=function(){var n=Object(O.a)(x.a.mark((function n(){var t,a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.customSMSWithOrders({body:u,orderIds:i});case 3:t=n.sent,(a=t.data&&t.data.customSMSWithOrders).success&&!a.error||m("Something went wrong sending your text message. Please try again."),o("Text message sent"),b(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),m("Something went wrong sending your text message. Please try again.");case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return Object(a.jsx)(mb,{heading:"SEND CUSTOM MESSAGE",open:t,className:"".concat(n,"__custom-message-modal"),"data-testid":"send-custom-message-modal",children:Object(a.jsxs)($b,{children:[Object(a.jsxs)(em,{children:[Object(a.jsxs)(nm,{children:[Object(a.jsx)("span",{className:"".concat(n,"__modal-cta"),children:"Enter Message"}),Object(a.jsxs)("span",{className:"".concat(n,"__modal-char-count"),children:[u?320-u.length:320," Characters Remaining"]})]}),Object(a.jsx)(Hn,{type:"text",multiline:!0,rows:"4",variant:"filled",name:"customMessage",inputProps:{maxLength:320},className:"".concat(n,"__custom-message-field"),value:u||"",onChange:e=>p(e.target.value)}),Object(a.jsx)("p",{className:"".concat(n,"__renter-count"),children:(h=i.length||0,h?Object(a.jsxs)(a.Fragment,{children:["This message will be texted to",Object(a.jsxs)("strong",{children:[" ",h," selected ",h>1?"renters":"renter"]})]}):null)})]}),Object(a.jsxs)(tm,{children:[Object(a.jsx)(rm,{secondary:!0,variant:"contained",size:"large",onClick:b,children:"CANCEL"}),Object(a.jsx)(am,{primary:!0,variant:"contained",size:"large",onClick:j,disabled:!u||u.length<1,children:"SEND"})]})]})});var h}))(Ub||(Ub=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 32px;\n  height: 100%;\n  justify-content: space-around;\n  &&& {\n    width: 400px;\n    color: ",";\n  }\n  &__custom-message-modal {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    & {\n      div[class^='MuiCard-root'],\n      div[class*='MuiCard-root'] {\n        height: auto;\n      }\n    }\n    h4 {\n      margin-top: 0;\n      margin-bottom: 20px;\n    }\n  }\n  &__modal-cta {\n    font-size: 18px;\n    font-family: 'IBMPlexSans-SemiBold';\n    text-transform: uppercase;\n  }\n  &__modal-char-count {\n    font-size: 11px;\n    text-transform: uppercase;\n  }\n  &__custom-message-field {\n    &&& {\n      margin: 10px 0;\n    }\n  }\n  &__renter-count {\n    margin-top: 0;\n    font-size: 16px;\n  }\n"])),P.text.primary,Ke),$b=E.b.div(Wb||(Wb=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-end;\n  &:first-child {\n    margin: 0 0 30px 0;\n  }\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    &:first-child {\n      margin: 0 0 30px 0;\n    }\n  }\n"])),Ke,Ke),em=E.b.div(Qb||(Qb=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 100%;\n"])),Ke),nm=E.b.div(Gb||(Gb=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-end;\n  margin-top: 20px;\n  &&& p {\n    ","\n    margin: 0;\n  }\n  width: 100%;\n"])),Ke,Fe),tm=Object(E.b)($b)(Hb||(Hb=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-end;\n  align-self: flex-end;\n  width: 100%;\n  position: unset;\n  margin-top: 20px;\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    margin: 20px 0 0;\n  }\n"])),Ke,Ke),am=Object(E.b)(Yn)(Kb||(Kb=Object(k.a)(["\n  &&& {\n    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16), 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n    font-size: 16px;\n    line-height: 0;\n    width: auto;\n    margin-left: ","px;\n    &&&:first-child {\n      width: auto;\n    }\n  }\n"])),(e=>e.primary?20:0)),rm=Object(E.b)(am)(Zb||(Zb=Object(k.a)(["\n  &&& {\n    color: ",";\n    font-size: 16px;\n    height: 36px;\n    width: 228px;\n  }\n"])),P.white);var sm,im=Object(se.a)(Xb)(Object(r.memo)(Jb));const cm=(e,n,t,r,s,i,c)=>n||!e?null:Object(a.jsx)(Yb,{productType:r,open:e,toggleAssignmentsModalVisible:t,selectedRows:s||[],onClose:t,onError:c,onSuccess:i}),om=(e,n,t,r,s,i)=>!n||e?null:Object(a.jsx)(im,{selectedRows:r||[],open:n,toggleCustomMessageModal:t,onError:i,onSuccess:s}),lm=Object(E.b)((e=>{const n=e.className,t=e.showSnackbar,s=Object(r.useContext)(Ku),i=Object(r.useState)(0),c=Object(w.a)(i,2),o=c[0],l=c[1],d=Object(r.useState)(!1),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(r.useState)(!1),j=Object(w.a)(m,2),h=j[0],x=j[1],O=Object(r.useState)(!1),g=Object(w.a)(O,2),v=g[0],f=g[1],y=Object(r.useState)(!1),A=Object(w.a)(y,2),N=A[0],S=A[1],I=()=>{f(!0)},C=()=>{f(!1)},D=e=>{t(e,{error:!0})},k=e=>{t(e)};return Object(r.useEffect)((()=>{l(0)}),[]),Object(r.useEffect)((()=>{p||h||l(0)}),[p,h]),Object(r.useEffect)((()=>{S(s.selectedRows.length<1)}),[s.selectedRows]),Object(a.jsxs)(a.Fragment,{children:[N&&Object(a.jsx)(Yt.a,{id:"bulk-action-tooltip",open:v,title:"Select one or more reservations in order to complete bulk actions",placement:"right",children:Object(a.jsxs)("div",{id:"bulk-action-comp",className:"".concat(n,"__bulk_info  disabled"),onMouseOver:I,onFocus:I,onBlur:I,onMouseOut:C,onMouseLeave:C,role:"button",tabIndex:"0",children:["Bulk Actions",Object(a.jsx)("svg",{className:"MuiSvgIcon-root MuiSelect-icon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:Object(a.jsx)("path",{d:"M7 10l5 5 5-5z"})})]})}),!N&&Object(a.jsxs)("div",{id:"bulk-action-comp",className:"".concat(n,"__bulk_info"),children:[Object(a.jsx)(tu,{}),Object(a.jsx)(tb,{id:"bulk-actions-select",value:o,label:"Bulk Actions",hasLabel:!1,cb:e=>{l(e.target.value),0!==e.target.value?"custom"===e.target.value?x(!0):b(!0):(b(!1),x(!1))},className:"".concat(n,"__bulk_info_select"),firstMenuItemStyle:{borderBottom:"1px solid #d4d4d4"},options:[{value:0,label:"Bulk Actions"},{value:"stalls",label:"Send Stall Assignments"},{value:"rvs",label:"Send RV Spot Assignments"},{value:"custom",label:"Send Custom Message"}]}),cm(p,h,b,o,s.selectedRows,k,D),om(p,h,x,s.selectedRows,k,D)]})]})}))(sm||(sm=Object(k.a)(["\n  &__bulk_info {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    &.disabled {\n      color: rgba(0, 0, 0, 0.5);\n      background-color: #ffffff;\n      font-family: 'IBMPlexSans-Bold';\n      font-size: 16px;\n      padding-left: 10px;\n      padding-top: 6px;\n      padding-bottom: 7px;\n      box-shadow: 0 2px 6px rgba(17, 24, 31, 0.03), 0 2px 3px rgba(17, 24, 31, 0.1);\n      svg {\n        position: relative;\n        margin-left: 2px;\n        color: #10ac84;\n      }\n    }\n    &.disabled:active {\n      box-shadow: 0 4px 8px rgba(17, 24, 31, 0.03), 3px 4px 5px rgba(17, 24, 31, 0.1);\n    }\n    &.disabled:focus {\n      outline: none;\n    }\n  }\n\n  &__bulk_info_select {\n    height: 37px;\n    margin-right: 7px !important;\n    display: flex;\n    flex-direction: row;\n    box-shadow: 0 2px 6px rgba(17, 24, 31, 0.03), 0 2px 3px rgba(17, 24, 31, 0.1);\n\n    .MuiInputBase-input {\n      padding-bottom: 6px;\n    }\n\n    .MuiInputBase-formControl {\n      background-color: white;\n      height: 37px;\n      .MuiSelect-root {\n        font-family: 'IBMPlexSans-Bold';\n        font-size: 16px;\n        text-transform: none;\n        padding-left: 7px;\n      }\n    }\n  }\n"])));var dm,um=Object(se.a)(D)(lm);var pm,bm=Object(E.b)((e=>{const n=e.className,t=e.getAllOrders,s=e.allOrders,i=Object(r.useContext)(Ku),c=i.selectedRows&&!!i.selectedRows.length,o=c&&i.dataProvider.length===i.selectedRows.length,l=Object(r.useState)(!1),d=Object(w.a)(l,2),u=d[0],p=d[1];Object(r.useEffect)((()=>{u&&(s?i.selectAll(s.orders.orders):t())}),[s,u]);return Object(a.jsx)("div",{className:"".concat(n,"__row-selection-info"),id:"row-selection-info",children:Object(a.jsx)(ad.a,{control:Object(a.jsx)(Qt.a,{checked:c,indeterminate:c&&!o,name:"checked",color:"primary",onChange:()=>{if(c)return i.clearAllSelections(),p(!1);p(!0)}}),label:(b=i.selectedRows?i.selectedRows.length:0,b>0?"".concat(b," selected"):"")})});var b}))(dm||(dm=Object(k.a)(["\n  &__row-selection-info {\n    min-width: 60px;\n    height: 37px;\n    margin-right: 5px;\n    padding-left: 23px;\n    display: flex;\n    flex-direction: row;\n    background-color: white;\n    box-shadow: 0 2px 6px rgba(17, 24, 31, 0.03), 0 2px 3px rgba(17, 24, 31, 0.1);\n    .blue-checkbox {\n      color: blue[400];\n    }\n    .MuiFormControlLabel-root {\n      margin-right: 8px;\n    }\n  }\n"])));var mm,jm=Object(E.b)((e=>{const n=e.className,t=e.ordering,r=e.setOrdering;return Object(a.jsx)(gp,{className:"".concat(n,"__table-order-select"),field:{name:"orderBy"},onChange:e=>{sessionStorage.setItem("reservationsOrder",e.target.value),r(e.target.value)},fieldlabel:"",noempty:"true",value:t,options:[{value:"updatedAt_DESC",name:"Last Edited"},{value:"createdAt_DESC",name:"Newest Created"},{value:"createdAt_ASC",name:"Oldest Created"},{value:"lastName_ASC",name:"Last Name (A-Z)"},{value:"lastName_DESC",name:"Last Name (Z-A)"}]})}))(pm||(pm=Object(k.a)(["\n  &__table-tabs {\n    display: flex;\n    margin-left: 20px;\n    padding-left: 0;\n    margin-bottom: 0;\n  }\n\n  &__table-order-select-wrapper {\n    display: flex;\n  }\n\n  &__table-order-select {\n    width: 200px;\n    height: 37px;\n    margin-left: auto;\n    margin-top: 0;\n    margin-bottom: 0;\n\n    .MuiOutlinedInput-notchedOutline {\n      border: 0;\n    }\n\n    .MuiSelect-outlined.MuiSelect-outlined {\n      background: white;\n      height: 27px;\n      border-radius: 0;\n      text-align: left;\n      padding: 10px 25px 0 10px;\n      box-shadow: 0 2px 6px rgba(17, 24, 31, 0.03), 0 2px 3px rgba(17, 24, 31, 0.1);\n    }\n\n    .MuiOutlinedInput-input {\n      padding: 0;\n    }\n\n    .MuiSelect-iconOutlined {\n      right: 18px;\n      color: #29b490;\n    }\n\n    .MuiInputBase-root {\n      padding: 10px 14px;\n    }\n  }\n"])));var hm,xm=Object(E.b)((e=>{const n=e.className,t=e.count,r=e.filters,s=e.checkingInCount,i=e.checkingOutCount,c=e.checkInOutFilter,o=e.setCheckInOutFilter,l=e.loading,d=e=>{switch(e){case"checkin":o({checkInOnly:!0,checkOutOnly:!1});break;case"checkout":o({checkInOnly:!1,checkOutOnly:!0});break;default:o({checkInOnly:!1,checkOutOnly:!1})}};return Object(a.jsxs)("ul",{className:"".concat(n,"__table-count"),children:[Object(a.jsx)("li",{className:c.checkInOnly||c.checkOutOnly?"":"active",children:Object(a.jsxs)("button",{type:"button",onClick:()=>d("all"),children:[" ","All ",Object(a.jsx)("span",{className:"counter",children:t})]})}),r.startDate&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("li",{className:c.checkInOnly&&!c.checkOutOnly?"active":"",children:Object(a.jsxs)("button",{type:"button",onClick:()=>d("checkin"),children:["Checking In ",Object(a.jsx)("span",{className:"counter",children:s})]})}),Object(a.jsx)("li",{className:!c.checkInOnly&&c.checkOutOnly?"active":"",children:Object(a.jsxs)("button",{type:"button",onClick:()=>d("checkout"),children:["Departing ",Object(a.jsx)("span",{className:"counter",children:i})]})})]}),Object(a.jsx)("li",{children:l&&Object(a.jsx)("div",{className:"".concat(n,"__empty-list"),children:Object(a.jsx)(B,{size:"25px"})})})]})}))(mm||(mm=Object(k.a)(["\n  &__table-count {\n    display: flex;\n    margin-left: 50px;\n    padding-left: 0;\n    margin-bottom: 28px;\n\n    .MuiCircularProgress-root {\n      position: relative;\n      top: 5px;\n    }\n\n    li {\n      list-style: none;\n      margin-right: 30px;\n\n      button {\n        text-transform: uppercase;\n        color: #333;\n        font-size: 22px;\n        font-weight: bold;\n        background: transparent;\n        border: 0;\n        padding: 0;\n        letter-spacing: 2px;\n        cursor: pointer;\n      }\n      button:focus {\n        outline: none;\n      }\n    }\n\n    .active {\n      border-bottom: #2573c2 4px solid;\n      button {\n        color: #2573c2;\n      }\n\n      .counter {\n        background: #2573c2;\n      }\n    }\n\n    .counter {\n      background: #333;\n      color: white;\n      font-size: 10px;\n      display: inline-block;\n      position: relative;\n      top: -4px;\n      padding: 2px 2px 3px 4px;\n      font-weight: normal;\n      border-radius: 4px;\n    }\n  }\n"])));const Om=window.navigator.platform;var gm,vm,fm,ym=Object(E.b)((e=>{const n=e.className,t=e.ordering,r=e.setOrdering,s=e.count,i=e.filters,c=e.checkingInCount,o=e.checkingOutCount,l=e.checkInOutFilter,d=e.setCheckInOutFilter,u=e.loading,p=e.getAllOrders,b=e.allOrders;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(xm,{className:n,count:s,filters:i,checkingInCount:c,checkingOutCount:o,checkInOutFilter:l,setCheckInOutFilter:d,loading:u}),Object(a.jsxs)("div",{className:"".concat(n,"__action-bar"),children:[Object(a.jsx)(bm,{getAllOrders:p,allOrders:b}),Object(a.jsx)(um,{}),Object(a.jsx)(jm,{className:n,ordering:t,setOrdering:r})]})]})}))(hm||(hm=Object(k.a)(["\n  &__action-bar {\n    margin-left: 50px;\n    margin-right: ","\n    padding-right: ",";\n    padding-bottom: 5px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n"])),Om.indexOf("Win")>-1?"0":"45px",Om.indexOf("Win")>-1?"50px":"5px");const Am=e=>Object(Cs.a)(e,"orders.orders",[]),wm=Object(E.b)((e=>{const n=e.className,t=Object(r.useState)(!0),s=Object(w.a)(t,2),i=s[0],c=s[1],o=Object(r.useState)(!0),l=Object(w.a)(o,2),d=l[0],u=l[1],p=Object(r.useState)({reservationStatus:0}),b=Object(w.a)(p,2),m=b[0],j=b[1],h=Object(r.useState)("updatedAt_DESC"),x=Object(w.a)(h,2),O=x[0],g=x[1],v=Object(r.useState)({checkInOnly:!1,checkOutOnly:!1}),f=Object(w.a)(v,2),y=f[0],A=f[1],N=(()=>{const e=Object(r.useState)(null),n=Object(w.a)(e,2),t=n[0],a=n[1];return{orderID:t,open:e=>a(e),onClose:()=>a(null)}})(),S=N.open,I=N.onClose,C=N.orderID;Object(r.useEffect)((()=>{const e=sessionStorage.getItem("reservationsOrder");e?O!==e&&g(e):sessionStorage.setItem("reservationsOrder",O)}),[O]),Object(r.useEffect)((()=>{d&&localStorage.setItem("selectedRows","")}),[d]);const D=Object(_.c)(Tu,{variables:{input:{limit:25,filterBy:m,orderBy:O,offset:1,checkInOnly:y.checkInOnly,checkOutOnly:y.checkOutOnly}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),k=D.data,E=D.fetchMore,R=D.loading,T=Object(_.a)(Tu,{variables:{input:{filterBy:m,orderBy:O,offset:1,limit:1e3,checkInOnly:y.checkInOnly,checkOutOnly:y.checkOutOnly}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),P=Object(w.a)(T,2),M=P[0],F=P[1].data,L=Object(Cs.a)(k,"orders.error");if(L)return Object(a.jsx)("div",{children:L});const q=Am(k),z=i?q.length+1:q.length;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(tu,{}),Object(a.jsx)("div",{className:"".concat(n,"__page-header"),children:Object(a.jsxs)("div",{className:"".concat(n,"__header-wrapper"),children:[Object(a.jsx)(ar,{label:"RESERVATIONS & ORDERS"}),Object(a.jsx)("div",{children:Object(a.jsx)(Sm,{to:ne.ADMIN.CREATE_ORDER,children:Object(a.jsx)(Nm,{label:"CREATE NEW"})})})]})}),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"".concat(n,"__main-wrapper"),children:Object(a.jsxs)(Ju,{children:[Object(a.jsx)(kp,{setCheckInOutFilter:A,orders:q,checkInOutFilter:y,filters:m,setFilters:j}),Object(a.jsx)(Zp,{onClose:I,orderID:C}),0!==q.length?Object(a.jsxs)("div",{className:"".concat(n,"__column-wrapper"),children:[Object(a.jsx)(ym,{count:k.orders.count,checkingInCount:k.orders.checkingInCount,checkingOutCount:k.orders.checkingOutCount,ordering:O,setOrdering:g,checkInOutFilter:y,setCheckInOutFilter:A,filters:m,getAllOrders:M,allOrders:F,loading:R}),Object(a.jsx)(ip,{orderID:C,isItemLoaded:e=>!i||e<q.length,itemCount:z,loadMoreItems:()=>{if(u(!1),i&&!(k.orders.orders.length%25))return E({variables:{input:{limit:25,filterBy:m,orderBy:O,offset:k.orders.orders.length/25+1,checkInOnly:y.checkInOnly,checkOutOnly:y.checkOutOnly}},notifyOnNetworkStatusChange:!0,updateQuery:(e,{fetchMoreResult:n})=>{if(!n)return c(!1),e;const t=Am(n);if(0===t.length)return c(!1),e;const a=Am(e);if(!t||a===t)return e;const r={orders:{error:n.orders.error,orders:[...a,...t],success:n.orders.success,__typename:"OrdersReturn"}};return t.length>0?r:e}})},items:q,openRow:S})]}):R?Object(a.jsx)("div",{className:"".concat(n,"__empty-list"),children:Object(a.jsx)(B,{})}):Object(a.jsx)("div",{className:"".concat(n,"__empty-list"),children:"No results found"})]})})})]})}))(gm||(gm=Object(k.a)(["\n  &__page-header {\n    text-align: left;\n    border-bottom: 1px solid rgb(200, 214, 229);\n    &&& {\n      margin: 0;\n    }\n  }\n\n  &__empty-list {\n    width: 100px;\n    &&& {\n      margin: 30px auto 0 auto;\n    }\n  }\n\n  &__header-wrapper {\n    margin: 85px 22px 20px !important;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  &__main-wrapper {\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n    &&& {\n      margin: 0;\n    }\n  }\n\n  &__column-wrapper {\n    width: calc(100% - 300px);\n    height: 100%;\n\n    &&& {\n      margin: 0;\n    }\n  }\n\n  &__list-helper {\n    flex: 1 1 auto;\n  }\n\n  &__list-container {\n    display: flex;\n  }\n"]))),Nm=Object(E.b)(Fu)(vm||(vm=Object(k.a)(["\n  &&& {\n    margin-left: 20px;\n\n    svg {\n      position: relative;\n    }\n  }\n"]))),Sm=Object(E.b)(b.b)(fm||(fm=Object(k.a)(["\n  text-decoration: none;\n"])));var Im,Cm=Object(se.a)(A,D)(wm);var Dm,km=Object(E.b)((e=>{const n=e.className;return Object(a.jsxs)("section",{className:n,children:[Object(a.jsx)(tu,{}),Object(a.jsx)(Cm,Object(j.a)({},e))]})}))(Im||(Im=Object(k.a)(["\n  margin: 85px 0 50px;\n  min-width: 1130px;\n\n  &__Page-Title {\n    ","\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  &__Header {\n    &&& {\n      text-align: left;\n      margin: 0 20px 0 0;\n    }\n  }\n\n  &__Table-On {\n    &&& {\n      width: 100%;\n      border: 1px solid ",";\n      border-radius: 0;\n      background-color: ",";\n      color: ",";\n    }\n  }\n\n  &__Table-Off {\n    &&& {\n      width: 100%;\n      border: 1px solid ",";\n      border-radius: 0;\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])),Ke,P.secondary,P.secondary,P.white,P.secondary,P.white,P.secondary),_m=t(598),Em=t(1230),Rm=t(1231);var Tm,Pm,Mm,Bm,Fm,Lm=Object(E.b)(Yn)(Dm||(Dm=Object(k.a)(["\n  &&& {\n    flex: 0.5;\n    width: 100%;\n    height: 36px;\n    background-color: transparent;\n    box-shadow: none;\n    border: solid 1px ",";\n    color: ",";\n    margin: 0px 10px;\n    line-height: 1;\n  }\n"])),P.text.primary,P.text.primary);const qm=e=>{const n=Object(r.useState)(!1),t=Object(w.a)(n,2),s=t[0],i=t[1],c=Object(r.useState)(!1),o=Object(w.a)(c,2),l=o[0],d=o[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(zm,{children:[Object(a.jsxs)(Ym,{children:[e.numberSelected," SELECTED"]}),"admin"===e.view?Object(a.jsxs)(zm,{className:"btns-container",children:[Object(a.jsx)(Um,{onClick:()=>i(!s),children:"SEND STALL ASSIGNMENTS"}),Object(a.jsx)(Wm,{onClick:()=>d(!l),children:"SEND CUSTOM MESSAGE"})]}):Object(a.jsxs)(zm,{className:"btns-container",children:[Object(a.jsx)(Vm,{children:"SET STATUS TO:"}),e.options.map((n=>Object(a.jsx)(Lm,{primary:!0,variant:"contained",size:"large",onClick:()=>e.onClick(n.value),children:n.value},n.value)))]})]})})},zm=E.b.div(Tm||(Tm=Object(k.a)(["\n  ","\n  flex: 1;\n  flex-direction: row;\n  justify-content: ",";\n  align-self: center;\n  align-items: center;\n  height: 80px;\n  background-color: ",";\n\n  &&& {\n    .btns-container {\n      padding-right: 14px;\n    }\n  }\n"])),Ke,(e=>e.isAdminView?"space-between":"flex-end"),P.border.primary),Ym=E.b.div(Pm||(Pm=Object(k.a)(["\n  ","\n  &&& {\n    color: ",";\n    margin: 0px 40px 0px 30px;\n    flex: 0.5;\n    overflow: hidden;\n    line-height: normal;\n    text-align: left;\n  }\n"])),Be,P.text.primary),Vm=E.b.div(Mm||(Mm=Object(k.a)(["\n  ","\n  &&& {\n    flex: 1.5;\n    color: ",";\n    margin: 0px 20px;\n    text-align: right;\n  }\n"])),Fe,P.text.primary),Um=Object(E.b)(Lm)(Bm||(Bm=Object(k.a)(["\n  &&& {\n    background-color: ",";\n    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16), 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n    color: ",";\n    font-size: 16px;\n    max-width: 255px;\n  }\n"])),P.button.secondary.active,P.white),Wm=Object(E.b)(Lm)(Fm||(Fm=Object(k.a)(["\n  &&& {\n    background-color: ",";\n    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16), 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n    color: ",";\n    font-size: 16px;\n    max-width: 230px;\n  }\n"])),P.button.secondary.active,P.white);var Qm,Gm=Object(r.memo)(qm),Hm=t(1223),Km=t(1224),Zm=t(1225),Xm=t(1252);const Jm=({onRequestSort:e,row:n,order:t,orderBy:r})=>{const s=r===n.id;return Object(a.jsx)(Yt.a,{title:"Sort",placement:n.numeric?"bottom-end":"bottom-start",enterDelay:300,children:Object(a.jsx)($m,{active:s,direction:s?t:"asc",onClick:()=>e(n.id),children:n.label})})},$m=Object(E.b)(Xm.a)(Qm||(Qm=Object(k.a)(["\n  &&& {\n    color: ",";\n    && svg {\n      opacity: 1;\n      width: 16px;\n      height: 16px;\n      color: ",";\n    }\n  }\n"])),(e=>e.active?P.text.darkBlue:P.text.primary),(e=>e.active?P.text.darkBlue:P.text.secondary));var ej,nj=Object(r.memo)(Jm);const tj=e=>Object(a.jsx)(Hm.a,{children:Object(a.jsx)(Km.a,{children:e.rows.map((n=>{let t;if(n.sortable)t=Object(a.jsx)(nj,{onRequestSort:e.onRequestSort,order:e.order,orderBy:e.orderBy,row:n});else if("checkable"===n.id){var r,s;let n=!1,i=!1;(null===(r=e.selectedRows.rows)||void 0===r?void 0:r.length)===(null===(s=e.allTableRows)||void 0===s?void 0:s.length)?i=!0:e.selectedRows.rows.length>0&&(n=!0),t=Object(a.jsx)(Qt.a,{color:"primary",checked:i,indeterminate:n,onChange:()=>e.onMasterCheckboxClick(),inputProps:{"aria-label":"secondary checkbox"}})}else t=n.label;return Object(a.jsx)(aj,{align:"checkable"===n.id?"center":"left",padding:n.disablePadding?"none":"default",sortDirection:!(!e.order||e.orderBy!==n.id)&&e.order,style:"checkable"===n.id?{width:"50px"}:{},children:t},n.id)}))})}),aj=Object(E.b)(Zm.a)(ej||(ej=Object(k.a)(["\n  &&& {\n    color: ",";\n    padding: 4px 30px 4px 20px;\n    ","\n  }\n"])),P.button.secondary.active,ze);var rj,sj=Object(r.memo)(tj),ij=t(1226),cj=t(1227),oj=t(1228),lj=t(1150);var dj,uj,pj,bj,mj,jj,hj=Object(E.b)((function({notesData:e,className:n}){const t=Object(r.useState)(null),s=Object(w.a)(t,2),i=s[0],c=s[1],o=e.notes,l=e.anchorEl,d=e.onClickHandler,u=Boolean(l),p=u?"simple-popover":void 0;return"null"!==o&&o?Object(a.jsxs)("div",{className:"".concat(n," NotesPopover"),children:[l&&Object(a.jsx)(lj.a,{id:p,className:"notes-tooltip",open:u,anchorEl:l,placement:"bottom-end",disablePortal:!0,modifiers:{flip:{enabled:!0},arrow:{enabled:!0,element:i}},children:Object(a.jsxs)("div",{className:"popper-container",children:[Object(a.jsx)("span",{className:"arrow",ref:e=>{c(e)}}),Object(a.jsxs)("div",{className:"popper-content",children:[Object(a.jsx)("p",{className:"notes-header",children:"Special Requests"}),Object(a.jsx)("p",{className:"notes-text",children:o})]})]})}),Object(a.jsx)(et.a,{onClick:d,children:Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAedJREFUWAntmM1Kw0AQx2fSHDzooVXUBLQfF6m+gGdBX8GDeJBWEXwfEVS86EHwLtTnqF6EVrQfeIiHglC1WWdS06ZpMdk221MWSjabmf3/8t9Nsl2EvyKEwHkzVwQhCgBiQwDMutfGOSLgOwCeWM3KnUw+cvBCOm/Y7c9rgtiSSQ4R20EN96x69TZErBOisTOKYFggIWxxkzIzu6GBeJgUOOPVl4LSu3Omn4+I96DpR1bt+a3fGr6WXE7T/Q0VFwqChk/jCTyQPgHMQD/DJy7Uv8On+Z+mcZ0Z1u+1dHq1EHOKHFJb+CkjhdBQyoF4zshAKQdi/2WgpgIkAzU1oLBQOgeqLP73Er25R8l1XwlG7meqDo0i8bQlQNinkQPR17ruEZGqChCLkQPRgBwiwlifHaZH/xh/NF+cJYnUrU0Q7NeP3KEJ2JzUGCjIwdih2KEgB4Kux3ModijIgaDr8RwKdIh2KVreoKSZW/Weq6z7tZiFl7Bl+m26wijs86X02nE+a7y6bSqOT5XGyvdX+8y3oC1jyswWhG1fqBCV7RM1regsxlJGpkTbMtuyHUQZT5scD1ajuuM8ZfoM7lNDKUoBmb5Ymxk4Z2C5ShtLB7w9Q+O6DgLmZDqVjkVokfgjIF7SP9srN/8XbxK3EwdBMfgAAAAASUVORK5CYII=",alt:"paper-icon",className:"paper-icon"})})]}):null}))(rj||(rj=Object(k.a)(["\n  &.NotesPopover {\n    z-index: 1;\n\n    .notes-tooltip {\n      top: 10px !important;\n      left: 30px !important;\n      z-index: 1;\n      border-radius: 5px;\n    }\n\n    .popper-container {\n      box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16), 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n      z-index: 1;\n      border-radius: 5px;\n      overflow: hidden;\n    }\n    .popper-content {\n      padding: 20px;\n      background-color: #ffffff;\n      width: 27rem;\n    }\n    .notes-header {\n      ","\n      margin: 0;\n    }\n    .notes-text {\n      overflow-wrap: break-word;\n    }\n    .arrow {\n      position: absolute;\n      padding: 1em;\n      box-sizing: border-box;\n    }\n    .arrow::after {\n      content: '';\n      position: absolute;\n      width: 0;\n      height: 0;\n      box-sizing: border-box;\n      border: 1em solid black;\n      border-color: transparent transparent #ffffff #ffffff;\n      transform-origin: 0 0;\n      transform: rotate(135deg);\n      box-shadow: -2px 2px 4px -2px rgba(0, 0, 0, 0.23);\n      top: 0;\n      left: 1px;\n    }\n\n    .paper-icon {\n      width: 18px;\n      height: 18px;\n      align-self: center;\n    }\n  }\n"])),qe);const xj=e=>{const n=e.onCheckboxClick,t=e.onDownloadClick,r=e.onEditClick,s=e.selectedRows,i=e.data,c=void 0===i?[]:i,o=e.rows,l=e.className,d=void 0===l?"":l,u=e=>{const n=c.find((({id:n})=>Number(n)===Number(e)))||{},t=n.payments;return(void 0===t?[]:t).some((e=>((e,n)=>!n.success&&!e.some((e=>e.amount===(null===n||void 0===n?void 0:n.amount)&&n.cardPayment!==e.cardPayment&&n.success!==e.success&&n.cardBrand!==e.cardBrand)))(n.payments,e)))};return Object(a.jsx)(a.Fragment,{children:o.map((e=>Object(a.jsx)(Oj,{children:Object.keys(e).map(((i,o)=>{if("editable"===i)return Object(a.jsx)(gj,{children:Object(a.jsxs)("div",{className:"".concat(d," flex-container"),children:[Object(a.jsx)(yj,{onClick:()=>r(e),disabled:e.status&&e.status.label&&"canceled"===e.status.label,children:Object(a.jsx)(ij.a,{})}),u(e.id)&&Object(a.jsx)(cj.a,{style:{color:P.error.primary}})]})},"".concat(e[i],"-").concat(i,"-").concat(e.id));if("download"===i)return Object(a.jsx)(gj,{children:Object(a.jsx)("div",{className:"".concat(d," flex-container"),children:Object(a.jsx)(Aj,{onClick:()=>t(e),children:Object(a.jsx)(oj.a,{})})})},"".concat(e[i],"-").concat(i,"-").concat(e.id));if("checkable"===i){const t=s.rows.some((n=>n.id==e.id));return Object(a.jsx)(vj,{children:Object(a.jsx)(Wl,{color:"primary",checked:t,onChange:()=>n(e),inputProps:{"aria-label":"secondary checkbox"}})},"".concat(e.id,"-").concat(i,"-").concat(o))}return void 0!==e[i]&&e[i].options?Object(a.jsx)(vj,{children:Object(a.jsx)(fj,Object(j.a)(Object(j.a)({},e[i]),{},{data:c}))},"".concat(e.id,"-").concat(i,"-").concat(e.value)):"notes"==i?Object(a.jsx)(vj,{children:Object(a.jsx)(hj,{notesData:e[i]})},"".concat(e[i],"-").concat(i,"-").concat(e.id)):"role"===i?Object(a.jsx)(vj,{children:e[i].name},"".concat(e[i],"-").concat(i,"-").concat(e.id)):"id"!==i?Object(a.jsx)(vj,{children:e[i]||"-"},"".concat(e[i],"-").concat(i,"-").concat(e.id)):void 0}))},e.id)))})},Oj=Object(E.b)(Km.a)(dj||(dj=Object(k.a)(["\n  &&& {\n    height: 48px;\n  }\n"]))),gj=Object(E.b)(Zm.a)(uj||(uj=Object(k.a)(["\n  &&& {\n    padding: 0;\n    text-align: center;\n    .flex-container {\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      width: 50px;\n    }\n  }\n"]))),vj=Object(E.b)(Zm.a)(pj||(pj=Object(k.a)(["\n  &&& {\n    ","\n    color: ",";\n    padding: 4px 15px 4px 20px;\n    cursor: ",";\n  }\n"])),Ye,P.text.primary,(({clickable:e})=>e?"pointer":"auto")),fj=Object(E.b)(tb)(bj||(bj=Object(k.a)(["\n  &&& {\n    width: 140px;\n  }\n"]))),yj=E.b.button(mj||(mj=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  cursor: pointer;\n  background: transparent;\n"]))),Aj=E.b.button(jj||(jj=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  cursor: pointer;\n  background: transparent;\n"])));var wj,Nj=Object(r.memo)(xj);var Sj,Ij=Object(E.b)((e=>Object(a.jsx)("p",{className:e.className,children:"NO RESULTS FOUND WITH CURRENT FILTERS"})))(wj||(wj=Object(k.a)(["\n  margin-top: 48px;\n  height: 300px;\n  ","\n"])),Fe),Cj=t(580),Dj=t.n(Cj);const kj=Object(E.b)((e=>{const n=e.className;return Object(a.jsx)("form",{className:e.className,children:e.filters.map((e=>"text"===e.type?Object(a.jsx)("div",{className:"".concat(n,"__field"),children:Object(a.jsx)(Gn,{id:e.label,label:e.label,value:e.value,onChange:n=>e.cb(n.target.value)},e.label)},"".concat(e.label,"__field")):"date"===e.type?e.plural?Object(r.createElement)(Ul,Object(j.a)(Object(j.a)({},e),{},{className:"".concat(n,"__DatePicker"),key:e.label,readOnly:!0})):Object(r.createElement)(Ml,Object(j.a)(Object(j.a)({showPast:!0},e),{},{key:e.label,readOnly:!0})):"select"===e.type?Object(a.jsx)("div",{className:"".concat(n,"__field"),children:Object(r.createElement)($p,Object(j.a)(Object(j.a)({},e),{},{key:e.label}))},"".concat(e.label,"__field")):void 0))})}))(Sj||(Sj=Object(k.a)(["\n  display: flex;\n  width: 100%;\n\n  &__field {\n    width: 200px;\n    margin: 0 0.5rem 0 0;\n    fieldset {\n      border: 1px solid ",";\n    }\n  }\n\n  &__DatePicker {\n    background: #ffffff;\n    border-radius: 4px;\n    border: 1px solid #c8d6e4;\n\n    .date-label-wrapper {\n      display: none;\n    }\n\n    .DateRangePickerInput_arrow {\n      position: static;\n      align-self: center;\n    }\n\n    .DateInput_input[aria-label='TO'] {\n      text-align: right;\n    }\n  }\n\n  &&& {\n    .SingleDatePickerInput__withBorder {\n      border: 1px solid ",";\n      border-radius: 4px;\n      margin: 0 0.5rem 0 0;\n    }\n    .DateInput_input {\n      background-color: transparent !important;\n      font-size: 0.9375rem;\n      padding: 7px 12px 5px;\n      ::placeholder {\n        font-size: 0.9375rem;\n      }\n    }\n  }\n"])),P.text.secondary,P.text.secondary);var _j,Ej=Object(r.memo)(kj),Rj=t(1229);class Tj extends s.a.PureComponent{constructor(...e){super(...e),this.getFilterValue=({value:e,options:n,label:t})=>{if(e.format)return e.format("MM/DD/YYYY");if(Array.isArray(e))return"".concat(e.join(" \u2014 "));if(n&&n.length){if("USER TYPE"===t){return n.find((n=>n.id===e)).name.toUpperCase()}return n.find((n=>n.label===e)).label.toUpperCase()}return e}}render(){const e=this.props,n=e.className,t=e.filters,r=e.onClearSingleFilter,s=t.reduce(((e,t)=>{if(t.value&&(t.value.length||t.value.format)){const s=()=>{t.cb(""),r(t.key)},i=this.getFilterValue(t),c=Object(a.jsx)(Tr.a,{className:n,"data-testid":"chip-".concat(t.label),label:i,onDelete:s,deleteIcon:Object(a.jsx)(Rj.a,{})},"".concat(n,"-").concat(t.label));e.push(c)}return e}),[]);return Object(a.jsx)(a.Fragment,{children:s})}}var Pj,Mj,Bj,Fj,Lj,qj,zj=Object(E.b)(Tj)(_j||(_j=Object(k.a)(["\n  &&& {\n    display: ",";\n    background-color: ",";\n    padding-right: 8px;\n    margin-left: 16px !important;\n    height: 24px;\n    * {\n      color: ",";\n    }\n    span {\n      padding-right: 0;\n    }\n    svg {\n      height: 18px;\n      padding: 2px 0 0 4px;\n    }\n  }\n"])),(e=>e.expanded?"none":"inline-flex"),P.text.darkBlue,P.white);class Yj extends r.PureComponent{constructor(...e){super(...e),this.state={expanded:!1},this.togglePanel=()=>this.setState((e=>({expanded:!e.expanded}))),this.applyFilters=()=>{this.props.onSubmit(),this.togglePanel()}}render(){const e=this.props,n=e.className,t=e.filters,r=e.onClearFilters,s=e.onClearSingleFilter,i=this.state.expanded;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Fi.a,{expanded:i,className:n,children:[Object(a.jsx)(Uj,{className:"".concat(n,"__PanelSummary"),children:Object(a.jsxs)("div",{className:"".concat(n,"__flex-wrapper--summary"),children:[Object(a.jsxs)(_n.a,{onClick:this.togglePanel,"data-testid":"filters-toggle",children:[Object(a.jsx)(Vj,{}),Object(a.jsx)(Wj,{className:"".concat(n,"__flex-wrapper--title"),children:i?"HIDE FILTERS":"SHOW FILTERS"})]}),Object(a.jsx)(zj,{expanded:i,filters:t,onClearSingleFilter:s})]})}),Object(a.jsxs)(qi.a,{className:"".concat(n,"__PanelDetails"),children:[Object(a.jsx)(Ej,{filters:t}),Object(a.jsxs)("div",{className:"".concat(n,"__flex-wrapper--buttons"),children:[Object(a.jsx)(Qj,{onClick:()=>r(),variant:"outlined",children:"Clear"}),Object(a.jsx)(Gj,{onClick:this.applyFilters,"data-testid":"filters-apply-btn",children:"Apply"})]})]})]}),Object(a.jsx)(iu.a,{})]})}}const Vj=Object(E.b)(Dj.a)(Pj||(Pj=Object(k.a)(["\n  &&& {\n    fill: ",";\n  }\n"])),P.text.darkBlue),Uj=Object(E.b)(Li.a)(Mj||(Mj=Object(k.a)(["\n  &&& {\n    margin: 0;\n    padding: 0 24px 0 22px;\n    * {\n      margin: 0;\n    }\n  }\n"]))),Wj=E.b.span(Bj||(Bj=Object(k.a)(["\n  padding-left: 8px;\n  color: ",";\n  ","\n"])),P.text.darkBlue,Fe),Qj=Object(E.b)(_n.a)(Fj||(Fj=Object(k.a)(["\n  &&& {\n    ","\n    width: 100px;\n    height: 36px;\n  }\n"])),Fe),Gj=Object(E.b)(_n.a)(Lj||(Lj=Object(k.a)(["\n  &&& {\n    ","\n    background-color: ",";\n    color: ",";\n    margin-left: 18px;\n    width: 100px;\n    height: 36px;\n  }\n"])),Fe,P.button.secondary.active,P.white);var Hj,Kj=Object(E.b)(Yj)(qj||(qj=Object(k.a)(["\n  &&& {\n    box-shadow: none;\n    &__filter-button--apply {\n      background-color: black;\n    }\n  }\n\n  &__flex-wrapper--summary {\n    ","\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n    position: absolute;\n    top: 6px;\n  }\n\n  &__flex-wrapper--buttons {\n    ","\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-top: 4px;\n  }\n  &__PanelDetails {\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 24px !important;\n  }\n"])),Ke,Ke),Zj=t(1245);const Xj=e=>{const n=e.onChangePage,t=e.onChangeRowsPerPage,r=e.page,s=e.rowsPerPage,i=e.count;return Object(a.jsx)(Jj,{rowsPerPageOptions:[10,25,100],component:"div",count:i,rowsPerPage:s,page:r,onChangePage:n,onChangeRowsPerPage:({target:e})=>t(e.value)})},Jj=Object(E.b)(Zj.a)(Hj||(Hj=Object(k.a)(["\n  &&& {\n    height: 67px;\n    display: flex;\n    justify-content: flex-end;\n    align-item: center;\n\n    p[class^='MuiTablePagination-caption'],\n    p[class*='MuiTablePagination-caption'] {\n      text-transform: uppercase;\n    }\n\n    svg[class^='MuiTablePagination-selectIcon'],\n    svg[class*='MuiTablePagination-selectIcon'] {\n      fill: ",";\n    }\n  }\n"])),P.primary);var $j,eh=Object(r.memo)(Xj);class nh extends r.Component{constructor(...e){super(...e),this.getRowMap=()=>this.props.rows.reduce(((e,n)=>(e[n.id]=!0,e)),{}),this.mapDataToRows=()=>this.props.data.reduce(((e,n)=>{const t=Object.keys(this.getRowMap()).reduce(((e,t)=>(e[t]=n[t],"editable"===t&&(e.editable="editable-".concat(n.id)),e)),{});return t.id=n.id,e.push(t),e}),[])}render(){const e=this.props,n=e.filters,t=e.onEditClick,r=e.className,s=e.onSubmit,i=e.onClearFilters,c=e.onCheckboxClick,o=e.onDownloadClick,l=e.selectedRows,d=e.data,u=e.view,p=e.count,b=e.page,m=e.rowsPerPage,h=e.onChangePage,x=e.onChangeRowsPerPage,O=e.onClearSingleFilter,g=e.allTableRows,v=Object(kn.a)(e,["filters","onEditClick","className","onSubmit","onClearFilters","onCheckboxClick","onDownloadClick","selectedRows","data","view","count","page","rowsPerPage","onChangePage","onChangeRowsPerPage","onClearSingleFilter","allTableRows"]);return Object(a.jsxs)(_m.a,{className:r,children:[l.rows.length>0&&Object(a.jsx)(Gm,{options:l.options,selectedRows:l.rows,numberSelected:l.rows.length,onClick:l.cb,view:u}),n&&Object(a.jsx)(Kj,{onClearFilters:i,onSubmit:s,filters:n,onClearSingleFilter:O}),Object(a.jsxs)(Em.a,{children:[Object(a.jsx)(sj,Object(j.a)({selectedRows:l,allTableRows:g},v)),Object(a.jsx)(Rm.a,{children:Object(a.jsx)(Nj,{rows:this.mapDataToRows(),onCheckboxClick:c,onDownloadClick:o,onEditClick:t,selectedRows:l,data:d})})]}),Object(a.jsx)(eh,{page:b,rowsPerPage:m,onChangePage:h,onChangeRowsPerPage:x,count:p}),!d.length&&Object(a.jsx)(Ij,{})]})}}nh.defaultProps={selectedRows:{rows:[]}};var th,ah=Object(E.b)(nh)($j||($j=Object(k.a)(["\n  width: 100%;\n"])));const rh=L()(th||(th=Object(k.a)(["\n  query FilteredVenueRenters($orderBy: [String], $filterBy: UserFilterInput, $limit: Int, $offset: Int) {\n    venue {\n      users(orderBy: $orderBy, filterBy: $filterBy, limit: $limit, offset: $offset) {\n        id\n        role {\n          id\n          name\n        }\n        email\n        firstName\n        lastName\n        phone\n      }\n    }\n    allVenueUsers: venue {\n      users(filterBy: $filterBy) {\n        id\n      }\n    }\n  }\n"])));var sh=e=>n=>Object(a.jsx)(e,Object(j.a)({updateFilterTextField:e=>n=>e(n),getVariables:e=>{const n=e.orderBy,t=e.filterBy,a=e.rowsPerPage,r=e.page,s={orderBy:n};return t&&t.hasOwnProperty("role")&&(t.roleId=t.role,delete t.role),t&&(s.filterBy=Object(j.a)({},t)),a&&(s.limit=a),r&&(s.offset=r*a),s},formatFilterDates:({startDate:e,endDate:n})=>[e,n].reduce(((e,n)=>{if(n){const t=Hr()(n).format("MM/DD/YYYY");e.push(t)}return e}),[]),updateDates:(e,n,t)=>a=>"single"===e?n(a||null):"single-end"===e?t(a||null):"range"===e&&(a.startDate||a.endDate)?(n(a.startDate),t(a.endDate)):(n(null),t&&t(null)),onSubmitFilter:(e,n,t,a)=>Object(O.a)(x.a.mark((function r(){var s,i;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=e.reduce(((e,t)=>(n[t]&&(("number"===typeof n[t]||"string"===typeof n[t]&&n[t].length)&&(e[t]=n[t]),n[t].format&&(e[t]=n[t].format("YYYY-MM-DD"))),e)),{}),i=Object.entries(s).length,a(0),r.abrupt("return",t(i&&s));case 4:case"end":return r.stop()}}),r)}))),onClearFilters:(e,n,t)=>(a=null)=>(e.map((e=>{n[e]&&("string"===typeof n[e][0]||"number"===typeof n[e][0]?n[e][1](""):n[e][1](null))})),t(a)),onClearSingleFilter:(e,n)=>t=>{const a=Object(j.a)({},e);if("dates"===t?(delete a.endDate,delete a.startDate):"role"===t?delete a.roleId:delete a[t],Object.entries(a).length)return n(a);n(null)},onRequestSort:(e,n)=>t=>{const a=e.sortName,r=e.sortOrder,s=n.setSortName,i=n.setSortOrder,c=n.setOrderBy,o=t===a&&"asc"===r?"desc":"asc",l=["status"===t?"statusId":t,o.toUpperCase()];return s(t),i(o),c(l)},updateSelect:e=>n=>e(n.target&&n.target.value),updateCheckedRows:(e,n)=>t=>{const a=[...e],r=e.findIndex((e=>e.id==t.id));return r>-1?a.splice(r,1):a.push(t),n(a)},onMasterCheckboxClick:(e,n,t)=>()=>{let a=[];return n.length<e.length&&(a=e),t(a)},handleTableChangePage:e=>(n,t)=>{e(t)},handleTableChangeRowsPerPage:(e,n)=>t=>{n(0),e(t)}},n));var ih,ch=Object(se.a)(sh)((e=>{const n=e.userRoles,t=e.onEditClick,s=e.updateFilterTextField,i=e.updateSelect,c=e.getVariables,o=e.onSubmitFilter,l=e.onClearFilters,d=e.onRequestSort,u=e.onClearSingleFilter,p=e.handleTableChangePage,b=e.handleTableChangeRowsPerPage,m=Object(r.useState)(""),h=Object(w.a)(m,2),x=h[0],O=h[1],g=Object(r.useState)(""),v=Object(w.a)(g,2),f=v[0],y=v[1],A=Object(r.useState)(""),N=Object(w.a)(A,2),S=N[0],I=N[1],C=Object(r.useState)("firstName"),D=Object(w.a)(C,2),k=D[0],E=D[1],R=Object(r.useState)("asc"),T=Object(w.a)(R,2),P=T[0],M=T[1],F=Object(r.useState)(["firstName","ASC"]),L=Object(w.a)(F,2),q=L[0],z=L[1],Y=Object(r.useState)(null),V=Object(w.a)(Y,2),U=V[0],W=V[1],Q=Object(r.useState)(10),G=Object(w.a)(Q,2),H=G[0],K=G[1],Z=Object(r.useState)(0),X=Object(w.a)(Z,2),J=X[0],$=X[1],ee=["firstName","lastName","role"],ne=c&&c({orderBy:q,filterBy:U,rowsPerPage:H,page:J}),te=Object(_.c)(rh,{variables:Object(j.a)({},ne),fetchPolicy:"network-only"}),ae=te.data,re=te.loading,se=te.error,ie=[{key:"firstName",label:"FIRST NAME",type:"text",value:x,cb:s&&s(O)},{key:"lastName",label:"LAST NAME",type:"text",value:f,cb:s&&s(y)},{key:"role",label:"USER TYPE",type:"select",value:S,options:n?Object.values(n)[0]:null,cb:i&&i(I),selectedOption:S}];return re?Object(a.jsx)(B,{}):se?(console.error(se),"uh oh..."):Object(a.jsx)(ah,{filters:ie,rows:[{id:"editable",numeric:!1,disablePadding:!1,label:""},{id:"firstName",numeric:!1,disablePadding:!1,label:"FIRST NAME",sortable:!0},{id:"lastName",numeric:!1,disablePadding:!1,label:"LAST NAME",sortable:!0},{id:"email",numeric:!1,disablePadding:!1,label:"EMAIL ADDRESS"},{id:"phone",numeric:!1,disablePadding:!1,label:"PHONE NUMBER"},{id:"role",numeric:!1,disablePadding:!1,label:"USER TYPE"}],data:(ce=ae.venue,ce.users.map((e=>({id:"".concat(e.id),role:e.role,firstName:"".concat(e.firstName),lastName:"".concat(e.lastName),email:"".concat(e.email),phone:us(e.phone)})))),onSubmit:o(ee,{firstName:x,lastName:f,role:S},W,$),onClearFilters:l(ee,{firstName:[x,O],lastName:[f,y],role:[S,I]},W),onEditClick:t,orderBy:k,order:P,onRequestSort:d({sortName:k,sortOrder:P},{setSortName:E,setSortOrder:M,setOrderBy:z}),onClearSingleFilter:u(U,W),count:ae.allVenueUsers.users.length,allTableRows:ae.allVenueUsers.users,page:J,rowsPerPage:H,onChangePage:p($),onChangeRowsPerPage:b(K,$)});var ce}));const oh=L()(ih||(ih=Object(k.a)(["\n  mutation UpsertUser($input: UserUpsertInput) {\n    upsertUser(input: $input) {\n      userId\n      error\n    }\n  }\n"]))),lh=Object(re.a)(oh,{props:({mutate:e})=>({upsertUser:n=>{e({variables:{input:n},refetchQueries:[{query:rh,variables:{orderBy:"firstName_ASC"}}]})}}),options:e=>({onCompleted:n=>{const t=e.user,a=n.upsertUser,r=void 0===a?{}:a,s=t.editable||!1;return r.error?(Cd(e.showSnackbar,s?"There was an error editing the user":"There was an error creating the user",n.upsertUser.error),n.upsertUser.error):(e.onClose(),e.showSnackbar(s?"User successfully updated":"User successfully created"),n.upsertUser)},onError:function(){var n=Object(O.a)(x.a.mark((function n(t){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cd(e.showSnackbar,"There was an error updating the user",t);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})});var dh,uh,ph,bh,mh,jh=Object(se.a)(D,lh);const hh=Object(E.b)((e=>{const n=e.className,t=e.upsertUser,r=e.adminUser,s=e.userRoles,i=e.user,c=e.open,o=e.heading,l=e.onClose,d={firstName:i.firstName||"",lastName:i.lastName||"",email:i.email||"",phone:i.phone?i.phone.replace(/[^\d]/g,""):"",role:i&&i.role?i.role.id:s?s.userRoles[0].id:null},u=Ca.e().shape({firstName:Ca.f().min(2,"Too Short!").max(50,"Too Long!").required("First name is required"),lastName:Ca.f().min(2,"Too Short!").max(50,"Too Long!").required("Last name is required"),email:Ca.f().email("Invalid email").required("Email is required"),role:Ca.f().required("Required"),phone:Ca.f().matches("^[0-9]+$","Enter a valid phone number").length(10,"Enter a valid phone number").required("Phone number is required")});return Object(a.jsx)(mb,{heading:o,open:c,children:Object(a.jsx)(Ia.c,{className:n,onSubmit:e=>(e=>{const n=i.id||"",a=e.email,s=e.firstName,c=e.lastName,o=e.phone,l=e.role,d=r.venues[0].id;t({id:n,email:a.toLowerCase(),firstName:s.toLowerCase(),lastName:c.toLowerCase(),phone:o,roleId:l,venueId:d})})(e),initialValues:d,validationSchema:u,children:e=>{return Object(a.jsxs)(Ia.b,{children:[Object(a.jsx)(xr,{label:"USER INFORMATION"}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{label:"FIRST NAME",type:"text",name:"firstName",variant:"filled",component:Zn})}),Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{label:"LAST NAME",type:"text",name:"lastName",variant:"filled",component:Zn})})]}),Object(a.jsx)(xr,{label:"CONTACT INFORMATION"}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{label:"EMAIL",type:"email",name:"email",variant:"filled",component:Zn})}),Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{name:"phone",children:({field:n,meta:t})=>Object(a.jsx)(Jn,Object(j.a)(Object(j.a)(Object(j.a)({},n),t),{},{error:t.touched&&t.error,helperText:t.touched&&!!t.error&&t.error,label:"PHONE NUMBER",autoComplete:"renterPhone",variant:"filled",onChange:n=>e.setFieldValue("phone",n.target.value.replace(/[^0-9]/g,""))}))})})]}),Object(a.jsx)(xr,{label:"USER TYPE"}),Object(a.jsx)(Ce.a,{container:!0,spacing:2,children:Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(xh,{name:"role",cb:n=>e.setFieldValue("role",n.target.value),onBlur:()=>e.setFieldTouched("role",!0),value:e.values.role,component:tb,options:s})})}),Object(a.jsxs)(gh,{children:[Object(a.jsx)(vh,{secondary:!0,variant:"contained",size:"large",onClick:l,children:"CANCEL"}),Object(a.jsx)(vh,{primary:!0,variant:"contained",size:"large",type:"submit",disabled:(n=e.errors,!!(n.firstName||n.lastName||n.email||n.phone)),children:"SAVE"})]})]});var n}})})}))(dh||(dh=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: space-around;\n"]))),xh=Object(E.b)(Ia.a)(uh||(uh=Object(k.a)(["\n  &&& {\n    width: 250px;\n    .MuiFormLabel-root {\n      z-index: 1;\n      font-size: 1rem;\n      letter-spacing: normal;\n      transform: translate(12px, 20px) scale(1);\n      &.MuiInputLabel-shrink {\n        transform: translate(12px, 10px) scale(0.75);\n      }\n    }\n    .MuiInputBase-root {\n      margin-top: 0;\n      background-color: ",";\n      border-bottom: 1px solid ","\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n      transition: background-color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms\n      .MuiSelect-root {\n        height: 1.1875em;\n        padding: 27px 12px 10px;\n        font-size: 16px;\n        letter-spacing: normal;\n      }\n      &:hover {\n        background-color: ",";\n        border-bottom: 1px solid ","\n      }\n    }\n  }\n"])),P.background.primary,P.border.primary,P.background.secondary,P.border.primary_hover),Oh=E.b.div(ph||(ph=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  &:first-child {\n    margin: 0 0 30px 0;\n  }\n  &__field {\n    width: 250px;\n  }\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: flex-start;\n    &:first-child {\n      margin: 0 0 30px 0;\n    }\n  }\n"])),Ke,Ke),gh=Object(E.b)(Oh)(bh||(bh=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-end;\n  margin: 42px 0 0;\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    margin: 20px 0 0;\n  }\n"])),Ke,Ke),vh=Object(E.b)(Yn)(mh||(mh=Object(k.a)(["\n  &&& {\n    line-height: 0;\n    width: 100px;\n    margin-left: ","px;\n  }\n"])),(e=>e.primary?20:0));var fh,yh,Ah=jh(hh);const wh=Object(E.b)((e=>{const n=e.className,t=e.user,s=e.userRoles,i=Object(r.useState)(!1),c=Object(w.a)(i,2),o=c[0],l=c[1],d=Object(r.useState)(!1),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(r.useState)({}),j=Object(w.a)(m,2),h=j[0],x=j[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(tu,{}),Object(a.jsx)(Ah,{adminUser:t,heading:"ADD USER",onClose:()=>l(!1),open:o,user:{},userRoles:s}),Object(a.jsx)(Ah,{adminUser:t,heading:"EDIT USER",onClose:()=>{x({}),b(!1)},open:p,user:h,userRoles:s}),Object(a.jsxs)("section",{className:n,children:[Object(a.jsxs)(Nh,{children:[Object(a.jsx)(ar,{label:"USERS"}),Object(a.jsx)(Fu,{onClick:()=>l(!0),label:"ADD USER"})]}),Object(a.jsx)(ch,{onEditClick:e=>{x(e),b(!0)},userRoles:s})]})]})}))(fh||(fh=Object(k.a)(["\n  margin: 85px 50px 50px;\n  max-width: 1800px;\n  min-width: 1130px;\n  &__Header {\n    ","\n    text-align: left;\n    margin: 0;\n  }\n"])),Re),Nh=E.b.div(yh||(yh=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"])),Ke);var Sh=Object(r.memo)(Object(se.a)(A,(function(e){return function(n){return Object(a.jsx)(U,{children:t=>Object(a.jsx)(e,Object(j.a)(Object(j.a)({},n),t))})}}))(wh)),Ih=t.p+"static/media/EventReport.f71ad296.png",Ch=t.p+"static/media/Reconciliation.12049554.png",Dh=t.p+"static/media/StallReport.a179a826.png",kh=t.p+"static/media/RVReport.1777d4c9.png",_h=t.p+"static/media/AccountingReport.0421d9cc.png";const Eh="reconciliation",Rh="accounting",Th="event",Ph="transaction",Mh="stall",Bh="rv";var Fh;const Lh=L()(Fh||(Fh=Object(k.a)(["\n  query UsersForTransactionReportSelection($filterBy: UserFilterInput) {\n    venue {\n      users(filterBy: $filterBy) {\n        id\n        email\n        fullName\n      }\n    }\n  }\n"])));var qh,zh;const Yh=L()(qh||(qh=Object(k.a)(["\n  query FuzzySearchVenueEvents($name: String!) {\n    searchEventsWithOrderCheck(name: $name, limit: 200) {\n      name\n      startDate\n      endDate\n      id\n      hasStallRes\n      hasRVRes\n    }\n  }\n"]))),Vh=L()(zh||(zh=Object(k.a)(["\n  query VenueEvents($id: ID, $limit: Int, $orderBy: [String]) {\n    venue(id: $id) {\n      events(orderBy: $orderBy, limit: $limit) {\n        id\n        name\n        startDate\n        endDate\n        hasStallRes\n        hasRVRes\n        hasOrder\n        createdAt\n        orders {\n          createdAt\n        }\n      }\n    }\n  }\n"])));t(1127),t(1128);var Uh=({startDateId:e="start",endDateId:n="end",startTitle:t,endTitle:s,minimumNights:i=1,defaultStartDate:c=null,defaultEndDate:o=null,startLabel:l="Start Date",endLabel:d="End Date",minDate:u,maxDate:p,showBackDateWarning:b=!0,allowBackDate:m=!1,disabled:j=!1,dateChangeCallback:h=(()=>null),initialVisibleMonth:x})=>{const O=Object(r.useState)(null),g=Object(w.a)(O,2),v=g[0],f=g[1],y=Object(r.useState)({startDate:c,endDate:o}),A=Object(w.a)(y,2),N=A[0],S=A[1],I=Object(r.useState)(!1),C=Object(w.a)(I,2),D=C[0],k=C[1],_=Object(r.useMemo)((()=>Hr()(u).startOf("days").subtract(1,"days")),[u]),E=Object(r.useMemo)((()=>Hr()(p).startOf("days").add(1,"days")),[p]),R=Hr()().startOf("days");Object(r.useEffect)((()=>{var e,n;const t=(null===(e=N.startDate)||void 0===e?void 0:e.isSame(_))||(null===(n=N.startDate)||void 0===n?void 0:n.isBefore(R));o||(N.startDate&&t&&b&&k(!0),N.startDate&&S({startDate:N.startDate,endDate:null}))}),[N.startDate]),Object(r.useEffect)((()=>{S({startDate:c,endDate:o})}),[c,o]);const T=Object(Mt.a)("(max-width: 769px)");return Object(a.jsxs)("div",{className:"os-calendar-wrapper","data-testid":"date-range-picker",children:[Object(a.jsx)(ro,{isOpen:D,handleClose:function(){k(!1)},onCancel:function(){k(!1);const e={startDate:null,endDate:null};h(e),S(e),f("startDate")},onContinue:function(){k(!1),f("endDate")},header:"Previous Date Selected",text:"You selected a date that is in the past, do you want to continue with this selection?",continueLabel:"CONTINUE"}),Object(a.jsxs)("div",{className:"date-label-wrapper",children:[N.startDate?Object(a.jsx)("label",{className:"date-label-start",children:t||"CHECK IN"}):null,N.endDate?Object(a.jsx)("label",{className:"date-label-end",children:s||"CHECK OUT"}):null]}),Object(a.jsx)(Rl.DateRangePicker,{minimumNights:i,startDatePlaceholderText:l,startDate:N.startDate,endDatePlaceholderText:d,endDate:N.endDate,startDateId:e,endDateId:n,disabled:j,isOutsideRange:e=>function(e,n){return"startDate"!==v||N.startDate?"startDate"===v&&N.startDate&&N.endDate?(n?e.isBefore(_):e.isBefore(u))||e.isSameOrAfter(p):(n?e.isBefore(_):e.isBefore(u))||e.isSameOrAfter(E):(n?e.isBefore(_):e.isBefore(u))||e.isSameOrAfter(p)}(e,m),enableOutsideDays:!1,focusedInput:v,onFocusChange:function(e){f(e)},onDatesChange:function(e){S(e),h(e)},numberOfMonths:T?1:2,orientation:Bl,displayFormat:"MM/DD/YY",initialVisibleMonth:x?()=>Hr()(x):void 0,readOnly:!0})]})};t(1129);var Wh=({options:e,searchText:n,setSearchText:t,onChange:s,placeholder:i,handleSelect:c,loading:o,emptyLabel:l,isMenuOpen:d,setIsMenuOpen:u,prodType:p})=>{var b;const m=Object(r.useRef)(),h=Object(r.useState)(!1),x=Object(w.a)(h,2),O=x[0],g=x[1];if(oi.isMobile){const e=document.querySelector("meta[name=viewport]");null===e||void 0===e||e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0")}const v=oi.isMobile?33:88,f=n=>{var a;n.stopPropagation();const r=null===(a=n.target.nextSibling)||void 0===a?void 0:a.value;e.length&&O&&r&&(t(r),m.current.setState(Object(j.a)(Object(j.a)({},m.current.state),{},{text:r}))),g(!0)},y=()=>e.length?Object(a.jsx)("div",{className:"results-menu",id:"form-select-dropdown",children:o?Object(a.jsx)("div",{style:{alignSelf:"center"},children:Object(a.jsx)(B,{})}):e.map(((e,n)=>Object(a.jsxs)("div",{className:"results-item",onMouseDown:()=>{"stall"===p&&e.hasStallRes||"rv"===p&&e.hasRVRes||!p&&(e.hasStallRes||e.hasRVRes)?(m.current.clear(),c(e.id),u(!1)):g(!1)},option:e,position:n,children:[Object(a.jsx)(Qt.a,{type:"checkbox",checked:!1}),Object(a.jsx)("div",{className:"event-name",children:"stall"===p&&!e.hasStallRes||"rv"===p&&!e.hasRVRes||!p&&!e.hasStallRes&&!e.hasRVRes?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("i",{children:e.label}),Object(a.jsx)("span",{children:"NO RECORDS FOUND FOR THIS EVENT"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:e.label}),Object(a.jsx)("span",{children:"".concat(Hr()(e.startDate).format("MMM D, YYYY")," - ").concat(Hr()(e.endDate).format("MMM D, YYYY"))})]})})]},e.id)))}):Object(a.jsx)("div",{className:"results-menu",id:"form-select-dropdown",children:Object(a.jsx)("div",{className:"results-item",children:l})});return Object(a.jsx)("div",{className:"search-box",onClick:f,onTouchStart:f,children:Object(a.jsxs)(ai.a,{onFocus:()=>{u(!0)},onBlur:()=>g(!1),ref:m,placeholder:i,minLength:0,isLoading:!1,id:"select-form-typeahead",emptyLabel:l,onSearch:e=>s(e),className:"search-orders-field".concat((null===n||void 0===n?void 0:n.length)>=v?" trim":""),onInputChange:e=>{!o&&e||t(e)},onChange:e=>{e&&e[0]&&t(e[0].label),m.current.setState(Object(j.a)(Object(j.a)({},m.current.state),{},{showMenu:!0}))},options:e,children:[(O||(null===(b=m.current)||void 0===b?void 0:b.state.text))&&Object(a.jsx)("span",{className:"info-text",children:"SEARCH EVENTS"}),Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABpSURBVHgBbY7BCYAwDEVjukBHq9CLJ+kaglBRnEPvBTtSR8hZlNiCSqHNJY//yc9vpFsOAFBQm4Y3BHGZiFSYzAHOe0JqbTTZlNfCUmcDJiY9+rh8Hk162BPiL36v3uhqJ+lmJd3a59oDQgwkw0c0jqwAAAAASUVORK5CYII=",alt:"dropdown"}),d&&Object(a.jsx)(y,{})]})})},Qh=t(324),Gh=t.n(Qh);t(534);var Hh=({isOpen:e,handleClose:n,onCancel:t,header:s,reportType:i})=>{var c;const o=Object(r.useContext)(N).showSnackbar,l=Object(r.useContext)(g).user,d=Object(r.useState)(1),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(r.useState)(1),h=Object(w.a)(m,2),v=h[0],f=h[1],y=Object(r.useState)([]),A=Object(w.a)(y,2),S=A[0],I=A[1],C=Object(r.useState)({}),D=Object(w.a)(C,2),k=D[0],E=D[1],R=Object(r.useState)(null),T=Object(w.a)(R,2),P=T[0],M=T[1],F=Object(r.useState)(null),L=Object(w.a)(F,2),q=L[0],z=L[1],Y=Object(r.useState)(""),V=Object(w.a)(Y,2),U=V[0],W=V[1],Q=Object(r.useState)(!1),G=Object(w.a)(Q,2),H=G[0],K=G[1],Z=Object(r.useState)(!1),X=Object(w.a)(Z,2),J=X[0],$=X[1],ee=Object(r.useState)(!1),ne=Object(w.a)(ee,2),te=ne[0],ae=ne[1],re=i===Eh,se=i===Ph,ie=(null===l||void 0===l?void 0:l.venues)&&l.venues[0].id,ce=Object(_.c)(Lh,{variables:{filterBy:{roleId:[1,4]}}}),oe=ce.data,le=ce.loading,ue=Object(_.c)(Vh,{variables:{id:ie,limit:3,orderBy:["createdAt","DESC"]}}),pe=ue.data,be=ue.loading,me=Object(_.c)(Vh,{variables:{id:ie,limit:1,orderBy:["createdAt","ASC"]}}).data,je=Object(_.a)(Yh,{variables:{name:null===U||void 0===U?void 0:U.slice(0,12)}}),he=Object(w.a)(je,2),xe=he[0],Oe=he[1],ge=Oe.data,ve=Oe.loading;Object(r.useEffect)((()=>{(null===U||void 0===U?void 0:U.length)>2&&xe()}),[U]),Object(r.useEffect)((()=>{const e={};S.forEach((n=>{e[n.id]=!0})),E(e)}),[S]);const fe=1===p,ye=()=>{I([]),M(null),W(""),f(1),b(1),K(!1),n()};if(le||be)return Object(a.jsx)(B,{className:"admins-loading"});const Ae={cb:e=>{I([]),M(null),W(""),K(!1),b(e.target.value)},options:[{label:"By event",value:1,dataTestid:"report-by-event"},{label:"By date",value:2,dataTestid:"report-by-date"}],selectedOption:p,label:"TIME FRAME",type:"select"},we=null===oe||void 0===oe?void 0:oe.venue.users.map((e=>({label:e.fullName,value:e.id}))),Ne=we.find((e=>Number(e.value)==v)),Se={cb:e=>{K(!1),f(e.target.value)},options:[{label:"All admins",value:1},...we||[]],selectedOption:v,label:"ADMIN",type:"select"},Ie=(null===U||void 0===U?void 0:U.length)>2&&ge?ge.searchEventsWithOrderCheck:(null===pe||void 0===pe?void 0:pe.venue.events)||[],Ce=Ie.find((e=>e.name.toLowerCase()===(null===U||void 0===U?void 0:U.toLowerCase()))),ke=Ce?[Ce]:Ie,_e=ke.reduce(((e,n)=>(k[n.id]||e.push({id:n.id,label:n.name,startDate:n.startDate,endDate:n.endDate,hasStallRes:n.hasStallRes,hasRVRes:n.hasRVRes}),e)),[]),Ee=(null===me||void 0===me||null===(c=me.venue.events[0])||void 0===c?void 0:c.createdAt)||Hr()().subtract(1,"months"),Re=Hr()(P).add(1,"years").isBefore(Hr()())?Hr()(P).add(1,"years"):Hr()().endOf("day");return Object(a.jsx)(no.a,{open:e,onClick:()=>{te&&ae(!1)},onClose:()=>{te?ae(!1):ye()},disableAutoFocus:!0,disableRestoreFocus:!0,children:Object(a.jsxs)(De.a,{className:"report-modal","data-testid":"report",children:[Object(a.jsx)(br,{label:s}),Object(a.jsxs)("p",{children:["Select the time frame","".concat(re?" and admin":"")," for your report"]}),Object(a.jsx)(ab,Object(j.a)({id:"time-frame-select",className:"recon-select"},Ae)),re&&Object(a.jsx)(ab,Object(j.a)({id:"admin-select",className:"recon-select"},Se)),Object(a.jsxs)("p",{children:["Report will show all ",1===v?"admin":"".concat(null===Ne||void 0===Ne?void 0:Ne.label,"'s")," transactions for the selected"," ",fe?"event(s)":"date range"]}),H&&Object(a.jsx)("div",{className:"error-banner",children:fe?i===Rh?"No records found within the selected event".concat(S.length>1?"s":""):"No records found for ".concat(null===Ne||void 0===Ne?void 0:Ne.label," within the selected event").concat(S.length>1?"s":""):"No records found for this date range"}),fe?Object(a.jsx)(Wh,{isMenuOpen:te,setIsMenuOpen:ae,emptyLabel:ve?Object(a.jsx)(B,{className:"admins-loading"}):(null===U||void 0===U?void 0:U.length)>2?Object(a.jsxs)("p",{children:["No results for ",Object(a.jsxs)("b",{children:['"',U,'"']})]}):Object(a.jsx)("p",{children:"No more events found"}),loading:ve,searchText:U,setSearchText:W,options:_e,onChange:e=>W(e),placeholder:"SEARCH EVENTS",handleSelect:e=>{const n=ke.find((n=>n.id===e)),t=[...S];n&&t.push(n),I(t),W(""),K(!1)},prodType:""}):Object(a.jsx)("div",{className:"date-wrapper",children:Object(a.jsx)("div",{className:"date-input--wrapper",children:Object(a.jsx)(Uh,{minimumNights:0,showBackDateWarning:!1,minDate:Ee,maxDate:Re,startTitle:"START",endTitle:"END",startLabel:"start",endLabel:"end",dateChangeCallback:e=>{K(!1),M(e.startDate),z(e.endDate)}})})}),!!S.length&&fe&&Object(a.jsx)("div",{className:"selected-events-container",children:S.map((e=>Object(a.jsxs)("div",{className:"selected-event",children:[Object(a.jsx)(Qt.a,{checked:!0,onClick:()=>(e=>{const n=S.filter((n=>n.id!==e));I(n)})(e.id)}),Object(a.jsxs)("div",{className:"event-name",children:[Object(a.jsx)("span",{children:e.name}),Object(a.jsx)("span",{children:"".concat(Hr()(e.startDate).format("MMM D, YYYY")," - ").concat(Hr()(e.endDate).format("MMM D, YYYY"))})]})]},e.id)))}),S.length>3&&Object(a.jsx)("div",{className:"gradient-div"}),Object(a.jsx)("div",{className:"buttons-wrapper",children:Object(a.jsxs)("span",{children:[Object(a.jsx)(_n.a,{variant:"contained","data-testid":"report-cancel",onClick:()=>{ye(),t()},children:"GO BACK"}),Object(a.jsx)(_n.a,{variant:"contained","data-testid":"report-continue",disabled:fe&&!S.length||J||H||!fe&&(!P||!q),onClick:()=>{const e={reportType:i,venueId:ie,userId:l.id,eventIds:fe?S.map((e=>e.id)):[],start:fe?null:P,end:fe?null:q};(re||se)&&(e.adminIds=1===v?[]:[v]);const n=de.a.getToken(),t=JSON.parse(JSON.stringify(e));$(!0),o("Generating report.  Download will begin shortly.",{duration:3e4,error:!1}),fetch("".concat("http://localhost:5000","/admin/reports"),{method:"POST",headers:{"Content-Type":"application/json",auth:n?"Bearer ".concat(n):"",token:"Hkuc#2T!RhRN0ZyO@F3pp5f8A"},mode:"cors",body:JSON.stringify(t)}).then(function(){var e=Object(O.a)(x.a.mark((function e(n){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(204!==n.status){e.next=5;break}throw K(!0),new Error("No records found");case 5:if(202!==n.status){e.next=12;break}return e.next=8,n.text();case 8:return t=e.sent,e.abrupt("return",t);case 12:return e.abrupt("return",n.blob());case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).then((e=>{"string"===typeof e&&e.includes("too large")?o(e,{duration:3200,error:!1,info:!0}):Gh()(e,"".concat(i,"_report.xlsx"))})).then((()=>ye())).catch((e=>{$(!1),console.error(e),o(e.message||"Unable to process report",{duration:5e3,error:!0})}))},children:"EXPORT"})]})})]})})};var Kh=({isOpen:e,handleClose:n,onCancel:t,header:s,stallReport:i,rvReport:c})=>{const o=Object(r.useContext)(N).showSnackbar,l=Object(r.useContext)(g).user,d=Object(r.useState)([]),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(r.useState)({}),j=Object(w.a)(m,2),h=j[0],v=j[1],f=Object(r.useState)(""),y=Object(w.a)(f,2),A=y[0],S=y[1],I=Object(r.useState)(!1),C=Object(w.a)(I,2),D=C[0],k=C[1],E=Object(r.useState)(!1),R=Object(w.a)(E,2),T=R[0],P=R[1],M=Object(r.useState)(!1),F=Object(w.a)(M,2),L=F[0],q=F[1],z=Object(_.c)(Vh,{variables:{id:(null===l||void 0===l?void 0:l.venues)&&l.venues[0].id,limit:3,orderBy:["createdAt","DESC"]}}),Y=z.data,V=z.loading,U=Object(_.a)(Yh,{variables:{name:null===A||void 0===A?void 0:A.slice(0,12)}}),W=Object(w.a)(U,2),Q=W[0],G=W[1],H=G.data,K=G.loading;Object(r.useEffect)((()=>{(null===A||void 0===A?void 0:A.length)>2&&Q()}),[A]),Object(r.useEffect)((()=>{const e={};p.forEach((n=>{e[n.id]=!0})),v(e)}),[p]);if(V)return Object(a.jsx)(B,{className:"admins-loading"});const Z=(null===A||void 0===A?void 0:A.length)>2&&H?H.searchEventsWithOrderCheck:(null===Y||void 0===Y?void 0:Y.venue.events)||[],X=Z.find((e=>e.name.toLowerCase()===(null===A||void 0===A?void 0:A.toLowerCase()))),J=X?[X]:Z,$=J.reduce(((e,n)=>(h[n.id]||e.push({id:n.id,label:n.name,startDate:n.startDate,endDate:n.endDate,hasStallRes:n.hasStallRes,hasRVRes:n.hasRVRes}),e)),[]);return Object(a.jsx)(no.a,{open:e,onClick:()=>{D&&k(!1)},onClose:()=>{D?k(!1):(b([]),v({}),S(""),n())},disableAutoFocus:!0,disableRestoreFocus:!0,children:Object(a.jsxs)(De.a,{className:"report-modal","data-testid":"report",children:[Object(a.jsx)(br,{label:s}),Object(a.jsxs)("p",{children:["Report will show all ",i?"assignments and add ons":c?"assignments":"transactions"," for the selected event(s)"]}),Object(a.jsx)(Wh,{isMenuOpen:D,setIsMenuOpen:k,emptyLabel:K?Object(a.jsx)(B,{className:"admins-loading"}):(null===A||void 0===A?void 0:A.length)>2?Object(a.jsxs)("p",{children:["No results for ",Object(a.jsxs)("b",{children:['"',A,'"']})]}):Object(a.jsx)("p",{children:"No more events found"}),loading:K,searchText:A,setSearchText:S,options:K?[]:$,onChange:e=>S(e),placeholder:"SEARCH EVENTS",handleSelect:e=>{if(p.length>4)P(!0);else{const n=J.find((n=>n.id===e)),t=[...p];n&&t.push(n),b(t)}S("")},prodType:"Stall & Add On Report"===s?"stall":"RV Report"===s?"rv":""}),T&&Object(a.jsx)("div",{className:"confirmation-banner",children:Object(a.jsxs)("div",{className:"confirmation-content-container",children:[Object(a.jsx)(yo.a,{style:{marginRight:5}}),Object(a.jsx)("span",{children:"Export cannot exceed five events"})]})}),!!p.length&&Object(a.jsx)("div",{className:"selected-events-container",children:p.map((e=>Object(a.jsxs)("div",{className:"selected-event",children:[Object(a.jsx)(Qt.a,{checked:!0,onClick:()=>(e=>{const n=p.filter((n=>n.id!==e));b(n),T&&P(!1)})(e.id)}),Object(a.jsxs)("div",{className:"event-name",children:[Object(a.jsx)("span",{children:e.name}),Object(a.jsx)("span",{children:"".concat(Hr()(e.startDate).format("MMM D, YYYY")," - ").concat(Hr()(e.endDate).format("MMM D, YYYY"))})]})]},e.id)))}),p.length>3&&Object(a.jsx)("div",{className:"gradient-div"}),Object(a.jsx)("div",{className:"buttons-wrapper",children:Object(a.jsxs)("span",{children:[Object(a.jsx)(_n.a,{variant:"contained","data-testid":"report-cancel",onClick:()=>{b([]),S(""),t()},children:"GO BACK"}),Object(a.jsx)(_n.a,{variant:"contained","data-testid":"report-continue",disabled:!p.length||L,onClick:()=>{const e={reportType:i?"stalls-report":c?"rv-report":"events-report",userId:l.id,eventIds:p.map((e=>e.id))},t=de.a.getToken(),a=JSON.parse(JSON.stringify(e));q(!0),o("Generating report.  Download will begin shortly.",{duration:3e4,error:!1}),fetch("".concat("http://localhost:5000","/admin/reports"),{method:"POST",headers:{"Content-Type":"application/json",auth:t?"Bearer ".concat(t):"",token:"Hkuc#2T!RhRN0ZyO@F3pp5f8A"},mode:"cors",body:JSON.stringify(a)}).then(function(){var e=Object(O.a)(x.a.mark((function e(n){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(202!==n.status){e.next=7;break}return e.next=3,n.text();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.abrupt("return",n.blob());case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).then((n=>{"string"===typeof n&&n.includes("too large")?o(n,{duration:3200,error:!1,info:!0}):Gh()(n,"".concat(e.reportType,".xlsx"))})).then((()=>n())).catch((e=>{q(!1),console.error(e),o("Unable to process report",{duration:5e3,error:!0})}))},children:"EXPORT"})]})})]})})};var Zh=()=>{const e=Object(r.useState)(""),n=Object(w.a)(e,2),t=n[0],s=n[1],i=()=>{if(!t)return Object(a.jsx)(a.Fragment,{});switch(t){case Th:return Object(a.jsx)(Kh,{isOpen:!0,handleClose:c,onCancel:c,header:"Event Report"});case Mh:return Object(a.jsx)(Kh,{isOpen:!0,handleClose:c,onCancel:c,header:"Stall & Add On Report",stallReport:!0});case Bh:return Object(a.jsx)(Kh,{isOpen:!0,handleClose:c,onCancel:c,header:"RV Report",rvReport:!0});default:return Object(a.jsx)(Hh,{isOpen:!0,handleClose:c,onCancel:c,header:"".concat(eo(t)," Report"),reportType:t})}},c=()=>{s("")},o=[{name:"Accounting Report",img:_h,testid:"accounting-report",onClick:()=>s(Rh)},{name:"Event Report",img:Ih,testid:"event-report",onClick:()=>s(Th)},{name:"Reconciliation Report",img:Ch,testid:"reconciliation-report",onClick:()=>s(Eh)}],l=[{name:"Stall & Add On Report",img:Dh,testid:"stall-report",onClick:()=>s(Mh)},{name:"RV Report",img:kh,testid:"rv-report",onClick:()=>s(Bh)}];return Object(a.jsxs)("div",{className:"reports-list-container",children:[Object(a.jsx)(br,{label:"Financial Reports"}),Object(a.jsxs)("div",{className:"financial-reports",children:[o.map((e=>{const n=e.onClick,t=e.name,r=e.testid,s=e.img;return Object(a.jsxs)("div",{className:"reports",onClick:n,children:[Object(a.jsx)("img",{src:s,alt:t,width:"164px",height:"208px","data-testid":r}),Object(a.jsx)("p",{children:t}),Object(a.jsx)("span",{children:"Financial Reports"})]},e.name)})),Object(a.jsx)(i,{})]}),Object(a.jsx)(br,{label:"Operations Reports"}),Object(a.jsx)("div",{className:"operations-reports",children:l.map((e=>{const n=e.onClick,t=e.name,r=e.testid,s=e.img;return Object(a.jsxs)("div",{className:"reports",onClick:n,children:[Object(a.jsx)("img",{src:s,alt:t,width:"164px",height:"208px","data-testid":r}),Object(a.jsx)("p",{children:t}),Object(a.jsx)("span",{children:"Operations Reports"})]},e.name)}))})]})};t(1130);var Xh=()=>Object(a.jsxs)("div",{className:"admin-reports",children:[Object(a.jsx)(tu,{}),Object(a.jsx)("div",{className:"reports-header",children:Object(a.jsx)(ar,{label:"REPORTS"})}),Object(a.jsx)(Zh,{})]});var Jh,$h=({handleClick:e})=>Object(a.jsx)("div",{className:"groups-page-header",children:Object(a.jsxs)("div",{className:"groups-header-wrapper",children:[Object(a.jsx)(ar,{label:"GROUPS"}),Object(a.jsx)("div",{children:Object(a.jsx)(Fu,{className:"create-groups-button",label:"CREATE NEW",onClick:e})})]})});t(1131);const ex=L()(Jh||(Jh=Object(k.a)(["\n  query GetAdminGroups {\n    groups {\n      id\n      contactName\n      name\n    }\n  }\n"])));var nx;var tx,ax=L()(nx||(nx=Object(k.a)(["\n  mutation CreateGroup($input: GroupUpsertInput!) {\n    createGroup(input: $input) {\n      group {\n        id\n      }\n    }\n  }\n"])));var rx=L()(tx||(tx=Object(k.a)(["\n  mutation UpdateGroup($input: UpdateGroupInput!) {\n    updateGroup(input: $input) {\n      group {\n        id\n      }\n    }\n  }\n"])));var sx=[{label:"AK",value:"AK"},{label:"AL",value:"AL"},{label:"AR",value:"AR"},{label:"AZ",value:"AZ"},{label:"CA",value:"CA"},{label:"CO",value:"CO"},{label:"CT",value:"CT"},{label:"DE",value:"DE"},{label:"FL",value:"FL"},{label:"GA",value:"GA"},{label:"HI",value:"HI"},{label:"IA",value:"IA"},{label:"ID",value:"ID"},{label:"IL",value:"IL"},{label:"IN",value:"IN"},{label:"KS",value:"KS"},{label:"KY",value:"KY"},{label:"LA",value:"LA"},{label:"MA",value:"MA"},{label:"MD",value:"MD"},{label:"ME",value:"ME"},{label:"MI",value:"MI"},{label:"MN",value:"MN"},{label:"MO",value:"MO"},{label:"MS",value:"MS"},{label:"MT",value:"MT"},{label:"NC",value:"NC"},{label:"ND",value:"ND"},{label:"NE",value:"NE"},{label:"NH",value:"NH"},{label:"NJ",value:"NJ"},{label:"NM",value:"NM"},{label:"NV",value:"NV"},{label:"NY",value:"NY"},{label:"OH",value:"OH"},{label:"OK",value:"OK"},{label:"OR",value:"OR"},{label:"PA",value:"PA"},{label:"RI",value:"RI"},{label:"SC",value:"SC"},{label:"SD",value:"SD"},{label:"TN",value:"TN"},{label:"TX",value:"TX"},{label:"UT",value:"UT"},{label:"VA",value:"VA"},{label:"VT",value:"VT"},{label:"WA",value:"WA"},{label:"WI",value:"WI"},{label:"WV",value:"WV"},{label:"WY",value:"WY"}];t(535);const ix=Object(zt.a)({switchBase:{color:P.white,"&$checked":{color:P.white},"&$checked + $track":{backgroundColor:P.button.primary.active}},checked:{},track:{}})(gc.a);var cx,ox=({isLoading:e,onClose:n})=>{const t=Object(Ia.f)(),s=t.values,i=t.setFieldValue,c=t.isSubmitting,o=t.errors,l=s.allowDeferred,d=Object(r.useState)(""),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(r.useState)(!1),h=Object(w.a)(m,2),x=h[0],O=h[1];return Object(a.jsxs)(Ia.b,{children:[Object(a.jsx)(Ce.a,{container:!0,spacing:0,children:Object(a.jsx)(Ce.a,{item:!0,xs:10,children:Object(a.jsxs)("div",{className:"toggle-container",children:[Object(a.jsx)(ix,{color:"primary",disabled:!1,onChange:()=>i("allowDeferred",!l),size:"medium",checked:l}),Object(a.jsxs)("div",{className:"toggle-text-container",children:[Object(a.jsx)("p",{children:"Allow Deferred Payment"}),Object(a.jsx)("p",{children:"Turning on will add the group to deferred payment options"})]})]})})}),Object(a.jsx)("div",{className:"section-header",children:Object(a.jsx)(xr,{label:"GROUP INFORMATION"})}),Object(a.jsx)(Ce.a,{container:!0,spacing:2,children:Object(a.jsx)(Ce.a,{item:!0,xs:12,children:Object(a.jsx)(Ia.a,{autoComplete:"none",label:"GROUP NAME",type:"text",name:"name",variant:"filled",component:Zn})})}),Object(a.jsx)("div",{className:"section-header",children:Object(a.jsx)(xr,{label:"CONTACT INFORMATION"})}),Object(a.jsx)(Ce.a,{container:!0,spacing:0,children:Object(a.jsx)(Ce.a,{item:!0,xs:12,children:Object(a.jsx)(Ia.a,{autoComplete:"none",label:"PRIMARY CONTACT NAME",type:"text",name:"contactName",variant:"filled",component:Zn})})}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{autoComplete:"none",label:"EMAIL ADDRESS",type:"email",name:"email",variant:"filled",component:Zn})}),Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{name:"phone",autoComplete:"none",children:({field:e,meta:n})=>Object(a.jsx)(Jn,Object(j.a)(Object(j.a)(Object(j.a)({},e),n),{},{autoComplete:"none",error:n.touched&&!!n.error,helperText:n.touched&&!!n.error&&n.error,touched:"".concat(n.touched),label:"PHONE NUMBER",variant:"filled",onChange:e=>i("phone",e.target.value.replace(/[^0-9]/g,""))}))})})]}),Object(a.jsx)(Ce.a,{container:!0,spacing:0,children:Object(a.jsx)(Ce.a,{item:!0,xs:12,children:Object(a.jsx)(Ia.a,{autoComplete:"none",label:"ADDRESS",type:"text",name:"street",variant:"filled",component:Zn})})}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{autoComplete:"none",label:"CITY",type:"text",name:"city",variant:"filled",component:Zn})}),Object(a.jsx)(Ce.a,{item:!0,xs:3,children:Object(a.jsx)(Ia.a,{name:"state",autoComplete:"none",children:({field:e,meta:n})=>{var t;return Object(a.jsx)(ab,Object(j.a)(Object(j.a)(Object(j.a)({},e),n),{},{onBlur:()=>O(!0),error:x&&!s.state?"State is required":"",selectedOption:p||(null===(t=s.state)||void 0===t?void 0:t.toUpperCase()),label:"STATE",cb:e=>{i("state",e.target.value),b(e.target.value)},className:"state-select ".concat(p?"filled":""),options:sx}))}})}),Object(a.jsx)(Ce.a,{item:!0,xs:3,children:Object(a.jsx)(Ia.a,{onChange:e=>{e.target.value.length<6&&i("zipCode",e.target.value.replace(/[^0-9,']/g,""))},autoComplete:"none",label:"ZIP",type:"text",name:"zipCode",variant:"filled",component:Zn})})]}),Object(a.jsxs)("div",{className:"flex-button-wrapper",children:[Object(a.jsx)(Yn,{className:"form-button",secondary:!0,variant:"contained",size:"small",onClick:n,"data-testid":"create-group-cancel",children:"CANCEL"}),Object(a.jsx)(Yn,{className:"form-button",primary:!0,onClick:()=>i("isSubmitting",!0),variant:"contained",size:"small",type:"submit",disabled:c||e||(()=>{if(Object.keys(o).length>0)return!0;for(const e in s)if(""===s[e])return!0;return!1})(),"data-testid":"create-group-save",children:"SAVE"})]})]})};const lx=L()(cx||(cx=Object(k.a)(["\n  query getGroupById($id: ID) {\n    group(id: $id) {\n      id\n      contactName\n      name\n      street\n      city\n      state\n      zipCode\n      phone\n      email\n      allowDeferred\n      orders {\n        orderId\n      }\n    }\n  }\n"]))),dx=e=>({allowDeferred:e.allowDeferred,name:e.name,contactName:e.contactName,email:e.email,phone:e.phone,street:e.street,city:e.city,state:e.state,zipCode:e.zipCode}),ux=Ca.e().shape({name:Ca.f().min(2,"Too Short!").max(50,"Too Long!").required("Group name is required"),contactName:Ca.f().min(2,"Too Short!").max(50,"Too Long!").required("Contact name is required"),email:Ca.f().email("Invalid email").required("Email is required"),street:Ca.f().required("Address is required"),city:Ca.f().required("City is required"),zipCode:Ca.f().min(5,"Zip code must be 5 digits").max(5,"Zip code must be 5 digits").required("Zip is required"),state:Ca.f().required("State is required"),phone:Ca.f().length(10,"Enter a valid phone number").required("Phone is required")});var px,bx=({isOpen:e,onClose:n,isEdit:t,group:s})=>{var i;const c=Object(_.b)(ax),o=Object(w.a)(c,2),l=o[0],d=o[1],u=d.data,p=d.loading,b=d.called,m=d.error,j=Object(_.b)(rx),h=Object(w.a)(j,2),g=h[0],v=h[1],f=v.data,y=v.loading,A=v.called,S=v.error,I=Object(r.useContext)(N).showSnackbar,C={allowDeferred:(null===s||void 0===s?void 0:s.allowDeferred)||!1,name:(null===s||void 0===s?void 0:s.name)||"",contactName:(null===s||void 0===s?void 0:s.contactName)||"",email:(null===s||void 0===s?void 0:s.email)||"",phone:(null===s||void 0===s||null===(i=s.phone)||void 0===i?void 0:i.replaceAll("-",""))||"",street:(null===s||void 0===s?void 0:s.street)||"",city:(null===s||void 0===s?void 0:s.city)||"",state:(null===s||void 0===s?void 0:s.state)||"",zipCode:(null===s||void 0===s?void 0:s.zipCode)||""};return Object(r.useEffect)((()=>{if(u||f)I("Group ".concat(t?"updated":"created"," successfully"),{error:!1,duration:5e3}),n();else if(m||S){var e;I((null===m||void 0===m||null===(e=m.message)||void 0===e?void 0:e.replace("GraphQL error: ",""))||"Unable to ".concat(t?"update":"create"," group"),{error:!0,duration:5e3})}}),[u,f,S,m]),Object(a.jsx)(mb,{className:"create-group-modal",heading:"".concat(t?"EDIT":"CREATE"," GROUP"),onClose:n,open:e,"data-testid":"create-group-modal",children:Object(a.jsx)(Ia.c,{initialValues:C,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,g({variables:{input:(a=n,r=null===s||void 0===s?void 0:s.id,{id:r||0,allowDeferred:a.allowDeferred,name:a.name,contactName:a.contactName,email:a.email,phone:a.phone,street:a.street,city:a.city,state:a.state,zipCode:a.zipCode})},refetchQueries:[{query:ex},{query:lx,variables:{id:null===s||void 0===s?void 0:s.id}}]});case 3:e.next=7;break;case 5:return e.next=7,l({variables:{input:dx(n)},refetchQueries:[{query:ex}]});case 7:case"end":return e.stop()}var a,r}),e)})));return function(n){return e.apply(this,arguments)}}(),validationSchema:ux,children:Object(a.jsx)(ox,{isLoading:p&&b||y&&A,onClose:n})})})};var mx,jx=L()(px||(px=Object(k.a)(["\n  mutation DeleteGroup($id: ID!) {\n    deleteGroup(id: $id)\n  }\n"])));const hx=L()(mx||(mx=Object(k.a)(["\n  query getEventsByGroupId($groupId: Int) {\n    groupEvents(groupId: $groupId) {\n      id\n      name\n      startDate\n      endDate\n    }\n  }\n"])));t(1132);var xx=({isOpen:e,handleClose:n,onCancel:t,name:s,continueLabel:i,groupId:c})=>{const o=Object(r.useContext)(N).showSnackbar,l=Object(r.useContext)(g).user,d=Object(_.c)(hx,{variables:{groupId:c},fetchPolicy:"network-only"}),u=d.data,p=d.loading,b=d.error,m=Object(r.useState)([]),j=Object(w.a)(m,2),h=j[0],v=j[1];if(p||b)return Object(a.jsx)("div",{style:{marginTop:"200px"},children:p?Object(a.jsx)(B,{className:"groups-loading"}):"Error retrieving group"});const f=function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.b)({path:"admin/download/group-bill",method:"POST",body:{groupId:c,eventIds:h,userId:l.id,reportType:"group-bill"},header:{responseType:"blob"},isDownload:!0,fileName:"Group_Bill_Reports.xlsx"});case 3:o("Report successfully downloaded and a copy will be emailed to your registered email address",{duration:5e3,error:!1}),v([]),n(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o("Unable to download report: ".concat(e.t0),{duration:5e3,error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(no.a,{open:e,onClose:()=>{n(),v([])},disableAutoFocus:!0,disableRestoreFocus:!0,children:Object(a.jsxs)(De.a,{className:"group-bill-modal-card","data-testid":"group-bill-modal",children:[Object(a.jsx)("h4",{children:"EXPORT ".concat(Yo()(s,18)," BILL")}),Object(a.jsx)("div",{className:"group-table",children:u.groupEvents.map((e=>Object(a.jsxs)("div",{className:"group-table-row",children:[Object(a.jsx)(Qt.a,{value:e.id,onChange:e=>{return n=Number(e.target.value),void(h.includes(n)?v(h.filter((e=>e!==n))):v([...h,n]));var n},color:"primary"}),Object(a.jsxs)("div",{className:"event-info",children:[Object(a.jsx)("p",{children:Yo()(e.name,40)}),Object(a.jsxs)("p",{children:[e.startDate," - ",e.endDate]})]})]},"group-bill-".concat(e.id))))}),Object(a.jsx)("div",{className:"buttons-wrapper",children:Object(a.jsxs)("span",{children:[Object(a.jsx)(_n.a,{variant:"contained","data-testid":"group-bill-modal-cancel",onClick:()=>{t(),v([])},children:"CANCEL"}),Object(a.jsx)(_n.a,{variant:"contained","data-testid":"group-bill-modal-continue",disabled:!h.length,onClick:f,children:i})]})})]})})};t(1133);var Ox=({onClose:e,id:n})=>{const t=Object(r.useContext)(N).showSnackbar,s=Object(r.useState)(!1),i=Object(w.a)(s,2),c=i[0],o=i[1],l=Object(r.useState)(!1),d=Object(w.a)(l,2),u=d[0],p=d[1],b=Object(r.useState)(!1),m=Object(w.a)(b,2),j=m[0],h=m[1],x=Object(_.c)(lx,{variables:{id:n},fetchPolicy:"network-only"}),O=x.data,g=x.loading,v=x.error,f=Object(_.b)(jx,{variables:{id:n},refetchQueries:[{query:ex}]}),y=Object(w.a)(f,2),A=y[0],S=y[1],I=S.data,C=S.loading,D=S.error;if(Object(r.useEffect)((()=>{I?(t("Group deleted successfully",{error:!1,duration:5e3}),e()):D&&t(D.message||"Unable to delete group",{error:!0,duration:5e3})}),[I,D]),g||v||C)return Object(a.jsx)("div",{style:{marginTop:"200px"},children:g||C?Object(a.jsx)(B,{className:"groups-loading"}):"Error retrieving group"});const k=O.group,E=k.name,R=k.phone,T=k.contactName,P=k.email,M=k.street,F=k.city,L=k.zipCode,q=k.state,z=k.orders,Y=k.allowDeferred;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"group-side-panel",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(jr,{label:E})," ",Object(a.jsx)(Rp,{onClose:e})]}),!z.length&&Object(a.jsx)(_n.a,{className:"delete-group-button",onClick:()=>p(!0),children:"Delete Group"}),Object(a.jsxs)("p",{className:"deferred-state",children:["DEFERRED PAYMENT IS TURNED ",Object(a.jsx)("b",{children:Y?"ON":"OFF"})]})]}),Object(a.jsxs)("div",{className:"group-side-divider",children:[Object(a.jsx)("h4",{className:"contact-name",children:"Group Contact"}),Object(a.jsx)("div",{className:"line"})]}),Object(a.jsxs)("div",{className:"contact-information",children:[Object(a.jsx)("h4",{children:T}),Object(a.jsx)("p",{children:us(R)}),Object(a.jsx)("p",{children:P})]}),Object(a.jsxs)("div",{className:"mailing-address",children:[Object(a.jsx)("p",{children:T}),Object(a.jsx)("p",{children:M}),Object(a.jsxs)("p",{children:[F,", ",null===q||void 0===q?void 0:q.toUpperCase()," ",L]})]}),Object(a.jsxs)("div",{className:"export-edit-buttons-container",children:[Object(a.jsx)(_n.a,{className:"group-export-bill",disabled:!z.length,onClick:()=>h(!0),children:"EXPORT GROUP BILL"}),Object(a.jsx)(_n.a,{className:"group-edit",onClick:()=>o(!0),children:"EDIT GROUP"})]})]}),Object(a.jsx)(ro,{header:"ARE YOU SURE?",onContinue:()=>A(),handleClose:()=>p(!1),onCancel:()=>p(!1),text:"Are you sure you would like to delete the group ".concat(E,"?"),continueLabel:"Continue",isOpen:u}),Object(a.jsx)(xx,{groupId:Number(n),name:E,handleClose:()=>h(!1),onCancel:()=>h(!1),continueLabel:"Export",isOpen:j}),Object(a.jsx)(bx,{group:O.group,isEdit:!0,isOpen:c,onClose:()=>{p(!1),o(!1)}})]})};var gx,vx=()=>{const e=Object(r.useState)(!1),n=Object(w.a)(e,2),t=n[0],s=n[1],i=Object(r.useState)(0),c=Object(w.a)(i,2),o=c[0],l=c[1],d=Object(r.useState)([]),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(_.c)(ex,{fetchPolicy:"network-only"}),j=m.data,h=m.loading,x=m.error;Object(r.useEffect)((()=>{if(j){const e=Yu(j.groups,"name");b(e)}}),[j]);return h||x?Object(a.jsx)("div",{style:{marginTop:"200px"},children:h?Object(a.jsx)(B,{className:"groups-loading"}):"Error retrieving groups"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(tu,{}),Object(a.jsx)($h,{handleClick:()=>{s(!t)}}),Object(a.jsx)("div",{className:"groups-bottom-border"}),Object(a.jsx)("div",{className:"groups-table-container",children:p.map((e=>Object(a.jsxs)("div",{className:"groups-table-row","data-testid":"groups-table-row",onClick:()=>l(e.id),children:[Object(a.jsx)("div",{className:"group-name",children:eo(e.name)}),Object(a.jsx)("div",{className:"group-contact",children:eo(e.contactName)})]},"group-row-".concat(e.id))))}),!!o&&Object(a.jsx)(Ox,{onClose:()=>l(0),id:o}),Object(a.jsx)(bx,{isOpen:t,onClose:()=>s(!1)})]})};const fx=L()(gx||(gx=Object(k.a)(["\n  query FilteredVenueEvents($orderBy: [String], $filterBy: EventFilterInput, $limit: Int, $offset: Int) {\n    venue {\n      name\n      events(orderBy: $orderBy, filterBy: $filterBy, limit: $limit, offset: $offset) {\n        id\n        name\n        checkInTime\n        checkOutTime\n        startDate\n        endDate\n        openDate\n        closeDate\n        stallProducts {\n          id\n          stalls {\n            id\n          }\n        }\n        rvProducts {\n          id\n          rvSpots {\n            id\n          }\n        }\n        venue {\n          id\n        }\n      }\n    }\n    allVenueEvents: venue {\n      events(filterBy: $filterBy) {\n        id\n      }\n    }\n  }\n"])));var yx;const Ax=E.b.div(yx||(yx=Object(k.a)(["\n  width: 100px;\n"])));var wx,Nx,Sx,Ix=Object(se.a)(sh)((e=>{const n=e.onClearFilters,t=e.onRequestSort,s=e.getVariables,i=e.updateFilterTextField,c=e.formatFilterDates,o=e.updateDates,l=e.onSubmitFilter,d=e.onClearSingleFilter,u=e.handleTableChangePage,p=e.handleTableChangeRowsPerPage,b=Object(r.useState)("name"),m=Object(w.a)(b,2),h=m[0],x=m[1],O=Object(r.useState)("asc"),g=Object(w.a)(O,2),v=g[0],f=g[1],y=Object(r.useState)(["name","ASC"]),A=Object(w.a)(y,2),N=A[0],S=A[1],I=Object(r.useState)(null),C=Object(w.a)(I,2),D=C[0],k=C[1],E=Object(r.useState)(null),R=Object(w.a)(E,2),T=R[0],P=R[1],M=Object(r.useState)(null),F=Object(w.a)(M,2),L=F[0],q=F[1],z=Object(r.useState)(""),Y=Object(w.a)(z,2),V=Y[0],U=Y[1],W=Object(r.useState)(10),Q=Object(w.a)(W,2),G=Q[0],H=Q[1],K=Object(r.useState)(0),Z=Object(w.a)(K,2),X=Z[0],J=Z[1],$=["name","startDate","endDate"],ee=s&&s({orderBy:N,filterBy:L,rowsPerPage:G,page:X}),ne=Object(_.c)(fx,{variables:Object(j.a)({},ee),fetchPolicy:"network-only"}),te=ne.data,ae=ne.loading,re=ne.error,se=[{key:"name",label:"NAME",type:"text",value:V,cb:i&&i(U)},{key:"dates",label:"SELECT DATE",type:"date",isFilter:!0,plural:!0,value:c&&c({startDate:D,endDate:T}),cb:o&&o("range",k,P)}];return ae?Object(a.jsx)(B,{}):re?(console.error(re),"uh oh..."):Object(a.jsx)(ah,{filters:se,rows:[{id:"name",numeric:!1,disablePadding:!1,label:"EVENT NAME",sortable:!0},{id:"openDate",numeric:!1,disablePadding:!1,label:"BOOKING WINDOW",sortable:!0},{id:"startDate",numeric:!1,disablePadding:!1,label:"EVENT DATES",sortable:!0},{id:"checkInTime",numeric:!1,disablePadding:!1,label:"CHECK IN"},{id:"checkOutTime",numeric:!1,disablePadding:!1,label:"CHECK OUT"},{id:"totalStallCount",numeric:!0,disablePadding:!1,label:"TOTAL STALLS"},{id:"totalRvCount",numeric:!0,disablePadding:!1,label:"TOTAL RV SPOTS"}],data:(ie=te.venue,ie.events.map((e=>{const n=e.openDate,t=e.closeDate,r=e.startDate,s=e.endDate;return Object(j.a)(Object(j.a)({},e),{},{checkOutTime:Hr()(e.checkOutTime,"H:m:s").format("h:mm a"),checkInTime:Hr()(e.checkInTime,"H:m:s").format("h:mm a"),openDate:Object(a.jsxs)(Ax,{children:[Hr()(n).format("MM/DD/YYYY")," - ",Hr()(t).format("MM/DD/YYYY")]}),startDate:Object(a.jsxs)(Ax,{children:[Hr()(r).format("MM/DD/YYYY")," - ",Hr()(s).format("MM/DD/YYYY")]}),totalStallCount:e.stallProducts.reduce(((e,n)=>n.stalls.length+e),0),totalRvCount:e.rvProducts.reduce(((e,n)=>n.rvSpots.length+e),0)})}))),onEditClick:()=>null,orderBy:h,order:v,onRequestSort:t({sortName:h,sortOrder:v},{setSortName:x,setSortOrder:f,setOrderBy:S}),onClearFilters:n($,{name:[V,U],startDate:[D,k],endDate:[T,P]},q),onSubmit:l($,{name:V,startDate:D,endDate:T},q,J),onClearSingleFilter:d(L,q),page:X,rowsPerPage:G,onChangePage:u(J),onChangeRowsPerPage:p(H,J),count:te.allVenueEvents.events.length,allTableRows:te.allVenueEvents.events});var ie}));const Cx=Object(E.b)((e=>{const n=e.className,t=e.showSnackbar;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{className:n,children:[Object(a.jsxs)(Dx,{children:[Object(a.jsx)(ar,{label:"EVENTS"}),Object(a.jsx)(kx,{to:ne.ADMIN.CREATE_EVENT,children:Object(a.jsx)(Fu,{label:"CREATE EVENT"})})]}),Object(a.jsx)(Ix,{showSnackbar:t,onEditClick:n=>e.history.push({pathname:ne.ADMIN.EDIT_EVENT,search:"?id=".concat(n.id)})}),Object(a.jsx)(tu,{})]})})}))(wx||(wx=Object(k.a)(["\n  margin: 85px 50px 50px;\n  max-width: 1800px;\n  min-width: 1130px;\n  &__Header {\n    ","\n    text-align: left;\n    margin: 0;\n  }\n"])),Re),Dx=E.b.div(Nx||(Nx=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"])),Ke),kx=Object(E.b)(b.b)(Sx||(Sx=Object(k.a)(["\n  text-decoration: none;\n"])));var _x,Ex=Object(se.a)(H.j,D)(Object(r.memo)(Cx));const Rx=({name:e,agreements:n,value:t})=>{const s=Object(r.useMemo)((()=>null===n||void 0===n?void 0:n.map((({id:e,name:n})=>Object(a.jsx)(hp.a,{value:e,children:n},e)))),[JSON.stringify(n)]);return Object(a.jsxs)(Sa.a,{children:[Object(a.jsx)(vc.a,{htmlFor:e,children:"\xa0"}),Object(a.jsx)(Ia.a,{as:"select",name:e,component:Kn.a,value:t,children:s})]})},Tx=function(){var e=Object(O.a)(x.a.mark((function e(n,t){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("venueId",t),a.append("name",n.name),a.append("description","Venue Agreement"),a.append("documentType","1"),a.append("document",n),e.next=8,Object(G.b)({path:"admin/venue-agreement",method:"POST",body:a,cType:"multipart/form-data"});case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Px=({agreements:e,reloadAgreements:n,venueId:t})=>{const s=Object(r.useState)(null),i=Object(w.a)(s,2),c=i[0],o=i[1],l=Object(r.useState)(!1),d=Object(w.a)(l,2),u=d[0],p=d[1],b=Object(r.useState)(!1),m=Object(w.a)(b,2),j=m[0],h=m[1],x=Object(r.useContext)(N).showSnackbar,O=Object(Ia.f)().setFieldValue,g=null===e||void 0===e?void 0:e.map((e=>e.name)),v=()=>{o(null),p(!1)};return Object(r.useEffect)((()=>{c&&(g.includes(c.name)&&!j?p(!0):(x("Uploading file...",{error:!1,duration:5e3}),Tx(c,t).then((e=>{var t,a;(x(e.success?"File uploaded successfully":"File uploaded failed",{error:!e.success}),e.success)&&(n(),O("venueAgreement",(null===(t=e.document)||void 0===t?void 0:t.id)||(null===(a=e.document[0])||void 0===a?void 0:a.id)));o(null),h(!1)}))))}),[JSON.stringify(c),j]),Object(a.jsxs)("div",{className:"upload-venue-agreement",children:[Object(a.jsx)(ro,{isOpen:u,handleClose:v,onCancel:v,continueLabel:"REPLACE",header:"ARE YOU SURE?",text:"".concat((null===c||void 0===c?void 0:c.name)||""," already exists. Do you want to replace it? Replacing it will overwrite its current contents."),onContinue:()=>{h(!0),p(!1)}}),"or"," ",Object(a.jsxs)("label",{htmlFor:"venue-agreement-file",children:["upload new agreement",Object(a.jsx)("input",{onChange:e=>(e=>{const n=e.currentTarget.files&&e.currentTarget.files[0];"application/pdf"!==(null===n||void 0===n?void 0:n.type)?x("File type must be PDF",{error:!0}):o(e.currentTarget.files&&e.currentTarget.files[0])})(e),value:"",accept:"application/pdf",className:"agreement-input",id:"venue-agreement-file",multiple:!0,type:"file"})]})]})};var Mx;const Bx=L()(Mx||(Mx=Object(k.a)(["\n  query venue($id: ID) {\n    venue(id: $id) {\n      venueAgreements {\n        id\n        name\n        description\n        url\n      }\n    }\n  }\n"]))),Fx=(e={})=>String(e.message||"").match(/unauthenticated/i),Lx=()=>{const e=Object(r.useContext)(g).user.venues,n=void 0===e?[]:e,t=Object(w.a)(n,1)[0],s=(void 0===t?{}:t).id,i=Object(_.a)(Bx,{fetchPolicy:"network-only"}),c=Object(w.a)(i,2),o=c[0],l=c[1],d=l.data,u=l.error,p=Object(Ia.f)(),b=p.values.venueAgreement,m=p.setFieldValue,j=Object(Cs.a)(d,"venue.venueAgreements",[]);return Object(r.useEffect)((()=>{m("agreements",j)}),[JSON.stringify(j)]),Object(r.useEffect)((()=>{s&&o({variables:{id:s}})}),[s]),Fx(u)?Object(a.jsx)(H.a,{to:ae.LOGIN}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"select-venue-agreement",children:Object(a.jsx)(Rx,{value:b,name:"venueAgreement",agreements:j})}),Object(a.jsx)(Px,{venueId:s,agreements:j,reloadAgreements:()=>o({variables:{id:s}})})]})},qx=({name:e,maps:n,value:t})=>{const s=Object(r.useMemo)((()=>null===n||void 0===n?void 0:n.map((({id:e,name:n})=>Object(a.jsx)(hp.a,{value:e,children:n},e)))),[JSON.stringify(n)]);return Object(a.jsxs)(Sa.a,{children:[Object(a.jsx)(vc.a,{htmlFor:e,children:"\xa0"}),Object(a.jsx)(Ia.a,{as:"select",name:e,component:Kn.a,value:t,children:s})]})},zx=function(){var e=Object(O.a)(x.a.mark((function e(n,t){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("venueId",t),a.append("name","".concat(n.name)),a.append("description","Venue Map"),a.append("documentType","2"),a.append("document",n),e.next=8,Object(G.b)({path:"admin/venue-map",method:"POST",body:a,cType:"multipart/form-data"});case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Yx=({reloadMaps:e,venueId:n,maps:t})=>{const s=Object(r.useState)(null),i=Object(w.a)(s,2),c=i[0],o=i[1],l=Object(r.useState)(!1),d=Object(w.a)(l,2),u=d[0],p=d[1],b=Object(r.useState)(!1),m=Object(w.a)(b,2),j=m[0],h=m[1],x=Object(r.useContext)(N).showSnackbar,O=null===t||void 0===t?void 0:t.map((e=>e.name)),g=Object(Ia.f)().setFieldValue;Object(r.useEffect)((()=>{c&&(O.includes(c.name)&&!j?p(!0):(x("Uploading file...",{error:!1,duration:5e3}),zx(c,n).then((n=>{var t,a;(x(n.success?"File uploaded successfully":"File uploaded failed",{error:!n.success}),n.success)&&(e(),g("venueMap",(null===(t=n.document)||void 0===t?void 0:t.id)||(null===(a=n.document[0])||void 0===a?void 0:a.id)));o(null),h(!1)}))))}),[JSON.stringify(c),j]);const v=()=>{o(null),p(!1)};return Object(a.jsxs)("div",{className:"upload-venue-agreement",children:[Object(a.jsx)(ro,{isOpen:u,handleClose:v,onCancel:v,continueLabel:"REPLACE",header:"ARE YOU SURE?",text:"".concat(null===c||void 0===c?void 0:c.name," already exists. Do you want to replace it? Replacing it will overwrite its current contents."),onContinue:()=>{h(!0),p(!1)}}),"or"," ",Object(a.jsxs)("label",{htmlFor:"venue-map-file",children:["upload new map",Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)("input",{onChange:e=>(e=>{const n=e.currentTarget.files&&e.currentTarget.files[0];"application/pdf"!==(null===n||void 0===n?void 0:n.type)?x("File type must be PDF",{error:!0}):o(e.currentTarget.files&&e.currentTarget.files[0])})(e),value:"",accept:"application/pdf",className:"map-input",id:"venue-map-file",multiple:!0,type:"file"})})]})]})};var Vx;const Ux=L()(Vx||(Vx=Object(k.a)(["\n  query venue($id: ID) {\n    venue(id: $id) {\n      venueMaps {\n        id\n        name\n        description\n        url\n      }\n    }\n  }\n"]))),Wx=()=>{const e=Object(r.useContext)(g).user.venues,n=void 0===e?[]:e,t=Object(w.a)(n,1)[0],s=(void 0===t?{}:t).id,i=Object(_.a)(Ux,{fetchPolicy:"network-only"}),c=Object(w.a)(i,2),o=c[0],l=c[1],d=l.data,u=l.error,p=Object(Ia.f)(),b=p.values.venueMap,m=p.setFieldValue,j=Object(Cs.a)(d||{},"venue.venueMaps",[]);return Object(r.useEffect)((()=>{m("maps",j)}),[JSON.stringify(j)]),Object(r.useEffect)((()=>{s&&o({variables:{id:s}})}),[s]),Fx(u)?Object(a.jsx)(H.a,{to:ae.LOGIN}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"select-venue-agreement",children:Object(a.jsx)(qx,{value:b,name:"venueMap",maps:j})}),Object(a.jsx)(Yx,{venueId:s,maps:j,reloadMaps:()=>o({variables:{id:s}})})]})},Qx=()=>Object(a.jsxs)(Pi,{title:"Basic Information",testId:"basic-information",children:[Object(a.jsxs)("div",{className:"card-row",children:[Object(a.jsxs)("div",{className:"card-col",children:[Object(a.jsx)(jr,{label:"Event Name"}),Object(a.jsx)(Ia.a,{component:Zn,label:"Event Name",name:"eventName",type:"text",variant:"filled"})]}),Object(a.jsxs)("div",{className:"card-col right-col",children:[Object(a.jsx)(jr,{label:"Check In and Check Out"}),Object(a.jsxs)("div",{className:"card-inner-row",children:[Object(a.jsx)("div",{className:"card-span",children:Object(a.jsx)("div",{className:"time-picker",children:Object(a.jsx)(Ia.a,{component:Zn,label:"Check In Time",type:"time",name:"checkInTime",variant:"filled"})})}),Object(a.jsx)("div",{className:"card-span",children:Object(a.jsx)("div",{className:"time-picker",children:Object(a.jsx)(Ia.a,{component:Zn,label:"Check Out Time",type:"time",name:"checkOutTime",variant:"filled"})})})]})]})]}),Object(a.jsxs)("div",{className:"card-row separator",children:[Object(a.jsxs)("div",{className:"card-col description",children:[Object(a.jsxs)("div",{className:"optional-text",children:[Object(a.jsx)(jr,{label:"Event Description"}),Object(a.jsx)("div",{children:"Optional"})]}),Object(a.jsx)(Ia.a,{component:Zn,label:"Event Description",name:"eventDescription",type:"text",variant:"filled",rows:"4",multiline:!0})]}),Object(a.jsxs)("div",{className:"file-uploads",children:[Object(a.jsxs)("div",{className:"card-col venue-agreement right-col",children:[Object(a.jsx)(jr,{label:"Venue Agreement"}),Object(a.jsx)(Lx,{})]}),Object(a.jsxs)("div",{className:"card-col venue-agreement right-col",children:[Object(a.jsx)(jr,{label:"Venue Map"}),Object(a.jsx)(Wx,{})]})]})]})]});var Gx;t(1134);const Hx=({name:e,fromDateLabel:n,toDateLabel:t,disabled:s=!1,startDate:i=null,endDate:c=null,selectableDateRange:o})=>{const l=Object(Ia.f)().setFieldValue,d=Object(r.useState)(i),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(r.useState)(c),j=Object(w.a)(m,2),h=j[0],x=j[1],O=Object(r.useMemo)((()=>o&&o.startDate?Hr()(o.startDate,As).format(As):Hr()().format(As)),[JSON.stringify(o)]),g=Object(r.useMemo)((()=>o&&o.endDate?Hr()(o.endDate,As).format(As):Hr()().add(1,"year").format(As)),[JSON.stringify(o)]),v=Object(r.useMemo)((()=>Is({eventStartDate:O,eventEndDate:g,selectedStartDate:p,pristine:!0})),[O,g,p]),f=Object(w.a)(v,2),y=f[0],A=f[1];return Object(r.useEffect)((()=>{l(e,{startDate:p,endDate:h})}),[p,h]),Object(r.useEffect)((()=>{b(i),x(c)}),[i,c]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Kx,{displayFormat:"MM/DD/YY",value:[p,h],isOutsideRange:()=>!1,cb:({startDate:e,endDate:n})=>{b(e?e.format(As):null),x(n?n.format(As):null)},disabled:s,checkInDates:y,checkOutDates:A,eventStartDate:O,fromDateLabel:n,toDateLabel:t,noCheckLabel:!0})})},Kx=Object(E.b)(Ul)(Gx||(Gx=Object(k.a)(["\n  && {\n    display: inline-flex;\n  }\n"]))),Zx=()=>{const e=Object(Ia.f)().values,n=e.eventDates,t=e.bookingWindow,r=e.closeTime,s=e.openTime;return Object(a.jsx)(Pi,{title:"Dates",testId:"event-create-dates",children:Object(a.jsxs)("div",{className:"card-row",children:[Object(a.jsxs)("div",{className:"card-col",children:[Object(a.jsx)(jr,{label:"Reservable Dates for Event"}),Object(a.jsxs)("p",{children:["Set the date range in which stalls and/or RV spots will be ",Object(a.jsx)("br",{}),"available for this event"]}),Object(a.jsx)("div",{className:"date-picker-container",children:Object(a.jsx)(Hx,{fromDateLabel:"START DATE",toDateLabel:"END DATE",name:"eventDates",startDate:n.startDate,endDate:n.endDate})})]}),Object(a.jsxs)("div",{className:"card-col booking-col",children:[Object(a.jsx)(jr,{label:"Online Booking Window"}),Object(a.jsx)("p",{children:"Set the date range in which this event will be shown on Open Stalls for athletes to book stalls and/or RV spots online"}),Object(a.jsx)("div",{className:"date-picker-container",children:Object(a.jsx)(Hx,{name:"bookingWindow",fromDateLabel:"OPEN DATE",toDateLabel:"CLOSE DATE",startDate:t.startDate,endDate:t.endDate,selectableDateRange:{endDate:n.endDate},disabled:!n.startDate||!n.endDate})}),Object(a.jsxs)("div",{className:"booking-time",children:[Object(a.jsx)(Ia.a,{component:Zn,label:"OPENING TIME",type:"time",name:"openTime",variant:"filled",value:s,className:"open-time-field"}),Object(a.jsx)(Ia.a,{component:Zn,label:"CLOSING TIME",type:"time",name:"closeTime",variant:"filled",value:r,className:"close-time-field"})]})]})]})})};var Xx=t(72);const Jx=({id:e,addOns:n,children:t})=>{const r=Object(Ia.f)().setFieldValue;return Object(a.jsxs)("div",{className:"card-row addOn",children:[Object(a.jsx)(Xx.CardSelect,{formId:e,addOns:n,name:"addOns[".concat(e,"].id")}),Object(a.jsx)(Ia.a,{name:"addOns[".concat(e,"].price"),type:"number",render:({field:n,meta:t})=>{const s=t.value?"Invalid price":t.error;return Object(a.jsx)(rt,Object(j.a)(Object(j.a)(Object(j.a)({},n),t),{},{className:"unit-price",label:"Price Per Unit",error:t.touched&&t.error?t.error:null,variant:"filled",helperText:t.touched&&t.error?s:null,onChange:n=>{r("addOns[".concat(e,"].price"),at(n.target.value))}}))}}),t]})},$x=({addOns:e=[]})=>{const n=Object(Ia.f)(),t=n.values,s=n.setFieldValue,i=Object(r.useState)(e.length),c=Object(w.a)(i,1)[0],o=Object(r.useState)([]),l=Object(w.a)(o,2),d=l[0],u=l[1],p=c<=d.length,b=e=>()=>{s("addOns",[...t.addOns.slice(0,e),...t.addOns.slice(e+1)])};return Object(r.useEffect)((()=>{u([...t.addOns].map(((e,n)=>n)))}),[JSON.stringify(t.addOns)]),Object(a.jsxs)(a.Fragment,{children:[d.map((n=>Object(a.jsx)(Jx,{id:n,addOns:e,children:Object(a.jsxs)("a",{className:"remove-addOn",onClick:b(n),onKeyPress:b(n),role:"button",tabIndex:0,children:[Object(a.jsx)(Ti.a,{})," REMOVE"]})},n))),Object(a.jsx)(Yn,{disabled:p,secondary:!0,onClick:()=>{s("addOns",[...t.addOns,{id:"",price:"",name:"",unitName:""}])},children:"+ ADD ON"})]})};var eO;const nO=L()(eO||(eO=Object(k.a)(["\n  query venue($id: ID) {\n    venue(id: $id) {\n      addOns {\n        description\n        id\n        name\n        unitName\n        description\n      }\n    }\n  }\n"]))),tO=()=>{const e=Object(r.useContext)(g).user.venues,n=void 0===e?[]:e,t=Object(w.a)(n,1)[0],s=(void 0===t?{}:t).id,i=Object(_.a)(nO),c=Object(w.a)(i,2),o=c[0],l=c[1],d=l.data,u=void 0===d?{}:d,p=l.called,b=l.loading,m=l.error,j=Object(Cs.a)(u,"venue.addOns",[]);return Object(r.useEffect)((()=>{s&&o({variables:{id:s}})}),[s]),Fx(m)?Object(a.jsx)(H.a,{to:ae.LOGIN}):Object(a.jsx)(Pi,{title:"Add Ons",testId:"event-create-addons",children:j&&j.length>0?Object(a.jsx)($x,{addOns:j}):p&&b?"Loading...":"This venue does not have add ons"})},aO=({next:e,back:n,nextLabel:t,backLabel:r,isValid:s,showSubmit:i})=>{const c=Object(Ia.f)(),o=c.setFieldValue,l=c.values,d=l.isLoading,u=l.hasEmptyRvAnswer,p=l.hasEmptyStallAnswer,b=e=>{window.scrollTo(0,0),o("step",e)},m=Object(Ia.f)(),j=m.isSubmitting,h=m.isValid;return Object(a.jsxs)("div",{className:"bottom-navigation ".concat(!n&&e?"solo":""),children:[!!n&&Object(a.jsx)("a",{tabIndex:0,role:"button",onKeyPress:()=>b(n),onClick:()=>b(n),children:r}),!!e&&Object(a.jsx)(Yn,{type:"button",className:"next",tertiary:!0,onClick:()=>b(e),disabled:!s,children:t}),!!i&&Object(a.jsx)(Yn,{type:"submit",onClick:e=>{e.preventDefault(),window.scrollTo(0,0),o("step","review")},primary:!0,isLoading:d||j,disabled:d||j||!h||u||p,children:"REVIEW & SAVE"})]})},rO=()=>{const e=Object(Ia.f)(),n=e.errors,t=e.values,a=n.addOns||[],r=!n.eventName&&!n.checkInTime&&!n.eventDescription&&!n.checkOutTime&&!n.bookingWindow&&!n.openTime&&!n.closeTime&&!n.eventDates&&!n.stallQuestions&&!n.venueAgreement&&0===a.filter((e=>!!e)).length,s=n.stalls||[],i=!t.hasStalls||0===s.length&&!t.hasEmptyStallAnswer,c=n.rvs||[];return{isDetailsValid:r,isStallsValid:i,isRvSpotsValid:!t.hasRvs||0===c.length&&!t.hasEmptyRvAnswer}},sO=()=>{const e=rO().isDetailsValid;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Qx,{}),Object(a.jsx)(Zx,{}),Object(a.jsx)(tO,{}),Object(a.jsx)(aO,{next:"stalls",nextLabel:"NEXT: ADD STALLS",isValid:e})]})},iO=Object(mp.a)((()=>({switch_track:{backgroundColor:P.button.primary.disabled,opacity:1},switch_base:{"&.Mui-checked":{color:P.white},"&.Mui-checked + .MuiSwitch-track":{backgroundColor:P.button.primary.active,opacity:1}}}))),cO=({scope:e,product:n})=>{const t=Object(Ia.f)(),r=t.values,s=t.setFieldValue,i=t.touched,c=t.setTouched,o=r.hasStalls,l=r.hasRvs,d=iO(),u="stalls"===n?"stallQuestions":"rvQuestions",p="stalls"===n?o:l,b="stalls"===n?Xx.emptyStallCard:Xx.emptyRvCard;return Object(a.jsx)("div",{id:"switch-container",children:Object(a.jsx)(gc.a,{"data-testid":"section-toggle",classes:{track:d.switch_track,switchBase:d.switch_base,colorPrimary:P.white},color:"primary",onChange:t=>{const a=t.target.checked;if(s(e,a),a)p?(s(n,[]),s(e,!1)):(s(n,[JSON.parse(JSON.stringify(b))]),s(e,!0));else{s(u,[]);const e=Object(j.a)(Object(j.a)({},i),{},{["".concat(n)]:[]});c(e)}},size:"medium",checked:p})})};var oO;t(1135);const lO=Object(zt.a)({tooltip:{color:P.white,backgroundColor:P.border.tertiary,fontSize:"16px"},arrow:{color:P.border.tertiary}})(Yt.a),dO=Object(E.b)((({className:e,header:n,scope:t,product:r})=>{const s=Object(Ia.f)(),i=s.values,c=s.setFieldValue,o="stalls"===r?"stallQuestions":"rvQuestions",l="stalls"===r?"hasEmptyStallAnswer":"hasEmptyRvAnswer",d="stalls"===r?"stallFlip":"rvFlip",u="stalls"===r?i.stallFlip:i.rvFlip;return Object(a.jsx)(Pi,{testId:"".concat(r,"-select-toggle"),children:Object(a.jsxs)("div",{className:"".concat(e," product-select-toggle"),children:[Object(a.jsxs)("div",{className:"main header-container",children:[Object(a.jsx)(ur,{label:n}),Object(a.jsxs)("div",{className:"header-container",children:[Object(a.jsxs)("p",{children:["Make ","stalls"===r?r:"RV spots"," available for this event"]}),Object(a.jsx)(cO,{scope:t,product:r})]})]}),i[t]&&Object(a.jsxs)("div",{className:"questions-toggle-container",children:[Object(a.jsxs)("div",{className:"question-bloc",children:[Object(a.jsx)(Qt.a,{type:"checkbox",checked:!u,onChange:()=>c(d,!u),"data-testid":"flip-checkbox"}),Object(a.jsxs)("p",{children:["Disable ","stalls"===r?"Stall":"RV"," Flip"]}),Object(a.jsx)(lO,{placement:"top",arrow:!0,title:"".concat("stalls"===r?"Stalls":"RV spots"," can only be sold once during an event"),children:Object(a.jsx)(Oo.a,{fontSize:"medium"})})]}),Object(a.jsxs)("div",{className:"question-bloc",children:[Object(a.jsx)(Qt.a,{"data-testid":"custom-questions-checkbox",type:"checkbox",checked:i[o].length,onChange:()=>{i[o].length?(c(l,!1),c(o,[])):c(o,[Xx.emptyQuestionCard])},disabled:!i[t]}),Object(a.jsx)("p",{children:"Custom Questions"}),Object(a.jsx)(lO,{placement:"top",arrow:!0,title:"Ask your renters a custom question(s)",children:Object(a.jsx)(Oo.a,{"data-testid":"info-icon",fontSize:"medium"})})]})]})]})})}))(oO||(oO=Object(k.a)(["\n  & {\n    .available-label {\n      font-family: IBMPlexSans-Bold, Roboto, Helvetica, Arial, sans-serif;\n    }\n  }\n"])));var uO;const pO=L()(uO||(uO=Object(k.a)(["\n  query VenueBuildingsAndStalls($id: ID) {\n    venue(id: $id) {\n      buildings {\n        id\n        name\n        availableStalls {\n          id\n          name\n          status\n        }\n      }\n    }\n  }\n"])));var bO=t(1156),mO=t(1233),jO=t(325),hO=t.n(jO),xO=t(1234),OO=t(1232);var gO,vO,fO=Object(zt.a)({root:{color:"rgba(0, 0, 0, 0.54)","&$checked":{color:P.secondary}},checked:{}})((e=>Object(a.jsx)(Qt.a,Object(j.a)({color:"default"},e))));const yO=Object(E.b)((({className:e,stallsPerBuilding:n,index:t})=>{const r=Object(Ia.f)(),s=r.values,i=s.stalls,c=s.hasStalls,o=r.setFieldValue,l=i[t].stallsForThisRate,d=!n||!c||0===l.length;return Object(a.jsxs)("div",{className:e,children:[Object(a.jsxs)("div",{className:"heading-wrapper",children:[Object(a.jsx)(jr,{label:"Stalls for this Rate (".concat(l.length,")")}),Object(a.jsxs)("span",{className:"buttons-wrapper",children:[Object(a.jsx)(_n.a,{className:d?"disabled-button":"active-button",onClick:e=>{e.preventDefault(),o("stalls[".concat(t,"].stallsForThisRate"),[])},disabled:d,children:"DESELECT ALL"}),Object(a.jsx)(_n.a,{className:n&&c?"active-button":"disabled-button",onClick:e=>{e.preventDefault();const a=n&&n.reduce(((e,n)=>e=e.concat(n.availableStalls.map((e=>e.id)))),[]);o("stalls[".concat(t,"].stallsForThisRate"),a)},disabled:!n||!c,children:"SELECT ALL"})]})]}),Object(a.jsx)(AO,{children:n&&n.map((e=>{const r=e.id,s=e.name,i=e.availableStalls.sort(((e,n)=>e&&n?e.name.localeCompare(n.name,"en",{numeric:!0}):0)),d=i.length,u=i.filter((e=>!!l.find((n=>n===e.id)))).length,p="".concat(r,"-").concat(s),b="".concat(s.toUpperCase()," (").concat(u,"/").concat(d,")"),m=u===d,j=0!==u&&u<d,h=((e,n,t,a,r)=>s=>{if(e)if(s.target.checked){const s=(e.find((e=>e.id===r))||{availableStalls:[]}).availableStalls.map((e=>e.id)),i=new Set(n.concat(s));t("stalls[".concat(a,"].stallsForThisRate"),Array.from(i))}else{if(!n.length)return;const s=(e.find((e=>e.id===r))||{availableStalls:[]}).availableStalls.map((e=>e.id)),i=new Set(s),c=n.filter((e=>!i.has(e)));t("stalls[".concat(a,"].stallsForThisRate"),c)}})(n,l,o,t,r);return Object(a.jsxs)(Fi.a,{disabled:!c,children:[Object(a.jsx)(Li.a,{expandIcon:Object(a.jsx)(Yi.a,{}),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"building-".concat(r),children:Object(a.jsx)(ad.a,{"aria-label":"Acknowledge",onClick:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation(),control:Object(a.jsx)(fO,{onChange:h,checked:m,indeterminate:j,disabled:!c}),label:b})}),Object(a.jsx)(qi.a,{children:Object(a.jsx)(nr.a,{children:Object(a.jsx)("ul",{className:"stall-selection-per-building",children:i.map((e=>{const n=l.find((n=>n===e.id)),r=n?"stall-listing selected":"stall-listing",s=((e,n,t,a,r)=>s=>{if(s.preventDefault(),e){const e=new Set(t);e.delete(n.id),a("stalls[".concat(r,"].stallsForThisRate"),Array.from(e))}else t.push(n.id),a("stalls[".concat(r,"].stallsForThisRate"),t)})(n,e,l,o,t);return Object(a.jsxs)("li",{className:r,onClick:s,children:[Object(a.jsx)("span",{className:"stall-name",children:e.name}),n?Object(a.jsx)(Rj.a,{}):Object(a.jsx)(OO.a,{})]},"stall-".concat(e.id))}))})})})]},p)}))})]})}))(gO||(gO=Object(k.a)(["\n  & {\n    display: block;\n    margin: 0;\n    padding: 0;\n\n    .heading-wrapper {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n\n      h4 {\n        display: inline-flex;\n        margin-bottom: 10px;\n      }\n    }\n\n    .buttons-wrapper {\n      display: inline-flex;\n      transform: translate(10px, 0px);\n    }\n\n    .active-button {\n      letter-spacing: 1.5px;\n      color: ",";\n      margin-top: -3px;\n      border-bottom: #ffffff solid 1px;\n    }\n\n    .disabled-button {\n      letter-spacing: 1.5px;\n      color: ",";\n      margin-top: -3px;\n      border-bottom: #ffffff solid 1px;\n    }\n  }\n"])),P.secondary,P.text.lightGray2),AO=Object(E.b)((({className:e,children:n})=>Object(a.jsx)("div",{className:"".concat(e," stalls-accordion-wrapper"),children:n})))(vO||(vO=Object(k.a)(["\n  .stall-selection-per-building {\n    list-style: none;\n    display: flex;\n    flex-direction: row;\n    flex-flow: wrap;\n    width: inherit;\n    margin: 0;\n    padding: 0 0 0 20px;\n    justify-content: flex-start;\n\n    li {\n      cursor: pointer;\n      display: inline-flex;\n      width: 22%;\n      height: 42px;\n      margin-right: 10px;\n      margin-bottom: 10px;\n      border-radius: 3px;\n      justify-content: space-between;\n      background-color: ",";\n      border: 1px solid ",";\n      color: ",";\n\n      &.selected {\n        background-color: ",";\n        border: none;\n        color: white;\n      }\n\n      .stall-name {\n        padding: 10px 0 0 10px;\n        user-select: none;\n      }\n\n      .MuiSvgIcon-root {\n        transform: translate(-5px, 10px);\n        transition: 0s ease-in, color 0s;\n      }\n    }\n  }\n\n  &.stalls-accordion-wrapper {\n    border-radius: 5px;\n    margin-top: -12px;\n  }\n\n  &&& {\n    .MuiAccordion-root:before {\n      background: none;\n    }\n\n    .MuiPaper-root {\n      transition: none;\n      margin: 0;\n      background-color: ",";\n    }\n\n    .MuiPaper-root:first-child {\n      margin-top: 12px;\n    }\n\n    .MuiPaper-root:last-child {\n      margin-bottom: 12px;\n    }\n\n    .MuiPaper-elevation1 {\n      box-shadow: none;\n    }\n\n    .MuiAccordionSummary-content {\n      margin: 0;\n    }\n\n    .MuiAccordionDetails-root {\n      padding: 0 16px;\n    }\n\n    .MuiTypography-root {\n      width: 100%;\n      margin-bottom: 0;\n    }\n\n    .MuiCheckbox-indeterminate {\n      color: ",";\n    }\n  }\n"])),P.background.primary,P.text.lightGray2,P.text.lightGray2,P.secondary,P.background.primary,P.secondary);var wO,NO=yO;const SO=Object(E.b)((({className:e,index:n=0,productType:t,stallsPerBuilding:r,renderLotNames:s,renderReservables:i})=>{var c,o;const l=Object(Ia.f)(),d=l.setFieldValue,u=l.values,p=l.setTouched,b=l.touched,m=u.eventDates,h=u.hasStalls,x=u.hasRvs,O=u.stalls,g=u.rvs,v=u[t][n],f="stalls"===t?"stall":"spot",y=Object(Cs.a)(u,"".concat(t,"[").concat(n,"].entireEvent"),!1),A="stalls"===t?!h:!x,w="stalls"===t?O:g,N="stalls"===t?Xx.emptyStallCard:Xx.emptyRvCard;const S=()=>u[t][n].pricing?"flat"===u[t][n].pricing?"FLAT PRICE PER ".concat("stalls"===t?"STALL":"RV"):"NIGHTLY PRICE PER ".concat("stalls"===t?"STALL":"RV"):"PRICE";return Object(a.jsx)(Pi,{disabled:A,useStallStyles:!0,italicizeHeading:!(null!==v&&void 0!==v&&v.name),children:Object(a.jsxs)("div",{className:e+" stalls",children:[Object(a.jsxs)("div",{className:"card-row",style:{width:"100%"},children:[Object(a.jsxs)("div",{className:"card-col",children:["stalls"===t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(jr,{label:"Name"}),Object(a.jsx)(Ia.a,{className:"rate-name",component:Zn,label:"RATE NAME",name:"".concat(t,"[").concat(n,"].name"),type:"text",variant:"filled",disabled:A})]}):s(),Object(a.jsx)(jr,{className:"section-label",label:"Available Date Range"}),Object(a.jsxs)("div",{style:{display:"flex",alignItems:"end"},className:"entire-event-container",children:[Object(a.jsx)(Hx,{name:"".concat(t,"[").concat(n,"].dateRange"),fromDateLabel:"START DATE",toDateLabel:"END DATE",disabled:A||y,startDate:y?m.startDate:null===(c=u[t][n].dateRange)||void 0===c?void 0:c.startDate,endDate:y?m.endDate:null===(o=u[t][n].dateRange)||void 0===o?void 0:o.endDate,selectableDateRange:{startDate:m.startDate,endDate:m.endDate}}),Object(a.jsx)("div",{id:"entire-event-container",children:Object(a.jsx)(Ia.a,{name:"".concat(t,"[").concat(n,"].entireEvent"),type:"checkbox",children:({field:e})=>Object(a.jsx)(ad.a,{"aria-label":"Entire event",control:Object(a.jsx)(fO,{name:e.name,onChange:n=>{d(e.name,n.target.checked)},style:{marginLeft:15},disabled:A,checked:y}),label:"Entire event"})})})]}),Object(a.jsx)(jr,{className:"section-label",label:"Pricing"}),Object(a.jsxs)("div",{className:"pricing-fields",children:[Object(a.jsx)("div",{children:Object(a.jsx)(Sa.a,{className:"pricing-radio",component:"fieldset",children:Object(a.jsxs)(bO.a,{name:"pricing",row:!0,value:null===v||void 0===v?void 0:v.pricing,onChange:e=>{const a=e.target.value;d("".concat(t,"[").concat(n,"].pricing"),a)},children:[Object(a.jsx)(ad.a,{value:"flat",control:Object(a.jsx)(Od,{}),label:"Flat rate per ".concat(f),disabled:A}),Object(a.jsx)(ad.a,{value:"nightly",control:Object(a.jsx)(Od,{}),label:"Nightly rate per ".concat(f),disabled:A})]})})}),Object(a.jsx)("div",{children:Object(a.jsx)(Ia.a,{className:"money-input",label:S(),name:"".concat(t,"[").concat(n,"].price"),type:"text",variant:"filled",children:({field:e,meta:r})=>Object(a.jsx)(rt,Object(j.a)(Object(j.a)(Object(j.a)({},e),r),{},{error:r&&r.touched&&r.error?"Invalid price":void 0,helperText:r&&r.touched&&r.error?"Invalid price":void 0,label:S(),autoComplete:"".concat(t,"[").concat(n,"].price"),variant:"filled",style:{marginTop:10},disabled:A||!(null!==v&&void 0!==v&&v.pricing),onChange:e=>{d("".concat(t,"[").concat(n,"].price"),at(e.target.value))}}))})})]})]}),Object(a.jsxs)("div",{className:"card-col",style:{paddingRight:0},children:[r?Object(a.jsx)(NO,{stallsPerBuilding:r,index:n}):"","rvs"===t&&i()]})]}),Object(a.jsxs)("div",{className:"add-remove-buttons-container",children:[Object(a.jsx)(et.a,{"data-testid":"add-rate-button",onClick:e=>{e.preventDefault(),d(t,[...w,JSON.parse(JSON.stringify(N))])},children:Object(a.jsx)(hO.a,{})}),Object(a.jsx)(et.a,{"data-testid":"remove-rate-button",onClick:()=>{1===w.length&&d("stalls"===t?"hasStalls":"hasRvs",!1),(e=>{d(t,[...u[t].slice(0,e),...u[t].slice(e+1)]);const n=Object(j.a)({},b);n[t][e]={name:!1,price:!1},p(n)})(n)},disabled:A,children:Object(a.jsx)(mO.a,{})})]})]})})}))(wO||(wO=Object(k.a)(["\n  & {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    .card-col {\n      h4:first-child {\n        margin-bottom: 10px;\n      }\n    }\n    .pricing-fields {\n      margin-top: -5px;\n      .pricing-radio {\n        margin-bottom: -10px;\n      }\n    }\n    .section-label {\n      margin: 20px 0 10px;\n    }\n    .rate-name {\n      margin-bottom: 0 !important;\n    }\n    .add-remove-buttons-container {\n      display: flex;\n      justify-content: flex-end;\n      opacity: 1;\n      margin: 0 -15px -15px 0;\n      border-top: 1px solid ",";\n      .MuiSvgIcon-root {\n        opacity: 1 !important;\n      }\n    }\n    #entire-event-container {\n      margin-bottom: -10px;\n    }\n  }\n"])),P.border.primary);var IO=({index:e,stallsPerBuilding:n,productType:t,renderLotNames:s,renderReservables:i})=>{const c=Object(r.useState)(!1),o=Object(w.a)(c,2),l=o[0],d=o[1];return Object(r.useEffect)((()=>{setTimeout((()=>d(!0)),1)}),[]),0===e?Object(a.jsx)(SO,{index:e,stallsPerBuilding:n,productType:t,renderLotNames:s,renderReservables:i}):Object(a.jsx)(xO.a,{in:l,children:Object(a.jsx)("div",{style:{display:"flex",margin:0,padding:0,marginBottom:-45},children:Object(a.jsx)(SO,{index:e,stallsPerBuilding:n,productType:t,renderLotNames:s,renderReservables:i})})})},CO=t(1240),DO=t(1241),kO=t(581),_O=t.n(kO);t(540);var EO=({question:e,product:n,index:t,answerId:r,setAnswerId:s})=>{const i=Object(Ia.f)().setFieldValue,c=null===e||void 0===e?void 0:e.questionType,o="stalls"===n?"hasEmptyStallAnswer":"hasEmptyRvAnswer",l="stalls"===n?"stallQuestions":"rvQuestions";return"singleSelection"===c||"multipleSelection"===c?Object(a.jsxs)("div",{className:"possible-answers",children:[e.answerOptions.map(((n,r)=>{var s;return Object(a.jsx)("div",{className:"possible-answer".concat(""===(null===(s=n.text)||void 0===s?void 0:s.replace(/\s/g,""))||null===n.text?" empty-answer":""),children:Object(a.jsx)(ad.a,{className:"question-option",control:"singleSelection"===c?Object(a.jsx)(xd.a,{disabled:!0}):Object(a.jsx)(Qt.a,{disabled:!0}),label:Object(a.jsxs)("div",{className:"option-text",children:[Object(a.jsx)(mn.a,{"data-testid":"answer-option",onChange:e=>((e,n)=>{(null===e||void 0===e?void 0:e.length)>254||i("".concat(l,"[").concat(t,"].answerOptions[").concat(n,"].text"),e)})(e.target.value,r),variant:"standard",defaultValue:null===n.text?"Option ".concat(r+1):e.answerOptions[r].text}),Object(a.jsx)(si.a,{"data-testid":"remove-answer-option",onClick:()=>(n=>{if(e.answerOptions.length>1){const a=e.answerOptions.filter((e=>e.id!=n));i("".concat(l,"[").concat(t,"].answerOptions"),a)}})(n.id)})]})})},n.id)})),Object(a.jsx)(ad.a,{value:"other",className:"other-parent",control:"singleSelection"===c?Object(a.jsx)(xd.a,{disabled:!0}):Object(a.jsx)(Qt.a,{disabled:!0}),label:Object(a.jsxs)("span",{className:"option-radio",onClick:()=>{i("".concat(l,"[").concat(t,"].answerOptions"),[...e.answerOptions,{id:r,text:null}]),s(r+1),i(o,!0)},children:["Add option or"," ",Object(a.jsx)("span",{onClick:n=>{n.stopPropagation(),e.answerOptions.some((e=>"Other"===e.text))||(i("".concat(l,"[").concat(t,"].answerOptions"),[...e.answerOptions,{id:r,text:"Other"}]),s(r+1))},className:"other-radio",children:'add "Other"'})]})})]}):Object(a.jsx)(a.Fragment,{})};const RO="card",TO=({id:e,product:n="stalls",index:t,moveCard:s,question:i})=>{const c=Object(Ia.f)(),o=c.values,l=c.values,d=l.stallQuestions,u=l.rvQuestions,p=c.setFieldValue,b=Object(r.useState)(2),m=Object(w.a)(b,2),h=m[0],x=m[1],O="stalls"===n?"hasEmptyStallAnswer":"hasEmptyRvAnswer",g="stalls"===n?d:u,v="stalls"===n?"stallQuestions":"rvQuestions",f=iO(),y=Object(r.useRef)(null),A=Object(CO.a)({accept:RO,collect:e=>({handlerId:e.getHandlerId()}),hover(e,n){var a;if(!y.current)return;const r=e.index,i=t;if(r===i)return;const c=null===(a=y.current)||void 0===a?void 0:a.getBoundingClientRect(),o=(c.bottom-c.top)/2,l=n.getClientOffset(),d=(null===l||void 0===l?void 0:l.y)||0-c.top;r<i&&d<o||(s(r,i),e.index=i)}}),N=Object(w.a)(A,2),S=N[0].handlerId,I=N[1];Object(r.useEffect)((()=>{if("stalls"===n){const e=o.stallQuestions.some((e=>"openText"!=e.questionType&&e.answerOptions.some((e=>{var n;return!(null!==(n=e.text)&&void 0!==n&&n.replace(/\s/g,""))}))));p(O,!!e)}else{const e=o.rvQuestions.some((e=>"openText"!=e.questionType&&e.answerOptions.some((e=>{var n;return!(null!==(n=e.text)&&void 0!==n&&n.replace(/\s/g,""))}))));p(O,!!e)}}),[i.answerOptions,i.questionType,g.length]);const C=Object(DO.a)({type:RO,item:()=>({id:e,index:t}),collect:e=>({isDragging:e.isDragging()})}),D=Object(w.a)(C,2),k=D[0].isDragging,_=D[1],E=[Object(a.jsx)(hp.a,{value:"singleSelection",children:"SINGLE SELECTION"},1),Object(a.jsx)(hp.a,{value:"multipleSelection",children:"MULTIPLE SELECTION"},2),Object(a.jsx)(hp.a,{value:"openText",children:"OPEN TEXT"},3)],R=k?0:1;return _(I(y)),Object(a.jsx)("div",{className:"custom-question-container",style:{opacity:R},ref:y,"data-handler-id":S,"data-testid":"custom-question-card",children:Object(a.jsx)(ls,{className:"card-item",children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"left-col",style:{display:"flex"},children:[Object(a.jsxs)("div",{style:{width:"50%"},className:"left-col",children:[Object(a.jsx)(jr,{label:"Question ".concat(t+1)}),Object(a.jsx)(Ia.a,{className:"question","data-testid":"question-name",component:Zn,label:"QUESTION",name:"".concat(v,"[").concat(t,"].question"),type:"text",variant:"filled",defaultValue:null===i||void 0===i?void 0:i.question,disabled:!1,onChange:e=>{var n;(null===(n=e.target.value)||void 0===n?void 0:n.length)<255&&p("".concat(v,"[").concat(t,"].question"),e.target.value)}}),Object(a.jsx)(EO,{question:i,product:n,index:t,answerId:h,setAnswerId:x})]}),Object(a.jsx)("div",{style:{margin:"-20px 20px"},children:Object(a.jsx)(_O.a,{style:{transform:"rotate(90deg)",color:P.text.lightGray2}})}),Object(a.jsxs)("div",{style:{width:"50%"},className:"right-col",children:[Object(a.jsx)(jr,{label:"Question Type"}),Object(a.jsx)(Sa.a,{style:{width:"100%"},children:Object(a.jsx)(Ia.a,{name:"".concat(v,"[").concat(t,"].questionType"),children:e=>{let n=e.meta,r=Object(kn.a)(e,["meta"]);return Object(a.jsx)(Kn.a,Object(j.a)(Object(j.a)({"data-testid":"question-type",value:i.questionType},r),{},{meta:n,error:n.touched&&n.error?n.error:null,disabled:!1,onChange:e=>p("".concat(v,"[").concat(t,"].questionType"),e.target.value),children:E}))}})})]})]}),Object(a.jsxs)("div",{className:"footer",children:[Object(a.jsx)(et.a,{"data-testid":"add-question-button",onClick:()=>{p(v,[...g,Object(j.a)(Object(j.a)({},Xx.emptyQuestionCard),{},{id:h})]),x(h+1)},children:Object(a.jsx)(hO.a,{fontSize:"large"})}),Object(a.jsx)(et.a,{"data-testid":"remove-question-button",onClick:()=>{g.splice(t,1),p(O,!1),p(v,g)},disabled:!1,children:Object(a.jsx)(mO.a,{})}),Object(a.jsx)("p",{className:"separator"}),Object(a.jsx)("p",{children:"Required?"}),Object(a.jsx)(gc.a,{"data-testid":"custom-question-required",classes:{track:f.switch_track,switchBase:f.switch_base,colorPrimary:P.white},checked:!(null===i||void 0===i||!i.required),onChange:()=>p("".concat(v,"[").concat(t,"].required"),!(null!==i&&void 0!==i&&i.required))})]})]})})},t)};var PO=t(582),MO=t.n(PO);const BO=({productType:e,questions:n})=>{{const t=Object(r.useState)(n),s=Object(w.a)(t,2),i=s[0],c=s[1],o=Object(Ia.f)().setFieldValue,l="stalls"===e?"stallQuestions":"rvQuestions";Object(r.useEffect)((()=>{c(n)}),[n]);const d=Object(r.useCallback)(((e,n)=>{const t=i[e],a=MO()(i,{$splice:[[e,1],[n,0,t]]});o(l,a),c(a)}),[i]),u=(n,t)=>Object(a.jsx)(TO,{index:t,id:n.id,product:e,moveCard:d,question:n},t);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{children:i.map(((e,n)=>u(e,n)))})})}};var FO=t(328),LO=t(1236);const qO=()=>{const e=Object(Ia.f)().values,n=e.stalls,t=e.hasStalls,r=e.stallQuestions,s=Object(_.c)(pO),i=s.data,c=s.called,o=s.loading,l=s.error,d=!c||o||l?null:Object(Cs.a)(i,"venue.buildings"),u=rO().isStallsValid;return Fx(l)?Object(a.jsx)(H.a,{to:ae.LOGIN}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(LO.a,{backend:FO.a,children:[Object(a.jsx)(dO,{header:"Configure Stalls",scope:"hasStalls",product:"stalls"}),t&&Object(a.jsxs)("div",{"data-testid":"create-event-stalls",children:[Object(a.jsx)(BO,{productType:"stalls",questions:r}),n.map(((e,n)=>{const t="stall-rate-".concat(n);return Object(a.jsx)(IO,{renderLotNames:()=>null,renderReservables:()=>null,index:n,stallsPerBuilding:d,productType:"stalls"},t)}))]}),Object(a.jsx)(aO,{next:"rvs",nextLabel:"NEXT: ADD RV SPOTS",back:"details",backLabel:"BACK TO BASIC DETAILS",isValid:u})]})})},zO=({step:e,label:n})=>{const t=Object(Ia.f)(),r=t.values.step,s=t.setFieldValue,i=rO(),c=i.isDetailsValid,o=i.isStallsValid,l=i.isRvSpotsValid,d={details:[],stalls:["details"],rvs:["stalls","details"]},u={details:c,stalls:c&&o,rvs:c&&o&&l},p=()=>{b()&&r!==e&&s("step",e)},b=()=>u[e]||!1||(d[r]||[]).some((n=>n===e))||r===e;return Object(a.jsx)("a",{className:"breadcrumbs-item ".concat(b()?"":"disabled"," ").concat(r===e?"active":""),onClick:p,onKeyPress:p,tabIndex:0,role:"button",children:n})},YO=()=>Object(a.jsxs)("div",{className:"breadcrumbs",children:[Object(a.jsx)(zO,{label:"BASIC DETAILS",step:"details"}),Object(a.jsx)(zO,{label:"STALLS",step:"stalls"}),Object(a.jsx)(zO,{label:"RV SPOTS",step:"rvs"})]}),VO=()=>{const e=Object(Ia.f)(),n=e.touched,t=e.isSubmitting,r=e.setFieldValue,s=e.isValid,i=e.dirty,c=e.values,o=c.isLoading,l=c.hasEmptyRvAnswer,d=c.hasEmptyStallAnswer,u=Object(H.g)().push;return Object(a.jsxs)("div",{className:"sub-nav",children:[Object(a.jsx)(YO,{}),Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsx)("div",{className:"actions-item",children:Object(a.jsx)(Yn,{secondary:!0,disabled:!n,onClick:()=>{if(i){confirm("are you sure you want to discard unsaved changes?")&&u(ne.ADMIN.EVENTS)}else u(ne.ADMIN.EVENTS)},children:"Cancel"})}),Object(a.jsx)("div",{className:"actions-item",children:Object(a.jsx)(Yn,{onClick:e=>{e.preventDefault(),window.scrollTo(0,0),r("step","review")},primary:!0,isLoading:o||t,disabled:o||t||!s||l||d,children:"REVIEW & SAVE"})})]})]})},UO=({rvLots:e,name:n,inputId:t})=>{const s=Object(Ia.f)(),i=s.values,c=s.setFieldValue,o=Object(Cs.a)(i,n),l=i.rvs,d=i.hasRvs,u=Object(r.useMemo)((()=>e.map((({id:e,name:n})=>Object(a.jsx)(hp.a,{value:e,children:n},e)))),[JSON.stringify(e),n,JSON.stringify(l)]);return Object(r.useEffect)((()=>{const n=Object(Cs.a)(i,"rvs[".concat(t,"]"),{});if(o){const a=e.find((e=>n.rvLotId&&e.id===n.rvLotId));a&&c("rvs[".concat(t,"]"),Object(j.a)(Object(j.a)({},n),{},{rvLot:Object(j.a)({},a)}))}else c("rvs[".concat(t,"]"),Object(j.a)(Object(j.a)({},n),{},{rvLot:void 0}))}),[o]),Object(a.jsx)("div",{className:"select-field",children:Object(a.jsxs)(Sa.a,{children:[Object(a.jsx)(vc.a,{htmlFor:n,children:"\xa0"}),Object(a.jsx)(Ia.a,{as:"select",name:n,render:e=>{let n=e.meta,t=void 0===n?{}:n,r=Object(kn.a)(e,["meta"]);return Object(a.jsx)(Kn.a,Object(j.a)(Object(j.a)({},r),{},{meta:t,error:t.touched&&t.error?t.error:null,disabled:!d,helperText:t.touched&&t.error?t.error:null,children:u}))}})]})})},WO=({rvLotId:e,rvLots:n,name:t})=>{var s;const i=Object(Ia.f)(),c=i.setFieldValue,o=i.values,l=Object(r.useMemo)((()=>n.find((({id:n})=>e&&n===e))),[e,JSON.stringify(n)]),d=l?null===(s=l.availableRVSpots)||void 0===s?void 0:s.sort(((e,n)=>e&&n?e.name.localeCompare(n.name,"en",{numeric:!0}):0)):[],u=Object(Cs.a)(o,t,[]),p=Object(r.useState)([]),b=Object(w.a)(p,2),m=b[0],j=b[1],h=Object(r.useCallback)((e=>()=>{const n=u.some((n=>n&&n===e))?[...u.filter((n=>n!==e))]:[...u,e];c(t,n)}),[JSON.stringify(m)]),x=Object(r.useMemo)((()=>m.reduce(((e,n)=>n.selected?e+1:e),0)),[JSON.stringify(m)]),O=l&&x===l.availableRVSpots.length,g=()=>{const e=d.map((({id:e})=>e));c(t,e)},v=()=>{c(t,[])};Object(r.useEffect)((()=>{const e=d.map((({id:e,name:n})=>{const t=u.find((n=>n&&e===n));return{id:e,name:n,selected:Boolean(t)}}));j(e)}),[JSON.stringify(d),JSON.stringify(u)]);const f=Object(r.useMemo)((()=>m.map((({id:e,name:n,selected:t})=>Object(a.jsxs)("div",{className:"rv-item ".concat(t?"":"inactive"," "),onClick:o.hasRvs?h(e):void 0,onKeyPress:o.hasRvs?h(e):void 0,tabIndex:0,role:"button",children:[Object(a.jsx)("div",{children:n})," ",Object(a.jsx)("div",{children:t?Object(a.jsx)(Rj.a,{}):Object(a.jsx)(OO.a,{})})]},e)))),[JSON.stringify(m)]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"reservable-actions",children:[Object(a.jsx)(jr,{label:"Reservable Spots ".concat(l?"(".concat(x,")"):"")}),Object(a.jsx)("a",{className:"action ".concat(l&&0!==x?"":"disabled"),onClick:o.hasRvs?v:void 0,onKeyPress:o.hasRvs?v:void 0,tabIndex:0,role:"button",children:"DESELECT ALL"}),Object(a.jsx)("a",{className:"action ".concat(l?O?"disabled":"":"disabled"),onClick:o.hasRvs?g:void 0,onKeyPress:o.hasRvs?g:void 0,tabIndex:0,role:"button",children:"SELECT ALL"})]}),Object(a.jsx)("div",{className:"select-spots",children:l?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"selected-items-count",children:[l.name," (",x,"/",l.availableRVSpots.length,")"]}),f]}):Object(a.jsxs)("div",{className:"empty-rv-selection",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:td,alt:"RV Spots"})}),Object(a.jsx)("div",{children:"Select an RV Lot to set reservable spots"})]})})]})};var QO;const GO=L()(QO||(QO=Object(k.a)(["\n  query venue($id: ID) {\n    venue(id: $id) {\n      rvLots {\n        id\n        name\n        description\n        sewer\n        water\n        power\n        availableRVSpots {\n          id\n          name\n          description\n        }\n      }\n    }\n  }\n"]))),HO=()=>{const e=Object(Ia.f)().values,n=e.hasRvs,t=e.rvQuestions,s=e.rvs,i=void 0===s?[]:s,c=Object(r.useContext)(g).user.venues,o=void 0===c?[]:c,l=Object(w.a)(o,1)[0].id,d=Object(_.a)(GO),u=Object(w.a)(d,2),p=u[0],b=u[1],m=b.data,j=b.error,h=Object(r.useMemo)((()=>m?m.venue.rvLots:[]),[JSON.stringify(m)]);if(Object(r.useEffect)((()=>{l&&p({variables:{id:l}})}),[l]),Fx(j))return Object(a.jsx)(H.a,{to:ae.LOGIN});const x=i.map(((e,n)=>Object(a.jsx)(IO,{index:n,productType:"rvs",stallsPerBuilding:null,renderLotNames:()=>{return e=n,Object(a.jsx)("div",{className:"rvs-spots-form",children:Object(a.jsx)("div",{className:"spot-details",children:Object(a.jsxs)("div",{className:"lot-select",children:[Object(a.jsx)(jr,{label:"Lot"}),Object(a.jsx)(UO,{inputId:e,rvLots:h,name:"rvs[".concat(e,"].rvLotId")})]})})});var e},renderReservables:()=>((e,n)=>Object(a.jsx)("div",{className:"rvs-spots-form",children:Object(a.jsx)("div",{className:"reservable-spots",children:Object(a.jsx)(WO,{rvLots:h,rvLotId:e.rvLotId,name:"rvs[".concat(n,"].spots")})})}))(e,n)},n)));return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(LO.a,{backend:FO.a,children:[Object(a.jsx)(dO,{header:"Configure RV Spots",scope:"hasRvs",product:"rvs"}),n&&Object(a.jsxs)("div",{"data-testid":"create-event-rvs",children:[Object(a.jsx)(BO,{productType:"rvs",questions:t}),x]}),Object(a.jsx)(aO,{back:"stalls",backLabel:"BACK TO STALLS",showSubmit:!0})]})})};var KO;var ZO=Object(E.b)((({className:e})=>{const n=Object(Ia.f)(),t=n.setFieldValue,r=n.submitForm,s=Object(Ia.f)(),i=s.isSubmitting,c=s.isValid;return Object(a.jsxs)("div",{className:"".concat(e," edit-and-save"),children:[Object(a.jsx)(Yn,{secondary:!0,className:"edit",onClick:e=>{e.preventDefault(),t("step","details")},children:"Edit"}),Object(a.jsx)(Yn,{primary:!0,className:"save",onClick:Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),isLoading:i,disabled:i||!c,children:"Save"})]})}))(KO||(KO=Object(k.a)(["\n  & {\n    display: inline-flex;\n\n    .edit {\n      margin-right: 20px;\n    }\n  }\n"])));const XO=(e,n)=>{n instanceof Date&&(n=function(e){const n=e.toLocaleTimeString().split(" "),t=n[0].split(":").slice(0,2).join(":");return"".concat(t," ").concat(n[1])}(n));const t=n.toLowerCase();if(-1!==t.indexOf("pm")){const n=t.split("pm");let a=Object(w.a)(n,1)[0].split(":"),r=Object(w.a)(a,2),s=r[0],i=r[1];s=parseInt(s,10);let c=12===s?12:s+12;const o=i.trim();return"".concat(e,"T").concat(c,":").concat(o)}const a=t.split("am");let r=Object(w.a)(a,1)[0].split(":"),s=Object(w.a)(r,2),i=s[0],c=s[1];i=parseInt(i,10);let o=i<10?"0".concat(i):i;const l=c.trim();return"".concat(e,"T").concat(o,":").concat(l)},JO=(e,n)=>{const t=XO(e.startDate,n),a=new Date(t);return Hr()(a).format("h:mma")},$O=(e,n)=>{const t=XO(e.endDate,n),a=new Date(t);return Hr()(a).format("h:mma")};var eg=({formikValues:e})=>{const n=e.eventName,t=e.eventDescription,r=e.eventDates,s=e.checkInTime,i=e.checkOutTime,c=e.bookingWindow,o=e.openTime,l=e.closeTime,d=e.agreements,u=e.venueAgreement,p=e.maps,b=e.venueMap,m=d.find((e=>u&&e.id===u)),j=p.find((e=>b&&e.id===b));return Object(a.jsxs)(Pi,{title:"Basic Details",testId:"review-basic-details",children:[Object(a.jsxs)("div",{className:"info-row",children:[Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("h3",{children:"Event Name"}),Object(a.jsx)("span",{className:"info",children:n})]}),Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("h3",{children:"Check In Time"}),Object(a.jsx)("span",{className:"info",children:JO(r,s)})]}),Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("h3",{children:"Check Out Time"}),Object(a.jsx)("span",{className:"info",children:$O(r,i)})]}),Object(a.jsx)("div",{className:"info-item",children:m&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Venue Agreement"}),Object(a.jsx)("span",{className:"info",children:Object(a.jsx)("a",{href:m.url,target:"_blank",rel:"noreferrer",children:m.name})})]})}),Object(a.jsx)("div",{className:"info-item",children:j&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Venue Map"}),Object(a.jsx)("span",{className:"info",children:Object(a.jsx)("a",{href:j.url,target:"_blank",rel:"noreferrer",children:j.name})})]})})]}),Object(a.jsxs)("div",{className:"info-row",children:[Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("h3",{children:"Reservable Dates"}),Object(a.jsx)("span",{className:"info",children:"".concat(Hr()(r.startDate).format("MM/DD/YY")," \u2013 ").concat(Hr()(r.endDate).format("MM/DD/YY"))})]}),Object(a.jsxs)("div",{className:"info-item booking-info",children:[Object(a.jsx)("h3",{children:"Online Booking Window"}),Object(a.jsx)("span",{className:"info",children:"".concat(Hr()("".concat(c.startDate," ").concat(o)).format("MM/DD/YY, hh:mm a")," \u2013 ").concat(Hr()("".concat(c.endDate," ").concat(l)).format("MM/DD/YY, hh:mm a"))})]}),Object(a.jsxs)("div",{className:"info-item-event-description",children:[Object(a.jsx)("h3",{children:"Event Description"}),Object(a.jsx)("span",{className:"info".concat(t?"":" default-description"),children:t||"No event description"})]})]})]})};var ng=({formikValues:e})=>{const n=e.stalls,t=e.stallQuestions,r=e.stallFlip;return Object(a.jsxs)(Pi,{title:"Stalls",flip:r,product:"Stall",testId:"review-stalls",children:[Object(a.jsx)("div",{className:"info-row",children:n.length&&n.map((e=>{const n=e.stallsForThisRate.length;return Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("h3",{children:e.name}),Object(a.jsxs)("div",{className:"info",children:[Hr()(e.dateRange.startDate).format("MM/DD/YY")," \u2013 ",Hr()(e.dateRange.endDate).format("MM/DD/YY")]}),Object(a.jsxs)("div",{className:"info",children:["nightly"===e.pricing?"Nightly":"Flat"," Rate \u2013 $",e.price]}),Object(a.jsxs)("div",{className:"info",children:[n," ","stall".concat(n>1?"s":"")]})]},e.name)}))}),Object(a.jsx)("div",{className:"info-questions",children:!!t.length&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Custom Questions"}),t.map((e=>Object(a.jsxs)("div",{className:"info-question-bloc info",children:[Object(a.jsx)("p",{className:"info-question",children:e.question}),Object(a.jsx)("ul",{className:"info-answers",children:"openText"!==e.questionType&&e.answerOptions.map((e=>Object(a.jsx)("li",{children:e.text},e.id)))})]},e.id)))]})})]})};var tg=({formikValues:e})=>{const n=e.rvs,t=e.rvQuestions,r=e.rvFlip;return Object(a.jsxs)(Pi,{title:"RV Spots",flip:r,product:"RV",testId:"review-rvs",children:[Object(a.jsx)("div",{className:"info-row",children:n.length>0&&n.map((e=>{const n=e.spots.length;return Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("h3",{children:e.rvLot.name}),Object(a.jsxs)("div",{className:"info",children:[Hr()(e.dateRange.startDate).format("MM/DD/YY")," \u2013 ",Hr()(e.dateRange.endDate).format("MM/DD/YY")]}),Object(a.jsxs)("div",{className:"info",children:["nightly"===e.pricing?"Nightly":"Flat"," Rate \u2013 $",e.price]}),Object(a.jsxs)("div",{className:"info",children:[n," ",1===n?"spot":"spots"]})]},e.rvLot.id)}))}),Object(a.jsx)("div",{className:"info-questions",children:!!t.length&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Custom Questions"}),t.map((e=>Object(a.jsxs)("div",{className:"info-question-bloc info",children:[Object(a.jsx)("p",{className:"info-question",children:e.question}),Object(a.jsx)("ul",{className:"info-answers",children:"openText"!==e.questionType&&e.answerOptions.map((e=>Object(a.jsx)("li",{children:e.text},e.id)))})]},e.id)))]})})]})};var ag,rg=({formikValues:e})=>{const n=e.addOns,t=void 0===n?[]:n;return Object(a.jsx)(Pi,{title:"Add Ons",testId:"review-addons",children:Object(a.jsx)("div",{className:"info-row",children:t.map((e=>Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("h3",{className:"capitalize",children:e.name}),Object(a.jsx)("div",{className:"info",children:"$".concat(e.price," / ").concat(e.unitName)})]},e.id)))})})};var sg,ig=Object(E.b)((({className:e})=>{const n=Object(Ia.f)().values,t=n.eventName,r=n.hasStalls,s=n.hasRvs,i=n.addOns;return t?Object(a.jsxs)("div",{className:e,children:[Object(a.jsxs)("div",{className:"title-wrapper",children:[Object(a.jsx)("div",{className:"title",children:"REVIEW EVENT DETAILS"}),Object(a.jsx)(ZO,{})]}),Object(a.jsxs)("div",{className:"event-review-content-wrapper",children:[Object(a.jsx)(eg,{formikValues:n}),r&&Object(a.jsx)(ng,{formikValues:n}),s&&Object(a.jsx)(tg,{formikValues:n}),i.length>0&&Object(a.jsx)(rg,{formikValues:n})]}),Object(a.jsx)("div",{className:"bottom-buttons-wrapper",children:Object(a.jsx)(ZO,{})})]}):""}))(ag||(ag=Object(k.a)(["\n  &&& {\n    .title-wrapper {\n      display: flex;\n      justify-content: space-between;\n\n      .title {\n        display: inline-flex;\n      }\n\n      .edit-and-save {\n        margin-top: 35px;\n      }\n    }\n\n    .event-review-content-wrapper {\n      margin-top: -30px;\n    }\n\n    .card-item {\n      h2 {\n        margin-top: -10px;\n      }\n\n      .info-row {\n        display: flex;\n        margin: 0 0 35px 0;\n        padding: 0;\n      }\n\n      .info-questions {\n        .info-question-bloc {\n          .info-question {\n            margin: 0;\n          }\n          .info-answers {\n            margin: 5px 0 0;\n          }\n        }\n\n        .info-question-bloc:not(:last-child) {\n          margin-bottom: 35px;\n        }\n      }\n\n      .info-item {\n        display: block;\n        width: calc(25% - 55px);\n        max-width: 225px;\n        margin-right: 55px;\n      }\n\n      .info-item.booking-info {\n        max-width: 350px;\n        width: 100%;\n      }\n\n      .info-item-event-description {\n        display: block;\n        min-width: 50%;\n        max-width: calc(90% - 560px);\n      }\n\n      h3 {\n        display: block;\n        font-family: IBMPlexSans-Bold, Roboto, Helvetica, Arial, sans-serif;\n        font-size: 18px;\n        margin: 0;\n      }\n\n      .info {\n        display: block;\n        font-family: IBMPlexSans-Regular, Roboto, Helvetica, Arial, sans-serif;\n        font-size: 16px;\n        margin: 5px 0;\n      }\n\n      .default-description {\n        font-style: italic;\n        color: ",";\n      }\n\n      .capitalize {\n        text-transform: capitalize;\n      }\n    }\n\n    .card-item:first-child {\n      margin-top: 0;\n    }\n\n    .bottom-buttons-wrapper {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: -20px;\n      margin-bottom: 25px;\n    }\n  }\n"])),P.text.secondary);const cg=L()(sg||(sg=Object(k.a)(["\n  mutation createEvent($input: EventUpsertInput) {\n    createEvent(input: $input) {\n      event {\n        id\n      }\n      success\n      error\n    }\n  }\n"]))),og=({rvs:e})=>e.map((e=>{var n,t;return{description:"",endDate:(null===(n=e.dateRange)||void 0===n?void 0:n.endDate)||"",name:e.rvLot?e.rvLot.name:"",price:Number(e.price),nightly:"nightly"===e.pricing,rvLotId:e.rvLotId,rvSpots:e.spots,startDate:(null===(t=e.dateRange)||void 0===t?void 0:t.startDate)||""}})),lg=e=>{const n=e.stallQuestions.map(((e,n)=>(e.listOrder=n,delete e.id,e.answerOptions=e.answerOptions.map((e=>e.text)),e))),t=e.rvQuestions.map(((e,n)=>(e.listOrder=n,delete e.id,e.answerOptions=e.answerOptions.map((e=>e.text)),e)));return{checkInTime:e.checkInTime,checkOutTime:e.checkOutTime,closeDate:e.bookingWindow.endDate&&e.closeTime?Hr.a.utc("".concat(e.bookingWindow.endDate," ").concat(e.closeTime)):"",openDate:e.bookingWindow.startDate&&e.openTime?Hr.a.utc("".concat(e.bookingWindow.startDate," ").concat(e.openTime)):"",endDate:e.eventDates.endDate?e.eventDates.endDate:"",name:e.eventName,description:e.eventDescription,startDate:e.eventDates.startDate?e.eventDates.startDate:"",venueAgreementDocumentId:e.venueAgreement,venueMapDocumentId:e.venueMap||null,stallProducts:e.hasStalls?(r=e.stalls,r.map((e=>({description:"",endDate:e.dateRange.endDate||"",name:e.name,nightly:"nightly"===e.pricing,price:Number(e.price),stalls:e.stallsForThisRate,startDate:e.dateRange.startDate||""})))):void 0,stallQuestions:n,rvProducts:e.hasRvs?og(e):void 0,rvQuestions:t,stallFlip:e.stallFlip,rvFlip:e.rvFlip,addOnProducts:e.addOns.length?(a=e.addOns,a.map(((e={})=>({addOnId:e.id,price:Number(e.price?e.price:0)})))):void 0};var a,r},dg=({children:e,className:n,isLoading:t})=>{const s=Object(Ia.f)().setFieldValue;return Object(r.useEffect)((()=>{s("isLoading",t)}),[t]),Object(a.jsx)("form",{className:n,children:e})};var ug,pg,bg=(ug=({className:e=""})=>{var n;const t=Object(_.b)(cg),s=Object(w.a)(t,2),i=s[0],c=s[1],o=c.data,l=c.called,d=c.loading,u=c.error,p=Object(r.useContext)(N).showSnackbar,b=null===o||void 0===o||null===(n=o.createEvent)||void 0===n?void 0:n.error,m=Object(H.g)().push,j=Object(r.useMemo)((()=>Object(Cs.a)(o,"createEvent.event.id",null)),[JSON.stringify(o)]);return Object(r.useEffect)((()=>{j&&p("Event created successfully",{error:!1,duration:5e3})}),[j]),Object(r.useEffect)((()=>{b&&p("".concat(b),{error:!0})}),[b]),Object(r.useEffect)((()=>{u&&((u.message||"").match(/Unauthenticated/i)?(p("Unauthenticated user",{duration:4e3,error:!0}),setTimeout((()=>m(ae.LOGIN)),4e3)):p("Something went wrong",{error:!0}))}),[u]),j?Object(a.jsx)(H.a,{to:ne.ADMIN.EVENTS}):Object(a.jsx)(Ia.c,{initialValues:Xx.initialValues,validationSchema:Xx.ValidationSchema,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{input:lg(n)}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:({values:{step:n=""}})=>Object(a.jsx)(dg,{className:e,isLoading:l&&d,children:"review"===n?Object(a.jsx)(ig,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"title",children:"CREATE EVENT"}),Object(a.jsx)(VO,{}),"details"===n&&Object(a.jsx)(sO,{}),"stalls"===n&&Object(a.jsx)(qO,{}),"rvs"===n&&Object(a.jsx)(HO,{})]})})})},Object(E.b)(ug)(_x||(_x=Object(k.a)(["\n  & {\n    ","\n    flex-direction: column;\n\n    .title {\n      color: ",";\n      font-family: 'IBMPlexSans-SemiBold';\n      font-size: 41px;\n      letter-spacing: 1.24px;\n      line-height: 50px;\n      text-align: left;\n      margin: 25px 0 50px;\n    }\n\n    .sub-nav {\n      ","\n      flex-flow: row;\n    }\n    \n\n    .breadcrumbs,\n    .actions {\n      width: 50%;\n    }\n\n    .breadcrumbs {\n      color: ",";\n      font-family: 'IBMPlexSans-SemiBold';\n      font-size: 22px;\n      letter-spacing: 0.97px;\n      line-height: 25px;\n      ","\n    }\n\n    .breadcrumbs-item {\n      margin-left: 30px;\n      color: ",";\n      &:hover {\n        cursor: pointer;\n      }\n    }\n\n    .breadcrumbs-item:first-child {\n      margin-left: unset;\n    }\n\n    .breadcrumbs-item.active {\n      color: ",";\n      border-bottom: 4px solid ",";\n    }\n\n    .breadcrumbs-item.disabled {\n      color: ",";\n      &:hover {\n        cursor: default;\n      }\n    }\n\n\n    .actions {\n      ","\n      flex-direction: row;\n      justify-content: flex-end;\n    }\n\n    .actions-item {\n      margin-right: 30px;\n    }\n\n    .actions-item:last-child {\n      margin-right: unset;\n    }\n\n    .MuiCard-root.card-item {\n      margin: 25px 0 0;\n      ","\n      flex-flow: column;\n\n      .heading {\n        ","\n        justify-content: space-between;\n        flex-direction: row;\n        border-bottom: 1px solid ",';\n        margin: 0 0 20px;\n\n        a {\n          padding: 3px 0;\n          color: #2875C3;\n          font-family: "IBMPlexSans-Regular";\n          font-size: 15px;\n          letter-spacing: 1.05px;\n          line-height: 17px;\n\n          svg {\n            position: relative;\n            top: 6px;\n          }\n          &:hover {\n            cursor: pointer;\n          }\n        }\n      }\n    }\n\n    .card-item:last-child {\n      margin-bottom: 45px;\n    }\n\n    .card-item.disabled {\n      margin-bottom: 45px;\n      opacity: 0.3;\n    }\n\n    .card-item.add-rv-lot-card {\n      margin-top: 20px;\n    }\n\n    .card-row {\n      ',"\n      flex-flow: row;\n    }\n\n    .card-col {\n      width: 50%;\n      padding-right: 20px;\n\n      h4 {\n        margin-bottom: 20px;\n      }\n\n      &.right-col {\n        h4 {\n          margin-left: 50px;\n        }\n      }\n\n      .optional-text {\n        ","\n        flex-direction: row;\n        justify-content: space-between;\n\n        div {\n          font-family: 'IBMPlexSans-Regular';\n          font-size: 16px;\n          letter-spacing: 0;\n          line-height: 25px;\n        }\n      }\n\n      p {\n        margin-top: 0;\n        margin-bottom: 20px;\n        font-size: 16px;\n        letter-spacing: 0;\n        line-height: 25px;\n      }\n\n      .MuiFormControl-root {\n        margin-top: 0px;\n      }\n    }\n\n    .card-inner-row {\n      ","\n      flex-direction: row;\n\n      .card-span {\n        width: 285px;\n        margin-right: 20px;\n        margin-left: 50px;\n      }\n    }\n\n    .time-picker {\n      width: 285px;\n    }\n\n    .card-row.addOn {\n      .card-select {\n        .MuiFormControl-root {\n          width: 320px;\n          margin-top: 22px;\n          margin-right: 40px;\n\n          label {\n            padding-left: 14px;\n            padding-top: 5px;\n          }\n        }\n      }\n\n      .remove-addOn {\n        svg {\n          position: relative;\n          top: 5px;\n        }\n      }\n\n      .MuiFormControl-root.unit-price {\n        width: 138px;\n        margin-right: 25px;\n\n        .MuiFilledInput-input {\n          height: 21px;\n        }\n      }\n\n      .MuiInput-input {\n        width: 285px;\n      }\n\n      a {\n        color: ",";\n        font-size: 15px;\n        letter-spacing: 1.05px;\n        line-height: 17px;\n        margin-top: 40px;\n      }\n      a:hover {\n        cursor: pointer;\n      }\n    }\n\n    .bottom-navigation {\n      ","\n      flex-direction: row;\n      justify-content: space-between;\n      margin: 20px 0;\n\n      &.solo {\n        justify-content: flex-end;\n      }\n\n      .next.MuiButtonBase-root {\n        background: ",";\n        width: 173px;\n        box-shadow: none;\n      }\n\n      .next.Mui-disabled {\n        opacity: 0.3;\n      }\n\n      a {\n        font-size: 15px;\n        letter-spacing: 1.05px;\n        line-height: 17px;\n         &:hover {\n           cursor: pointer;\n         }\n      }\n    }\n\n    .add-stalls {\n      ","\n      flex-direction: row;\n      flex-grow: 1;\n\n      .available-label {\n        font-size: 16px;\n        font-weight: bold;\n        letter-spacing: 0.7px;\n        line-height: 25px;\n        margin-top: 8px;\n        flex: 1;\n        font-family: 'IBMPlexSans-Bold';\n      }\n\n      a {\n        height: 17px;\n        font-size: 15px;\n        letter-spacing: 1.05px;\n        line-height: 17px;\n        &:hover {\n          cursor: pointer;\n        }\n      }\n\n      .skip {\n        self-align: flex-end;\n        margin-top: 10px;\n        &.disabled {\n          a {\n            color: ",";\n            &:hover {\n              cursor: default;\n            }\n          }\n        }\n      }\n    }\n\n    .file-uploads {\n      display: flex;\n    }\n\n    .venue-agreement {\n      width: 50%;\n      .select-venue-agreement {\n        margin-left: 50px;\n        .MuiFormControl-root {\n          width: 285px;\n        }\n      }\n\n      .upload-venue-agreement {\n        margin-top: 5px;\n        margin-left: 50px;\n        font-size: 16px;\n        letter-spacing: 0;\n        line-height: 25px;\n        label {\n          color: ",";\n          &:hover {\n            cursor: pointer;\n          }\n        }\n      }\n\n      .agreement-input {\n        display: none;\n      }\n    }\n\n    .rvs-spots-form {\n      ","\n      flex-flow: row nowrap;\n      justify-content: space-between;\n      justify-content: end;\n\n      h4 {\n        color: ",";\n        font-family: 'IBMPlexSans-SemiBold';\n        font-size: 22px;\n        letter-spacing: 0.97px;\n        line-height: 25px;\n        margin: 0 0 10px;\n      }\n\n      .spot-details {\n        width: 100%;\n        .select-field {\n          .MuiFormControl-root {\n            width: 100%;\n            border-radius: 5px 5px 0 0;\n            background-color: #f2f4f7;\n          }\n        }\n\n        .available-date-range {\n          margin-top: 30px;\n          font-family: 'IBMPlexSans-Regular';\n          font-size: 16px;\n          font-style: italic;\n          letter-spacing: 0;\n          line-height: 25px;\n        }\n\n        .pricing {\n          margin-top: 25px;\n          .MuiTextField-root {\n            width: 267px;\n            margin-top: 0;\n          }\n        }\n      }\n\n      .reservable-spots {\n        width: 95%;\n\n        .select-spots {\n          height: 330px;\n          width: 100%;\n          border-radius: 5px;\n          background-color: ",";\n          margin-top: 4px;\n          ","\n          flex-flow: row wrap;\n          justify-content: flex-start;\n          padding: 20px 40px;\n          overflow: auto;\n          overflow-x: hidden;\n\n          .selected-items-count {\n            width: 100%;\n            color: ",";\n            font-family: 'IBMPlexSans-Regular';\n            font-size: 16px;\n            letter-spacing: 0.7px;\n            line-height: 20px;\n            padding-bottom: 15px;\n            margin-bottom: 15px;\n            border-bottom: 1px solid ",";\n          }\n        }\n\n        .empty-rv-selection {\n          color: ",";\n          font-family: 'IBMPlexSans-Regular';\n          font-size: 16px;\n          letter-spacing: 0;\n          line-height: 25px;\n          text-align: center;\n          padding-top: 115px;\n          padding-left: 20px;\n          width: 100%;\n          ","\n          flex-direction: column;\n\n          img {\n            width: 47px;\n          }\n        }\n\n        .reservable-actions {\n          ","\n          flex-direction: row;\n          justify-content: flex-start;\n          flex-grow: 1;\n          margin-top: -7px;\n\n          h4 {\n            width: 50%;\n            flex: 1;\n          }\n\n          a {\n            margin-top: 4px;\n          }\n\n          .action {\n            color: ",";\n            font-family: 'IBMPlexSans-Regular';\n            font-size: 15px;\n            letter-spacing: 1.05px;\n            line-height: 17px;\n            margin-left: 25px;\n\n            &:hover {\n              cursor: pointer;\n            }\n\n            &.disabled {\n              color: ",";\n              &:hover {\n               cursor: default;\n              }\n            }\n          }\n        }\n        .rv-item {\n          box-sizing: border-box;\n          height: 36px;\n          width: 103px;\n          border: 1px solid ",";\n          border-radius: 3px;\n          background-color: ",";\n          color: ",";\n          font-family: 'IBMPlexSans-Regular';\n          font-size: 16px;\n          letter-spacing: 0.7px;\n          line-height: 20px;\n          padding-top: 4px;\n          ","\n          flex-flow: row nowrap;\n          justify-content: space-between;\n          margin: 6px;\n\n          &:hover {\n            cursor: pointer;\n          }\n\n          div {\n            margin: 5px;\n          }\n\n          &.inactive {\n            border: 1px solid ",";\n            color: ",";\n            background: transparent;\n          }\n\n          svg {\n            position: relative;\n            top: -4px;\n          }\n        }\n      }\n    }\n\n    .add-rv-lot {\n      color: ",";\n      text-align: center;\n      font-size: 16px;\n      font-weight: bold;\n      letter-spacing: 0.7px;\n      line-height: 25px;\n      position: relative;\n      top: 5px;\n      font-family: 'IBMPlexSans-Bold';\n\n      &.disabled {\n        color: ",";\n      }\n      &:hover {\n        cursor: pointer;\n      }\n\n      svg {\n        position: relative;\n        top: 6px;\n      }\n    }\n\n    *:focus {\n      outline: none;\n    }\n  }\n\n  .DateRangePicker,\n  .DateRangePickerInput {\n    width: 320px;\n  }\n  &&&& {\n    .MuiFormControl-root {\n      background: ",";\n      height: 56px;\n      border-radius: 5px 5px 0 0;\n      background-color: ",";\n\n      .MuiSelect-selectMenu {\n        padding: 10px;\n\n        &:focus {\n         background-color: ",";\n        }\n      }\n\n      svg {\n        color: ",";\n      }\n    }\n\n    .card-col.description {\n      margin-bottom: 40px;\n      .MuiFilledInput-multiline {\n        height: 56px;\n        padding-top: 60px;\n      }\n    }\n\n    fieldset.MuiFormControl-root {\n      background: transparent;\n    }\n\n    .pricing-fields {\n      ","\n      flex-direction: column;\n    }\n    .labels {\n      ","\n      color: ",";\n      flex-direction: row;\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 12px;\n      justify-content: flex-start;\n      letter-spacing: 0;\n      line-height: 16px;\n      padding: 0 10px;\n      text-transform: uppercase;\n      width: 320px;\n\n      & div:first-child {\n        width: 213px;\n      }\n    }\n    .stalls {\n      .labels div:first-child {\n        width: 130px;\n      }\n    }\n\n    .pricing-fields {\n      svg {\n        color: ",";\n      }\n    }\n  }\n"])),Ke,P.text.primary,Ke,P.text.primary,Ke,P.text.primary,P.border.tertiary,P.border.tertiary,P.text.secondary,Ke,Ke,Ke,P.border.primary,Ke,Ke,Ke,P.border.tertiary,Ke,P.background.primary,Ke,P.text.lightGray,P.text.link,Ke,P.text.primary,P.background.primary,Ke,P.text.primary,P.border.primary,P.text.secondary,Ke,Ke,P.text.link,P.text.lightGray2,P.border.secondary,P.border.secondary,P.white,Ke,P.text.lightGray2,P.text.lightGray2,P.text.link,P.text.lightGray,P.background.primary,P.background.primary,P.background.primary,P.primary,Ke,Ke,P.text.lightGray2,P.text.lightGray2));const mg=Object(E.b)((e=>{const n=e.className;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{className:n,children:[Object(a.jsx)(tu,{}),Object(a.jsx)(bg,{})]})})}))(pg||(pg=Object(k.a)(["\n  margin: 85px 50px 50px;\n"])));var jg=Object(se.a)(H.j)(Object(r.memo)(mg));var hg,xg=({className:e})=>{const n=Object(H.i)().eventId;return Object(a.jsxs)("div",{className:e,children:["EditEvent ID:",n]})};const Og=Object(E.b)((e=>{const n=e.className;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{className:n,children:[Object(a.jsx)(tu,{}),Object(a.jsx)(xg,{})]})})}))(hg||(hg=Object(k.a)(["\n  margin: 85px 50px 50px;\n  .header {\n    text-align: left;\n    margin: 0 0 20px;\n  }\n"])));var gg,vg=Object(se.a)(H.j)(Object(r.memo)(Og));const fg=E.b.hr(gg||(gg=Object(k.a)(["\n  margin: ",";\n  border: none;\n  border-top: 1px solid ",";\n"])),(e=>e.margin||"1.375rem 0"),P.border.primary);var yg;const Ag=L()(yg||(yg=Object(k.a)(["\n  mutation updateOrder($input: UpdateOrderInput!) {\n    updateOrder(input: $input) {\n      error\n      success\n    }\n  }\n"]))),wg=Object(re.a)(Ag,{props:({mutate:e})=>({updateOrder:n=>e({variables:{input:n}})}),options:e=>({onCompleted:function(){var n=Object(O.a)(x.a.mark((function n(t){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.updateOrder||!t.updateOrder.error){n.next=3;break}return Cd(e.showSnackbar,t.updateOrder.error,t.updateOrder.error),n.abrupt("return");case 3:e.history.push(ne.ADMIN.ORDERS),e.showSnackbar("Order successfully updated");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onError:function(){var n=Object(O.a)(x.a.mark((function n(t){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cd(e.showSnackbar,"There was an error updating the order",t);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})});var Ng,Sg=Object(se.a)(H.j,D,wg);var Ig,Cg=Object(E.b)((function(e){const n=e.className,t=e.adminNotes,s=e.setAdminNotes,i=e.isReview,c=void 0!==i&&i,o=e.lastSavedNote,l=e.setLastSavedNote,d=e.isOpen,u=e.setIsOpen,p=e.isEdit,b=Object(Ia.f)().values.initialOrder,m=Object(r.useContext)(N).showSnackbar,j=Object(_.b)(Ag),h=Object(w.a)(j,2),g=h[0],v=h[1],f=v.data,y=v.called,A=v.loading,S=v.error;Object(r.useEffect)((()=>{p&&(s(t||b.adminNotes),l(o||b.adminNotes))}),[p]),Object(r.useEffect)((()=>{f?m("Admin notes successfully saved",{error:!1,duration:5e3}):S&&m(S.message||"Unable to save admin notes",{error:!0,duration:5e3})}),[f,S]);const I=function(){var e=Object(O.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={orderId:b.id,refundPayment:!1,adminNotes:t,reservations:[],addOns:[],assignments:[]},e.next=3,g({variables:{input:n}});case 3:S||(u(!1),l(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{"data-testid":"card_admin_notes",className:"".concat(n,"__").concat(p?"":"is-review"),children:[Object(a.jsx)("div",{className:"".concat(n,"__notes-header"),children:!p&&Object(a.jsx)(br,{label:"Admin Notes"})}),Object(a.jsx)(fg,{margin:"0.625rem 0 1.375rem"}),Object(a.jsx)("div",{className:"".concat(n,"__row "),children:Object(a.jsx)("div",{className:"".concat(n,"__").concat(c?"highlighted":""),children:d?Object(a.jsxs)(a.Fragment,{children:[o!==t&&p&&Object(a.jsx)(co,{}),Object(a.jsx)(Ia.a,{id:"admin-notes-field",component:Zn,label:"ADMIN NOTES",type:"text",autoComplete:"adminNotes",value:t,multiline:!0,rows:"1",variant:"filled",name:"adminNotes",inputProps:{maxLength:250},onChange:e=>s(e.target.value)}),p&&Object(a.jsx)("div",{className:"".concat(n,"__button-container"),children:Object(a.jsx)(Yn,{secondary:!0,onClick:I,disabled:y&&A||t===o,children:"Save"})})]}):Object(a.jsxs)("div",{className:"".concat(n,"__admin-notes-text"),children:[o!==t&&!c&&Object(a.jsx)("span",{className:"".concat(n,"__updated-chip"),children:Object(a.jsx)(co,{})}),t||"-"]})})})]})}))(Ng||(Ng=Object(k.a)(["\n  &__admin-notes-text {\n    font-size: 1rem;\n    line-height: 25px;\n  }\n\n  &__is-review {\n    width: 100%;\n    background-color: white;\n    padding: 15px 25px;\n    box-shadow: 0 2px 10px rgb(17 24 31 / 10%), 0 2px 5px rgb(17 24 31 / 30%);\n    margin-bottom: 40px;\n  }\n\n  &__row {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    flex-wrap: wrap;\n    text-align: left\n\n    p:first-child {\n      font-family: 'IBMPlexSans-SemiBold';\n      font-size: 18px;\n      letter-spacing: 0.79px;\n      line-height: 23px;\n      margin: 5px 0;\n    }\n  }\n  &__updated-chip {\n    div {\n      margin-left: 0 !important;\n      margin-bottom: 5px;\n    }\n  }\n\n  &__highlighted {\n    background-color: #f7e569;\n    width: fit-content;\n  }\n\n  &__button-container {\n    display: flex;\n    justify-content: flex-end;\n\n    button {\n      width: 93px !important;\n    }\n  }\n\n  &__notes-header {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  &__item {\n    width: 100%;\n    margin: 0;\n  }\n  &__item p {\n    margin: 0;\n  }\n"])));const Dg=L()(Ig||(Ig=Object(k.a)(["\n  query UpcomingVenueEvents($id: ID, $orderBy: [String], $filterBy: EventFilterInput) {\n    venue(id: $id) {\n      events(orderBy: $orderBy, filterBy: $filterBy) {\n        id\n        name\n        startDate\n        endDate\n        checkInTime\n        checkOutTime\n        openDate\n        closeDate\n        stallProducts {\n          id\n          description\n          endDate\n          name\n          nightly\n          price\n          startDate\n        }\n        addOnProducts {\n          id\n          price\n          addOn {\n            id\n            name\n            description\n            unitName\n          }\n        }\n        rvProducts {\n          id\n          name\n          description\n          startDate\n          endDate\n          nightly\n          price\n          rvLot {\n            id\n            name\n            description\n            sewer\n            water\n            power\n          }\n        }\n        stallQuestions {\n          id\n          question\n          questionType\n          answerOptions\n          required\n        }\n        rvQuestions {\n          id\n          question\n          questionType\n          answerOptions\n          required\n        }\n        venue {\n          id\n          name\n          street\n          street2\n          city\n          state\n          zip\n          description\n          buildings {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));var kg;var _g,Eg=A(Object(E.b)((e=>{const n=e.className,t=e.user,s=Object(Ia.f)(),i=s.setFieldValue,c=s.values,o=c.event,l=c.reservationEdit,d=Object(_.a)(Dg,{variables:{filterBy:{endDate:Hr()().format("YYYY-MM-DD").toString()}},fetchPolicy:"network-only"}),u=Object(w.a)(d,2),p=u[0],b=u[1],m=b.data,h=b.error,x=b.loading;if(Object(r.useEffect)((()=>{t&&t.venues&&p()}),[t]),h)return"Error retrieving events";if(x)return"Loading...";let O=[];if(m){const e=m.venue;O=l?[{value:o.id,label:o.name}]:e.events.map((e=>({value:e.id,label:e.name})))}const g=e=>{const n=(t=e,m.venue.events.filter((e=>e.id===t))[0]);var t;i("event",n)},v={cb:e=>g(e.target.value),disabled:l,label:"EVENT",options:O,selectedOption:o?o.id:"",type:"select",value:(e=>{if(fs(o))return"";return(e.find((e=>e.value===o.id))||{}).value})(O),emptyListMessage:"No current events"};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(jr,{label:"Reservation Details"}),Object(r.createElement)(ab,Object(j.a)(Object(j.a)({className:"".concat(n,"__available-events")+(l?" ".concat(n,"__available-events--disabled"):"")},v),{},{key:l?null:v.label}))]})}))(kg||(kg=Object(k.a)(["\n  &__available-events {\n    ","\n    color: rgb(0, 0, 0);\n    font-size: 0.9375rem;\n    line-height: 24px;\n    margin: 20px 0;\n    padding: 13px 0 0;\n    background-color: "," !important;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    &::placeholder {\n      color: ",";\n    }\n    &--disabled {\n      opacity: 0.5;\n    }\n    &&& {\n      label[class^='MuiInputLabel-formControl'],\n      label[class*='MuiInputLabel-formControl'] {\n        top: -13px;\n      }\n      svg[class^='MuiSelect-icon'],\n      svg[class*='MuiSelect-icon'] {\n        top: -2px;\n      }\n    }\n    &&& {\n      label[class^='MuiFormLabel-filled'],\n      label[class*='MuiFormLabel-filled'] {\n        top: -12px;\n      }\n      div[class^='MuiSelect-selectMenu'],\n      div[class*='MuiSelect-selectMenu'] {\n        margin-bottom: 15px;\n      }\n    }\n  }\n"])),Fe,P.background.primary,P.text.secondary));const Rg=L()(_g||(_g=Object(k.a)(["\n  query UsersByEmailForCreateOrder($orderBy: [String], $filterBy: UserFilterInput, $limit: Int) {\n    users(orderBy: $orderBy, filterBy: $filterBy, limit: $limit) {\n      id\n      email\n      firstName\n      lastName\n      phone\n      savedCreditCards {\n        id\n        last4\n        fingerprint\n        brand\n        name\n        country\n      }\n    }\n  }\n"])));var Tg,Pg=e=>{const n=e.tab,t=e.visible,r=e.className,s=e.users,i=void 0===s?[]:s,c=e.setUser,o=null!==n;return t&&i.length?Object(a.jsx)("div",{className:"".concat(r,"__user-list-container"),children:i.map(((e,t)=>Object(a.jsx)("div",{className:"".concat(r,"__user-list-item ").concat(o&&t===n?"active":""),onClick:()=>c(e),onKeyPress:()=>c(e),role:"button",tabIndex:0,children:e.email},e.email)))}):null};var Mg,Bg=Object(E.b)((({className:e})=>{const n=Object(Ia.f)(),t=n.setFieldTouched,s=n.setFieldValue,i=n.values,c=i.renterInformation,o=i.reservationEdit,l=c.id,d=c.email,u=Object(r.useState)(!1),p=Object(w.a)(u,2),b=p[0],m=p[1],h=Object(r.useState)(!1),x=Object(w.a)(h,2),O=x[0],g=x[1],v=Object(r.useState)(null),f=Object(w.a)(v,2),y=f[0],A=f[1],N=Object(_.a)(Rg),S=Object(w.a)(N,2),I=S[0],C=S[1],D=C.data,k=void 0===D?{}:D,E=C.loading,R=k.users||[],T=R.length-1;Object(r.useEffect)((()=>{const e=R.find((e=>e.email===d));b&&e&&(m(!1),M(e))}),[R,b]);const P=e=>{O||o||g(!0);const n=e.target.value||"";n||g(!1),s("renterInformation.email",n.toLowerCase().trim()),I({variables:{orderBy:["email","ASC"],filterBy:{email:n,roleId:3},limit:10}})},M=e=>{s("ccInformation.selectedCard",null),s("ccInformation.selectedCardBrand",null),s("ccInformation.country",null);const n=e.id,t=e.firstName,a=e.lastName,r=e.email,i=e.phone,c=e.savedCreditCards;s("renterInformation",{id:n,firstName:t||"",lastName:a||"",email:r||"",phone:i||"",savedCreditCards:c||[]}),g(!1)},B=()=>{m(!0),t("renterInformation.email",!0),setTimeout((()=>g(!1)),200)},F=e=>{switch(e.key){case"ArrowDown":return e.preventDefault(),A(null===y||y===T?0:y+1);case"ArrowUp":return e.preventDefault(),A(null===y||0===y?T:y-1);case"Tab":return e.preventDefault(),A(null===y||y===T?0:y+1);case"Enter":{e.preventDefault();const n=R[y||0];n&&M(n),A(0);break}default:return A(null)}};return Object(a.jsxs)("div",{className:e,children:[Object(a.jsx)(jr,{label:"Renter Information"}),Object(a.jsx)("p",{className:"".concat(e,"__subheading"),children:"Enter email to search existing renters"}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsxs)(Ce.a,{item:!0,xs:6,children:[Object(a.jsx)(Ia.a,{component:Zn,name:"renterInformation.email",children:({field:n,meta:t})=>Object(a.jsx)(Hn,Object(j.a)(Object(j.a)(Object(j.a)({},n),t),{},{autoComplete:"none",name:"renterInformation.email",className:"".concat(e,"__user-list-parent ").concat(e,"__field"),disabled:o,error:!O&&t.touched&&t.error,helperText:!O&&t.touched&&!!t.error&&t.error,label:"EMAIL",onBlur:B,onKeyDown:F,onChange:l?()=>(g(!1),void s("renterInformation",{id:null,firstName:"",lastName:"",email:"",phone:"",savedCreditCards:[]})):P,type:"text",variant:"filled"}))}),Object(a.jsx)(Pg,{className:e,users:R,setUser:M,visible:O,tab:y})]}),Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{name:"renterInformation.phone",children:({field:n,meta:t})=>Object(a.jsx)(Jn,Object(j.a)(Object(j.a)(Object(j.a)({},n),t),{},{error:t.touched&&t.error,helperText:t.touched&&!!t.error&&t.error,label:"PHONE NUMBER",variant:"filled",onChange:e=>s("renterInformation.phone",e.target.value.replace(/[^0-9]/g,"")),className:"".concat(e,"__field"),disabled:o||E}))})})]}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{component:Zn,className:"".concat(e,"__field ").concat(e,"__name__field"),label:"FIRST NAME",type:"text",variant:"filled",name:"renterInformation.firstName",disabled:o||E})}),Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{component:Zn,className:"".concat(e,"__field ").concat(e,"__name__field"),label:"LAST NAME",type:"text",variant:"filled",name:"renterInformation.lastName",disabled:o||E})})]})]})}))(Tg||(Tg=Object(k.a)(["\n  &__user-list-parent {\n    &&& {\n      margin-bottom: 0;\n      position: relative;\n    }\n  }\n  &__user-list-item {\n    align-items: center;\n    display: flex;\n    font-family: 'IBMPlexSans-Regular';\n    height: 35px;\n    margin: 0;\n    padding-left: 10px;\n    &:hover,\n    &.active {\n      background-color: ",";\n      cursor: pointer;\n    }\n  }\n  &__user-list-container {\n    background-color: white;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    position: absolute;\n    z-index: 10;\n    width: 315px;\n  }\n  &__subheading {\n    margin: 0;\n  }\n  &__field {\n    &&&& {\n      margin-bottom: 0;\n    }\n  }\n  &__name__field {\n    input {\n      text-transform: capitalize;\n    }\n  }\n"])),P.primary);var Fg=Object(E.b)((({adminUser:e,className:n,order:t})=>{const r=Object(Ia.f)().values.reservationEdit,s=t||{},i=s.event,c=s.user,o=s.group;return Object(a.jsxs)(ls,{className:n,dataTestId:"basic_info",children:[Object(a.jsx)("div",{className:"".concat(n,"__basic_info--title"),children:r&&c?Object(a.jsx)(br,{label:"".concat(eo(c.firstName)," ").concat(eo(c.lastName)).concat(o?" | ".concat(eo(o.name)):"")}):Object(a.jsx)(br,{label:"Basic Information"})}),Object(a.jsx)(fg,{margin:"0.625rem 0 1.375rem"}),r?Object(a.jsxs)(Ce.a,{container:!0,justify:"space-between",children:[Object(a.jsxs)("div",{item:!0,container:!0,className:"".concat(n,"__section"),md:4,children:[Object(a.jsx)("span",{className:"".concat(n,"__section-subheader"),children:"Email"}),Object(a.jsx)("p",{className:"".concat(n,"__renter-email"),children:c.email})]}),Object(a.jsxs)("div",{item:!0,container:!0,className:"".concat(n,"__section"),md:4,children:[Object(a.jsx)("span",{className:"".concat(n,"__section-subheader"),children:"Phone"}),Object(a.jsx)("p",{className:"".concat(n,"__renter-phone"),children:us(c.phone)})]}),Object(a.jsxs)("div",{item:!0,container:!0,className:"".concat(n,"__section ").concat(n,"__event__section"),md:4,children:[Object(a.jsx)("span",{className:"".concat(n,"__section-subheader"),children:"Event"}),Object(a.jsx)("p",{className:"".concat(n,"__event-name"),children:i.name})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Bg,{}),Object(a.jsx)(fg,{}),Object(a.jsx)(Eg,{user:e})]})]})}))(Mg||(Mg=Object(k.a)(["\n  &&& {\n    padding: 20px;\n  }\n\n  &__basic_info--title {\n    font-size: 25px;\n    line-height: 25px;\n    margin: 0;\n    white-space: nowrap;\n\n    h3 {\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n\n  &__section {\n    height: 100%;\n    flex: 1;\n  }\n\n  &__section:not(:last-child) {\n    padding-right: 10px;\n  }\n\n  &__event__section {\n    min-width: 0;\n\n    p {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n\n  &__section-subheader {\n    width: 100%;\n    display: block;\n    font-family: 'IBMPlexSans-SemiBold';\n    font-size: 18px;\n    letter-spacing: 0.79px;\n    line-height: 23px;\n  }\n\n  &__renter-name,\n  &__renter-email,\n  &__renter-phone,\n  &__event-name {\n    width: 100%;\n    margin: 0;\n  }\n\n  &__renter-name {\n    text-transform: capitalize;\n  }\n"])));t(1136);var Lg,qg=()=>Object(a.jsxs)("div",{className:"back-date-warning",children:[Object(a.jsx)(ao.a,{}),"Reservation includes a past date"]});const zg=L()(Lg||(Lg=Object(k.a)(["\n  {\n    reservationStatuses {\n      id\n      name\n    }\n  }\n"]))),Yg="stallProduct",Vg="rvProduct",Ug="addOnProduct";var Wg=t(590),Qg=t(584),Gg=t.n(Qg),Hg=t(583),Kg=t.n(Hg);t(1137);var Zg,Xg=({handleParentClose:e,isParentOpen:n,options:t})=>{const r=s.a.useState(null),i=Object(w.a)(r,2),c=i[0],o=i[1],l=()=>{o(null)};return Object(a.jsxs)("div",{className:"edit-simple-menu",children:[Object(a.jsx)(_n.a,{"aria-controls":"simple-menu","aria-haspopup":"true","data-testid":"simple-menu",onClick:t=>{n?(e(),o(null)):o(t.currentTarget)},children:n?Object(a.jsx)(Kg.a,{}):Object(a.jsx)(Gg.a,{})}),Object(a.jsx)(Wg.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:!!c,onClose:l,children:t.map((e=>Object(a.jsx)(hp.a,{"data-testid":e.dataTestId,disabled:e.disabled,onClick:()=>{e.onClick&&e.onClick(),l()},children:e.label},e.dataTestId)))})]})};var Jg,$g=Object(E.b)((e=>{const n=e.className,t=e.reservationEdit,s=e.event,i=e.isOpen,c=e.isReview,o=e.order,l=void 0===o?{}:o,d=e.productType,u=e.setIsOpen,p=e.hasInitialProduct,b=e.setIsWarningOpen,m=e.simpleDeleteDisabled,j=s&&!fs(s),h=Object(r.useState)(!1),x=Object(w.a)(h,2),O=x[0],g=x[1],v=(l||{}).orderItems,f=void 0===v?[]:v,y=f&&f.filter((e=>d===Ug?e.addOnProduct:e.reservation&&e.reservation.hasOwnProperty(d))),A=y?y[0]:{},N=(A||{}).reservation,S=Object(r.useCallback)((e=>{switch(e){case Yg:return"Stall";case Vg:return"RV Spot";case Ug:return"Add On";case"NOTES":return" Admin Note";default:return""}})),I=Object(r.useCallback)((e=>{switch(e){case Yg:return"stallProducts";case Vg:return"rvProducts";case Ug:return"addOnProducts";default:return"stallProducts"}}));Object(r.useEffect)((()=>{u&&u(!1)}),[s.id]),Object(r.useEffect)((()=>{if("NOTES"===d)g(!0);else{const e=I(d);s&&s[e]?g(s[e].length>0):g(!1)}}),[s]);return Object(a.jsxs)(ls,{className:n,dataTestId:"card_".concat(d),children:[Object(a.jsxs)("div",{"data-testid":"product-card-".concat(d),className:"".concat(n,"__title-row ").concat(O||!j&&!t?"":"disabled"),children:[Object(a.jsx)(br,{label:"".concat(S(d),"s")}),!j&&!t&&(e=>Object(a.jsx)("div",{className:"".concat(n,"__switch-container"),"data-testid":"no-selection-".concat(e),children:Object(a.jsxs)("p",{children:["Select an event to enter ",S(e)," details"]})}))(d),t&&!l.canceled&&O&&(()=>{const e=[{label:"Edit",onClick:()=>u?u(!i):{},dataTestId:"simple-menu-edit",disabled:!p},{label:"Delete",disabled:m,dataTestId:"simple-menu-delete",onClick:()=>b?b():{}}];return Object(a.jsx)("div",{className:"".concat(n,"__edit-options-container"),children:t?Object(a.jsx)(Xg,{isParentOpen:i,options:e,handleParentClose:()=>u?u(!1):{}}):Object(a.jsx)("button",{type:"button",onClick:u?()=>u(!i):void 0,children:i?"Close":"Edit"})})})(),O&&!N&&!c&&!t&&(e=>Object(a.jsxs)("div",{className:"".concat(n,"__switch-container"),"data-testid":"collapsed-section-".concat(e),children:[Object(a.jsxs)("p",{children:["Include ",S(e),"s?"]}),Object(a.jsx)(gc.a,{color:"primary",disabled:!j&&!t,onChange:u?()=>u(!i):void 0,size:"medium",checked:i})]}))(d)]}),O&&e.children]})}))(Zg||(Zg=Object(k.a)(["\n  &&& {\n    padding: 20px;\n    min-width: 400px;\n    overflow: visible;\n  }\n  &__title-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    &.disabled {\n      color: #6b6e74;\n      height: 57px;\n    }\n    h3 {\n      text-transform: capitalize;\n    }\n  }\n  &__switch-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    p {\n      margin: 0;\n    }\n  }\n  &__edit-options-container,\n  &__switch-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .MuiSwitch-colorPrimary.Mui-checked {\n    color: ",";\n  }\n  .MuiSwitch-colorPrimary.Mui-checked + .MuiSwitch-track {\n    background-color: ",";\n    opacity: 1;\n  }\n  &__edit-options-container button {\n    padding: 0 10px;\n    background: none;\n    border: none;\n    font-family: 'IBMPlexSans-Regular';\n    font-size: 15px;\n    letter-spacing: 1.05px;\n    line-height: 17px;\n    text-transform: uppercase;\n  }\n  &__edit-options-container button:first-child {\n    color: ",";\n  }\n  &__edit-options-container button:last-child {\n    color: ",";\n  }\n  &__edit-options-container button:focus {\n    outline: none;\n  }\n  &__edit-options-container button:hover {\n    cursor: pointer;\n  }\n"])),P.white,P.button.primary.active,P.error.primary,P.border.tertiary);const ev=L()(Jg||(Jg=Object(k.a)(["\n  query StallAvailability($input: StallAvailabilityInput) {\n    stallAvailability(input: $input) {\n      rvLot {\n        id\n      }\n      building {\n        id\n        name\n      }\n      availableSpaces {\n        id\n        name\n        status\n        building {\n          id\n          name\n        }\n      }\n    }\n  }\n"])));var nv,tv,av,rv,sv;function iv(e){const n=e.onClick,t=e.stall,r=e.isActive,s=e.id,i=e.unavailable,c=void 0!==i&&i;if(!t)return Object(a.jsx)(uv,{id:"stall-button-".concat(s,"-empty")});const o=r?Rj.a:OO.a;return Object(a.jsx)(dv,{id:"stall-button-".concat(s),onClick:()=>n(t),isActive:r,unavailable:c,endIcon:Object(a.jsx)(o,{}),children:t.name})}const cv=Object(E.a)(nv||(nv=Object(k.a)(["\n  background-color: ",";\n  color: ",";\n"])),P.secondary,P.white),ov=Object(E.a)(tv||(tv=Object(k.a)(["\n  background-color: #ee5253;\n  color: ",";\n"])),P.white),lv=Object(E.a)(av||(av=Object(k.a)(["\n  background-color: transparent;\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 3px;\n"])),P.text.secondary,P.text.secondary),dv=Object(E.b)(_n.a)(rv||(rv=Object(k.a)(["\n  &&&& {\n    width: 126px;\n    height: 36px;\n    margin: 4px;\n    p {\n      margin: 0;\n    }\n    span {\n      justify-content: space-between;\n    }\n    ","\n    ","\n  }\n"])),(e=>e.isActive?cv:lv),(e=>{if(e.unavailable)return ov})),uv=E.b.div(sv||(sv=Object(k.a)(["\n  background-color: transparent;\n  border: 2px dotted ",";\n  border-radius: 3px;\n  width: 126px;\n  margin: 4px;\n  height: 38px;\n"])),P.border.primary);var pv,bv;var mv,jv,hv=Object(E.b)((({className:e,handleUnavailableProducts:n,hasDatesDifference:t,hasQuantityDiff:s,unavailableProducts:i})=>{const c=Object(r.useState)(!1),o=Object(w.a)(c,2),l=o[0],d=o[1],u=Object(Ia.f)(),p=u.values,b=u.errors,m=u.setFieldValue,j=p.initialStallProduct,h=p.selectedStalls,x=p.event,O=p.reservationEdit,g=p.stallProductId,v=p.stalls,f=x.venue.buildings,y=v.start,A=v.end,N=Object(r.useState)(),S=Object(w.a)(N,2),I=S[0],C=S[1],D=y?Hr()(y).format(As):null,E=A?Hr()(A).format(As):null,R=Yu(h,"id").reduce(((e,n)=>e+n.id),""),T=Yu(null===j||void 0===j?void 0:j.reservation.stalls,"id").reduce(((e,n)=>e+n.id),""),P=Yu(null===j||void 0===j?void 0:j.reservation.stalls,"id").map((e=>e.name)).join(", "),M=R!==T,F=i?i.map((e=>e.id)):[],q=L()(pv||(pv=Object(k.a)(["\n    query eventProducts($id: ID) {\n      event(id: $id) {\n        stallProducts {\n          id\n          stalls {\n            building {\n              id\n            }\n          }\n        }\n      }\n    }\n  "]))),z=Object(_.a)(ev,{variables:{input:{startDate:D,endDate:E,productId:g,reservationId:O?null===j||void 0===j?void 0:j.reservation.id:null}},fetchPolicy:"network-only"}),Y=Object(w.a)(z,2),V=Y[0],U=Y[1],W=U.data,Q=U.error,G=U.loading,H=Object(_.a)(q,{variables:{id:p.event.id},fetchPolicy:"network-only"}),K=Object(w.a)(H,2),Z=K[0],X=K[1],J=X.data,$=X.loading,ee=Object(r.useCallback)((()=>{if(!h||!W||!O||G||Q)return!0;let e;var n,t=Object(vs.a)(h);try{for(t.s();!(n=t.n()).done;){var a;let t=n.value;if(e=null===(a=W.stallAvailability[0])||void 0===a?void 0:a.availableSpaces.find((e=>e.id==t.id)),!e)return!1}}catch(r){t.e(r)}finally{t.f()}return!0}),[W,null===W||void 0===W?void 0:W.stallAvailability,h,O,G,Q]);if(Object(r.useEffect)((()=>{var e,a;if(d(!1),ee()||(null===j||void 0===j||null===(e=j.reservation)||void 0===e||null===(a=e.stallProduct)||void 0===a?void 0:a.id)===g||d(!0),!I&&h&&null!==h&&void 0!==h&&h.length)C(h[0].building.id);else if(!I&&f||f&&f.length>1){var r,i;const e=(W?null===(r=W.stallAvailability)||void 0===r?void 0:r.map((e=>e.building)):f).sort(((e,n)=>e.name.localeCompare(n.name,"en",{numeric:!0})));C(null===(i=e[0])||void 0===i?void 0:i.id)}if(W&&n){var c;const e=null===(c=W.stallAvailability)||void 0===c?void 0:c.filter((e=>e.building.id===I));let a=[...Object(Cs.a)(e,"[0].availableSpaces",[])].sort(((e,n)=>e&&n?e.name.localeCompare(n.name,"en",{numeric:!0}):0));!a.length&&O&&(t||s)&&n(h);const r=a.map((e=>e.id)),i=h.filter((e=>!r.includes(e.id)));a.length>0&&i.length&&O&&(t||s)&&n(i),a.length>0&&!i.length&&O&&n([])}}),[f,W,n,O,t,s,j,g]),Object(r.useEffect)((()=>{O||m("selectedStalls",[])}),[g]),Object(r.useEffect)((()=>{g&&(V(),Z())}),[g]),b.stalls&&O)return Object(a.jsx)(ta,{label:"Enter a valid quantity to assign stalls"});if(Q)return"Error fetching Stall availability";if(G||$)return Object(a.jsx)(B,{});let ne=[];if(W){var te;const e=null===(te=W.stallAvailability)||void 0===te?void 0:te.filter((e=>e.building.id===I));let n=[...Object(Cs.a)(e,"[0].availableSpaces",[])];ne=n.sort(((e,n)=>e&&n?e.name.localeCompare(n.name,"en",{numeric:!0}):0))}const ae=()=>{var e;if(!W||!J)return[];const n={};null===(e=J.event.stallProducts.find((e=>e.id===g)))||void 0===e||e.stalls.forEach((e=>{n[e.building.id]||(n[e.building.id]=!0)}));const t=f.filter((e=>n[e.id]));return((null===t||void 0===t?void 0:t.map((e=>({value:e.id,label:e.name,disabled:!(null!==W&&void 0!==W&&W.stallAvailability.find((n=>n.building.id===e.id))),disabledText:"Sold Out"}))))||[]).sort(((e,n)=>e.label.localeCompare(n.label,"en",{numeric:!0})))},re=e=>{const n=(null===h||void 0===h?void 0:h.length)>0?[...h]:[],t=n.findIndex((n=>n.id===e.id));if(t>-1)n.splice(t,1);else{if(v.quantity<=n.length)return;n.push(e)}m("selectedStalls",n)},se=()=>{m("selectedStalls",[])},ie=e=>{if(!e)return!1;return(null===h||void 0===h?void 0:h.findIndex((n=>e.id===n.id)))>-1},ce=e=>{const n=[];null===e||void 0===e||e.forEach((e=>n.push(e))),n.sort(((e,n)=>e&&n?e.name.localeCompare(n.name,"en",{numeric:!0}):0));for(let t=1;t<=v.quantity-(null===e||void 0===e?void 0:e.length);t++)n.push(null);return n},oe=()=>{var e,n,a,r,s,i,c,o,l;(m("stallProductId",(null===(e=p.initialStallProduct)||void 0===e||null===(n=e.reservation)||void 0===n||null===(a=n.stallProduct)||void 0===a?void 0:a.id)||""),m("selectedStalls",(null===(r=p.initialStallProduct)||void 0===r||null===(s=r.reservation)||void 0===s?void 0:s.stalls)||[]),t)&&(m("stalls.start",Hr()(null===(i=p.initialStallProduct)||void 0===i||null===(c=i.reservation)||void 0===c?void 0:c.startDate).format("YYYY/MM/DD")),m("stalls.end",Hr()(null===(o=p.initialStallProduct)||void 0===o||null===(l=o.reservation)||void 0===l?void 0:l.endDate).format("YYYY/MM/DD")));d(!1)},le=()=>{var e,n,t;const a=null===(e=p.initialStallProduct)||void 0===e||null===(n=e.reservation)||void 0===n||null===(t=n.stallProduct)||void 0===t?void 0:t.name;return a?"in ".concat(a):""};return(()=>{var n;return b.availability&&"oneNightFullyBooked"!==b.availability?Object(a.jsx)("p",{children:"Stall Selection unavailable"}):v.quantity&&v.start&&v.end?Object(a.jsxs)("div",{className:e,children:[Object(a.jsx)(ro,{isOpen:l,handleClose:oe,onCancel:oe,continueLabel:"SWITCH",header:"ARE YOU SURE?",text:"Switching stall rate will unassign stalls ".concat(P," ").concat(le(),".\n            Are you sure you want to switch stall rate?"),onContinue:()=>{m("selectedStalls",[]),d(!1)}}),Object(a.jsxs)(Ce.a,{className:"".concat(e,"__available-stalls-container"),container:!0,spacing:2,children:[Object(a.jsxs)(Ce.a,{item:!0,xs:12,md:6,children:[Object(a.jsx)(ab,{className:"".concat(e,"__available-events"),cb:e=>C(e.target.value),label:"STALL LOCATION",options:ae(),selectedOption:I,shrink:Boolean(O||I)},null===f||void 0===f?void 0:f.name),Object(a.jsx)("div",{className:"".concat(e,"__available-stalls"),children:ne.length>0&&ne.map(((e,n)=>Object(a.jsx)(iv,{id:n,stall:e,isActive:ie(e),onClick:re},e.id)))})]}),Object(a.jsxs)(Ce.a,{className:"".concat(e,"__selected-stalls--container").concat(O?"edit":""),item:!0,xs:12,md:6,children:[O?Object(a.jsx)("div",{className:"".concat(e,"__selected-stalls--heading-container"),children:Object(a.jsxs)("div",{className:"header-text-container",children:[Object(a.jsxs)("div",{className:"updated-chip-container",children:[Object(a.jsx)(xr,{label:"Assigned Stalls"}),M&&O&&Object(a.jsx)(co,{})]}),Object(a.jsxs)("div",{className:"clear-button-container",children:[O&&Object(a.jsx)("span",{className:"".concat(e,"__assigned-stalls-count"),children:"".concat(h.length+"/"+v.quantity," stalls assigned")}),Object(a.jsx)(_n.a,{className:"".concat(e,"__selected-stalls--clear-container"),disabled:!h.length,onClick:se,children:Object(a.jsx)("span",{className:"".concat(e,"__selected-stalls--clear").concat(h.length?"":"disabled"),children:"CLEAR"})})]})]})}):Object(a.jsxs)("div",{className:"".concat(e,"__selected-stalls--heading-container"),children:[Object(a.jsx)(xr,{label:"ASSIGNED STALLS"}),Object(a.jsx)(_n.a,{className:"".concat(e,"__selected-stalls--clear-container"),onClick:se,children:Object(a.jsx)("span",{className:"".concat(e,"__selected-stalls--clear-create"),children:"CLEAR ALL"})})]}),Object(a.jsx)("div",{className:"".concat(e,"__selected-stalls--stalls-container"),children:null===(n=ce(h))||void 0===n?void 0:n.map(((e,n)=>Object(a.jsx)(iv,{id:"".concat(n,"-assigned"),stall:e,isActive:ie(e),onClick:re,unavailable:F.includes(null===e||void 0===e?void 0:e.id)},e?e.id:"emptyStall_".concat(n))))})]})]}),b.selectedStalls&&Object(a.jsx)(ta,{label:b.selectedStalls,id:"selected-stalls-error"})]}):Object(a.jsx)("p",{children:"Complete Reservation Details to assign stalls"})})()}))(bv||(bv=Object(k.a)(["\n  &__desc {\n    margin-top: 0;\n    margin-bottom: 20px;\n  }\n\n  &__available-stalls-container {\n    margin-top: 1em !important;\n  }\n\n  &__assigned-stalls-count {\n    font-size: 1rem;\n    line-height: 25px;\n  }\n\n  &__available-stalls {\n    background-color: ",";\n    padding: 0.5rem;\n    border-radius: 5px;\n    height: 250px;\n    overflow-y: auto;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-content: start;\n\n    &-container {\n      &&& {\n        padding-right: 1rem;\n      }\n    }\n  }\n\n  &__selected-stalls--clear {\n    font-weight: bold;\n  }\n\n  &__selected-stalls--stalls-container {\n    margin-top: 10px;\n  }\n\n  &__selected-stalls--heading-container {\n    .header-text-container {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n\n      .updated-chip-container {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        margin-top: -10px;\n      }\n\n      .clear-button-container {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n      }\n    }\n  }\n\n  &__selected-stalls--container {\n    margin-top: -45px !important;\n\n    &edit {\n      margin-top: -60px !important;\n    }\n  }\n\n  &__selected-stalls {\n    &--container {\n      &&& {\n        padding-left: 1rem;\n      }\n    }\n    &--clear {\n      text-align: right;\n      margin-left: 20px;\n      color: ",";\n      ","\n\n      &disabled {\n        color: ",";\n        font-weight: bold;\n        margin-left: 25px;\n      }\n\n      &-create {\n        ","\n        color: ",";\n      }\n    }\n    &--clear-container {\n      &&& {\n        padding: 0;\n      }\n    }\n    &--heading-container {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    &--stalls-container {\n      background-color: ",";\n      max-height: 325px;\n      padding: 0.5rem;\n      border-radius: 5px;\n      overflow-y: auto;\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      align-content: start;\n    }\n  }\n\n  &__available-events {\n    ","\n    color: rgb(0, 0, 0);\n    font-size: 0.9375rem;\n    line-height: 24px;\n    margin: -10px 0 20px;\n    padding: 13px 0 0;\n    background-color: "," !important;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    &::placeholder {\n      color: ",";\n    }\n    &&& {\n      label[class^='MuiInputLabel-formControl'],\n      label[class*='MuiInputLabel-formControl'] {\n        top: -13px;\n      }\n      svg[class^='MuiSelect-icon'],\n      svg[class*='MuiSelect-icon'] {\n        top: -2px;\n      }\n    }\n    &&& {\n      label[class^='MuiFormLabel-filled'],\n      label[class*='MuiFormLabel-filled'] {\n        top: -12px;\n      }\n      div[class^='MuiSelect-selectMenu'],\n      div[class*='MuiSelect-selectMenu'] {\n        margin-bottom: 15px;\n      }\n    }\n  }\n"])),P.background.primary,P.text.link,Fe,P.text.lightGray2,Fe,P.text.link,P.background.primary,Fe,P.background.primary,P.text.secondary);const xv=Object(E.b)((e=>{var n;const t=e.className,s=e.setStallsOpen,i=Object(Ia.f)(),c=i.values,o=i.setFieldValue,l=i.setValues,d=i.errors,u=c.event,p=c.reservationEdit,b=c.stalls,m=Object(r.useState)(!1),h=Object(w.a)(m,2),g=h[0],v=h[1],f=Object(_.c)(zg),y=f.data,A=f.loading;Object(r.useEffect)((()=>{s(g),g||p||l(Object(j.a)(Object(j.a)({},c),{},{stalls:Mf.stalls,stallProductId:Mf.stallProductId,selectedStalls:Mf.selectedStalls,sameDates:!1}))}),[g]);const N=Hr()().startOf("days"),S=null===(n=c.stalls.start)||void 0===n?void 0:n.isBefore(N),I=Hr()().isAfter(Hr()(u.startDate).startOf("days"));if(A)return Object(a.jsx)(a.Fragment,{});let C=[];y&&(C=y.reservationStatuses.reduce(((e,n)=>(4!==Number(n.id)&&e.push({value:n.id,label:Os(n.name)}),e)),[]));const D=((e,n)=>fs(n)?"":e.find((e=>e.value===n.status))||null)(C,b),k={cb:e=>o("stalls.status",e.target.value),key:D?D.value:null,label:"STATUS",options:C,selectedOption:b&&b.status?b.status:"1",type:"select",value:D},E=function(){var e=Object(O.a)(x.a.mark((function e(n){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n,e.next=3,o("stalls.quantity",Number(t)<=0?"":t.replace(/[^0-9]/g,""));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(a.jsx)($g,{className:t,edit:p,event:u,isOpen:g,productType:"stallProduct",setIsOpen:v,children:Object(a.jsx)("div",{className:"".concat(t,"__card-content ").concat(g?"open":""),children:g?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{margin:"0.25rem 0 1.375rem"}),Object(a.jsxs)(Ce.a,{container:!0,children:[Object(a.jsxs)(Ce.a,{item:!0,direction:"column",md:6,className:"".concat(t,"__quantity-column"),children:[Object(a.jsx)(xr,{label:"Quantity"}),Object(a.jsx)(Ia.a,{name:"stalls.quantity",children:({field:e,meta:n})=>Object(a.jsxs)("div",{className:"".concat(t,"__quantity-field-wrapper"),children:[Object(a.jsx)(Xc,{increment:Object(O.a)(x.a.mark((function n(){var t;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=Number(e.value)+1,E(t.toString());case 2:case"end":return n.stop()}}),n)}))),decrement:Object(O.a)(x.a.mark((function n(){var t;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=Number(e.value)-1,E(t.toString());case 2:case"end":return n.stop()}}),n)}))),top:13,right:13}),Object(a.jsx)(Hn,Object(j.a)(Object(j.a)(Object(j.a)({},e),n),{},{autoComplete:"numberOfStalls",className:"".concat(t,"__stalls-field"),disabled:fs(u)||p,error:Boolean(n.error),helperText:!!n.error&&n.error,inputProps:{maxLength:3},InputLabelProps:{shrink:e.value>0},label:"NUMBER OF STALLS",onChange:e=>E(e.target.value),type:"number",variant:"filled"}))]})})]}),Object(a.jsx)(Ce.a,{item:!0,direction:"column",md:6,className:"".concat(t,"__date-column"),children:Object(a.jsxs)("div",{className:"".concat(t,"__date-wrapper"),children:[Object(a.jsx)(xr,{label:"Dates"}),Object(a.jsx)("div",{className:"".concat(t,"__date-input--wrapper"),children:Object(a.jsx)(Ov,{minDate:I?Hr()(N):Hr()(u.startDate),initialVisibleMonth:Hr()(u.startDate),maxDate:u.endDate,disabled:!b||p||!!d.stalls,dateChangeCallback:e=>{o("stalls",Object(j.a)(Object(j.a)({},c.stalls),{},{start:e.startDate,end:e.endDate}))},startLabel:"check in",endLabel:"check out",allowBackDate:I})}),S&&Object(a.jsx)(qg,{})]})})]}),Object(a.jsx)(xr,{label:"Stall Reservation Status",className:"".concat(t,"__spacing-top")}),Object(a.jsx)(ab,Object(j.a)({disabled:!!d.stalls,className:"".concat(t,"__status-options")},k)),Object(a.jsx)(jr,{label:"Stall Rate Type",className:"".concat(t,"__spacing-bottom")}),Object(a.jsx)(Oc,{className:t,noLayout:!0,allowBackDateQuery:S&&I}),Object(a.jsx)(jr,{label:"Stall Assignment"}),!!c.stallProductId&&Object(a.jsx)(hv,{}),u.stallQuestions.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{margin:"20px 0"}),Object(a.jsx)(jr,{label:"Additional Stall Info"})]}),u.stallQuestions.map((e=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{className:"openText"===e.questionType?"open-text":"",children:[e.question,e.required&&Object(a.jsx)("span",{className:"required-text",children:" (Required)"})]}),Object(a.jsx)(vd,{question:e,productType:"stalls"})]})))]}):Object(a.jsx)(a.Fragment,{})})})}))(mv||(mv=Object(k.a)(["\n  &__title-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  &__switch-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  &__subheading {\n    margin: 0;\n  }\n\n  &__spacing-top {\n    margin-top: 20px !important;\n  }\n  &__spacing-bottom {\n    margin-bottom: 20px !important;\n  }\n\n  .MuiSwitch-colorPrimary.Mui-checked {\n    color: ",";\n  }\n\n  .MuiSwitch-colorPrimary.Mui-checked + .MuiSwitch-track {\n    background-color: ",";\n    opacity: 1;\n  }\n\n  &__stalls-field {\n    &&& {\n      margin-top: 5px;\n    }\n  }\n\n  &__status-options {\n    ","\n    color: rgb(0, 0, 0);\n    font-size: 0.9375rem;\n    line-height: 24px;\n    margin: 10px 0 20px;\n    padding: 13px 0 0;\n    background-color: "," !important;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    &::placeholder {\n      color: ",";\n    }\n    &--disabled {\n      opacity: 0.5;\n    }\n    &&& {\n      label[class^='MuiInputLabel-formControl'],\n      label[class*='MuiInputLabel-formControl'] {\n        top: -13px;\n      }\n      svg[class^='MuiSelect-icon'],\n      svg[class*='MuiSelect-icon'] {\n        top: -2px;\n      }\n    }\n    &&& {\n      label[class^='MuiFormLabel-filled'],\n      label[class*='MuiFormLabel-filled'] {\n        top: -12px;\n      }\n      div[class^='MuiSelect-selectMenu'],\n      div[class*='MuiSelect-selectMenu'] {\n        margin-bottom: 15px;\n      }\n    }\n  }\n\n  &__date-input--wrapper {\n    margin-top: 5px;\n    position: relative;\n    height: 56px;\n    padding: 7px 12px;\n    background: ",";\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.42);\n\n    &:after {\n      left: 0;\n      right: 0;\n      bottom: 0;\n      content: '';\n      position: absolute;\n      transform: scaleX(0);\n      transition: transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms;\n      border-bottom: 2px solid #2875c3;\n      pointer-events: none;\n    }\n\n    &&& .DateInput {\n      width: auto;\n\n      &:nth-child(3) input {\n        text-align: right;\n      }\n    }\n\n    &&& .DateInput_input {\n      padding: 0;\n      border: 0;\n      height: auto;\n    }\n  }\n\n  &&& .DateRangePicker > div {\n    width: 100%;\n  }\n\n  &&& .DateRangePicker,\n  &&& .DateRangePickerInput {\n    border: 0;\n    height: auto;\n    display: flex;\n    justify-content: space-between;\n    flex: 1;\n    align-items: flex-end;\n  }\n\n  &__quantity-column {\n    padding-right: 10px;\n  }\n\n  &__date-column {\n    padding-left: 10px;\n  }\n\n  &__quantity-field-wrapper {\n    position: relative;\n  }\n"])),P.white,P.button.primary.active,Fe,P.background.primary,P.text.secondary,P.background.inputs),Ov=Object(E.b)(Uh)(jv||(jv=Object(k.a)(["\n  &&& {\n    display: block;\n  }\n"])));var gv,vv=xv;const fv=L()(gv||(gv=Object(k.a)(["\n  query RvSpotAvailability($input: RVSpotAvailabilityInput) {\n    rvSpotAvailability(input: $input) {\n      rvLot {\n        id\n        name\n      }\n      availableSpaces {\n        id\n        name\n      }\n    }\n  }\n"])));var yv,Av,wv,Nv,Sv;function Iv(e){const n=e.id,t=e.onClick,r=e.rv,s=e.isActive,i=e.unavailable,c=void 0!==i&&i;if(!r)return Object(a.jsx)(Ev,{id:"rv-button-".concat(n,"-empty")});const o=s?Rj.a:OO.a;return Object(a.jsx)(_v,{id:"rv-button-".concat(n),onClick:()=>t(r),isActive:s,unavailable:c,endIcon:Object(a.jsx)(o,{}),children:r.name})}const Cv=Object(E.a)(yv||(yv=Object(k.a)(["\n  background-color: ",";\n  color: ",";\n"])),P.secondary,P.white),Dv=Object(E.a)(Av||(Av=Object(k.a)(["\n  background-color: #ee5253;\n  color: ",";\n"])),P.white),kv=Object(E.a)(wv||(wv=Object(k.a)(["\n  background-color: transparent;\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 3px;\n"])),P.text.secondary,P.text.secondary),_v=Object(E.b)(_n.a)(Nv||(Nv=Object(k.a)(["\n  &&&& {\n    width: 126px;\n    height: 36px;\n    margin: 4px;\n    p {\n      margin: 0;\n    }\n    span {\n      justify-content: space-between;\n    }\n    ","\n    ","\n  }\n"])),(e=>e.isActive?Cv:kv),(e=>{if(e.unavailable)return Dv})),Ev=E.b.div(Sv||(Sv=Object(k.a)(["\n  background-color: transparent;\n  border: 2px dotted ",";\n  border-radius: 3px;\n  width: 126px;\n  margin: 4px;\n  height: 38px;\n"])),P.border.primary);var Rv;var Tv,Pv,Mv=Object(E.b)((({className:e,handleUnavailableProducts:n,hasDatesDifference:t,hasQuantityDiff:s,unavailableProducts:i})=>{const c=Object(r.useState)(!1),o=Object(w.a)(c,2),l=o[0],d=o[1],u=Object(Ia.f)(),p=u.values,b=u.errors,m=u.setFieldValue,j=p.initialRvProduct,h=p.selectedRvs,x=p.reservationEdit,O=p.rvProductId,g=p.rv_spot,v=g.start,f=g.end,y=v?Hr()(v).format(As):null,A=f?Hr()(f).format(As):null,N=Yu(null===j||void 0===j?void 0:j.reservation.rvSpots,"id").reduce(((e,n)=>""!==e?e+", "+n.name:e+n.name),""),S=Yu(h,"id").reduce(((e,n)=>""!==e?e+", "+n.name:e+n.name),""),I=N!==S,C=i?i.map((e=>e.id)):[],D=Object(_.a)(fv,{variables:{input:{startDate:y,endDate:A,productId:O,reservationId:x?null===j||void 0===j?void 0:j.reservation.id:null}},fetchPolicy:"network-only"}),k=Object(w.a)(D,2),E=k[0],R=k[1],T=R.data,P=R.error,M=R.loading,F=Object(r.useCallback)((()=>{if(!h||!T||!x||M||P)return!0;let e;var n,t=Object(vs.a)(h);try{for(t.s();!(n=t.n()).done;){var a;let t=n.value;if(e=null===(a=T.rvSpotAvailability[0])||void 0===a?void 0:a.availableSpaces.find((e=>e.id==t.id)),!e)return!1}}catch(r){t.e(r)}finally{t.f()}return!0}),[T,null===T||void 0===T?void 0:T.rvSpotAvailability,h,x,M,P]);Object(r.useEffect)((()=>{var e,a;if(T&&x&&!M&&!P&&(d(!1),F()||(null===j||void 0===j||null===(e=j.reservation)||void 0===e||null===(a=e.rvProduct)||void 0===a?void 0:a.id)===O||d(!0),T&&n)){let e=[...Object(Cs.a)(T,"rvSpotAvailability[0].availableSpaces",[])].sort(((e,n)=>e&&n?e.name.localeCompare(n.name,"en",{numeric:!0}):0));!e.length&&x&&(t||s)&&n(e);const a=e.map((e=>e.id)),r=h.filter((e=>!a.includes(e.id)));e.length>0&&r.length&&x&&(t||s)&&n(r),e.length>0&&!r.length&&x&&n([])}}),[T,n,x,t,s,j,O]),Object(r.useEffect)((()=>{O&&E()}),[O]),Object(r.useEffect)((()=>{x||m("selectedRvs",[])}),[O]);const L=()=>{var e,n,a,r,s,i,c,o,l;(m("rvProductId",(null===(e=p.initialRvProduct)||void 0===e||null===(n=e.reservation)||void 0===n||null===(a=n.rvProduct)||void 0===a?void 0:a.id)||""),m("selectedRvs",(null===(r=p.initialRvProduct)||void 0===r||null===(s=r.reservation)||void 0===s?void 0:s.rvSpots)||[]),t)&&(m("rv_spot.start",Hr()(null===(i=p.initialRvProduct)||void 0===i||null===(c=i.reservation)||void 0===c?void 0:c.startDate).format("YYYY/MM/DD")),m("rv_spot.end",Hr()(null===(o=p.initialRvProduct)||void 0===o||null===(l=o.reservation)||void 0===l?void 0:l.endDate).format("YYYY/MM/DD")));d(!1)};if(b.rv_spot&&x)return Object(a.jsx)(ta,{label:"Enter a valid quantity to assign RV spots"});if(P)return"Error fetching RV Spot availability";if(M)return Object(a.jsx)(B,{});let q=[];if(T){let e=[...Object(Cs.a)(T,"rvSpotAvailability[0].availableSpaces",[])];q=e.sort(((e,n)=>e&&n?e.name.localeCompare(n.name,"en",{numeric:!0}):0))}const z=e=>{const n=h.length>0?[...h]:[],t=n.findIndex((n=>n.id===e.id));if(t>-1)n.splice(t,1);else{if(g.quantity<=n.length)return;n.push(e)}m("selectedRvs",n)},Y=()=>{m("selectedRvs",[])},V=e=>{if(!e)return!1;return h.findIndex((n=>e.id===n.id))>-1},U=e=>{const n=[];e.forEach((e=>n.push(e))),n.sort(((e,n)=>e.name.localeCompare(n.name,"en",{numeric:!0})));for(let t=1;t<=g.quantity-e.length;t++)n.push(null);return n};return(()=>{var n,t,r;return b.availability&&"oneNightFullyBooked"!==b.availability?Object(a.jsx)("p",{children:"Spot Selection unavailable"}):Object(a.jsxs)("div",{className:e,children:[Object(a.jsx)(ro,{isOpen:l,handleClose:L,onCancel:L,continueLabel:"SWITCH",header:"ARE YOU SURE?",text:"Switching lots will unassign spots ".concat(S).concat(null!==(n=p.initialRvProduct)&&void 0!==n&&null!==(t=n.reservation)&&void 0!==t&&null!==(r=t.rvProduct)&&void 0!==r&&r.name?" in ".concat(p.initialRvProduct.reservation.rvProduct.name):"",". Are you sure you want to switch lots?"),onContinue:()=>{m("selectedRvs",[]),d(!1)}}),Object(a.jsxs)(Ce.a,{className:"".concat(e,"__available-rvs--container"),container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:12,md:6,children:Object(a.jsx)("div",{className:"".concat(e,"__available-rvs"),children:q.length>0&&q.map(((e,n)=>Object(a.jsx)(Iv,{id:n,rv:e,isActive:V(e),onClick:z},e.id)))})}),Object(a.jsxs)(Ce.a,{className:"".concat(e,"__selected-rvs--container").concat(x?"edit":""),item:!0,xs:12,md:6,children:[x?Object(a.jsx)("div",{className:"".concat(e,"__selected-rvs--heading-container"),children:Object(a.jsxs)("div",{className:"header-text-container",children:[Object(a.jsxs)("div",{className:"updated-chip-container",children:[Object(a.jsx)(xr,{label:"Assigned Spots"}),I&&x&&Object(a.jsx)(co,{})]}),Object(a.jsxs)("div",{className:"clear-button-container",children:[Object(a.jsx)("span",{className:"".concat(e,"__assigned-spots-count"),children:"".concat(h.length+"/"+g.quantity," spots assigned")}),Object(a.jsx)(_n.a,{className:"".concat(e,"__selected-rvs--clear-container"),disabled:!h.length,onClick:Y,children:Object(a.jsx)("span",{className:"".concat(e,"__selected-rvs--clear").concat(h.length?"":"disabled"),children:"CLEAR"})})]})]})}):Object(a.jsxs)("div",{className:"".concat(e,"__selected-rvs--heading-container"),children:[Object(a.jsx)(xr,{label:"ASSIGNED SPOTS"}),Object(a.jsx)(_n.a,{className:"".concat(e,"__selected-rvs--clear-container"),onClick:Y,children:Object(a.jsx)("span",{className:"".concat(e,"__selected-rvs--clear-create"),children:"CLEAR ALL"})})]}),Object(a.jsx)("div",{className:"".concat(e,"__selected-rvs--rvs-container"),children:U(h).map(((e,n)=>Object(a.jsx)(Iv,{id:"".concat(n,"-assigned"),rv:e,isActive:V(e),onClick:z,unavailable:C.includes(null===e||void 0===e?void 0:e.id)},e?e.id:"emptyStall_".concat(n))))})]})]}),b.selectedRvs&&Object(a.jsx)(ta,{label:b.selectedRvs,id:"selected-rvs-error"})]})})()}))(Rv||(Rv=Object(k.a)(["\n  &__desc {\n    margin-bottom: 20px;\n  }\n\n  &__selected-rvs--clear-container {\n    position: absolute;\n    left: 110px;\n  }\n\n  &__selected-rvs--clear {\n    font-weight: bold;\n  }\n\n  &__available-rvs--container {\n    &:first-child {\n      padding-top: 10px;\n    }\n  }\n\n  &__assigned-spots-count {\n    font-size: 1rem;\n    line-height: 25px;\n  }\n\n  &__available-rvs {\n    background-color: ",";\n    padding: 0.5rem;\n    border-radius: 5px;\n    height: 250px;\n    overflow-y: auto;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-content: start;\n\n    &-container {\n      &&& {\n        padding-right: 1rem;\n      }\n    }\n  }\n\n  &__selected-rvs--container {\n    margin-top: 15px !important;\n\n    &edit {\n      margin-top: 0;\n    }\n  }\n\n  &__selected-rvs--heading-container {\n    .header-text-container {\n      display: flex;\n      flex-direction: column;\n\n      .updated-chip-container {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        margin-top: -10px;\n      }\n\n      .clear-button-container {\n        display: flex;\n        justify-content: 'space-between';\n        width: 100%;\n      }\n    }\n  }\n\n  &__selected-rvs {\n    &--container {\n      &&& {\n        padding-left: 1rem;\n      }\n    }\n    &--clear {\n      margin-left: 20px;\n      text-align: right;\n      color: ",";\n      ","\n\n      &-create {\n        ","\n        color: ",";\n        margin-left: -230px;\n      }\n\n      &disabled {\n        margin-left: 25px;\n        color: ",";\n        font-weight: bold;\n      }\n    }\n    &--clear-container {\n      &&& {\n        padding: 0;\n      }\n    }\n    &--heading-container {\n      margin-top: -50px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    &--rvs-container {\n      background-color: ",";\n      padding: 0.5rem;\n      border-radius: 5px;\n      max-height: 250px;\n      overflow-y: auto;\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      margin-top: 10px;\n      align-content: start;\n    }\n  }\n\n  &__available-events {\n    ","\n    color: rgb(0, 0, 0);\n    font-size: 0.9375rem;\n    line-height: 24px;\n    margin: 20px 0;\n    padding: 13px 0 0;\n    background-color: "," !important;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    &::placeholder {\n      color: ",";\n    }\n    &&& {\n      label[class^='MuiInputLabel-formControl'],\n      label[class*='MuiInputLabel-formControl'] {\n        top: -13px;\n      }\n      svg[class^='MuiSelect-icon'],\n      svg[class*='MuiSelect-icon'] {\n        top: -2px;\n      }\n    }\n    &&& {\n      label[class^='MuiFormLabel-filled'],\n      label[class*='MuiFormLabel-filled'] {\n        top: -12px;\n      }\n      div[class^='MuiSelect-selectMenu'],\n      div[class*='MuiSelect-selectMenu'] {\n        margin-bottom: 15px;\n      }\n    }\n  }\n"])),P.background.primary,P.text.link,Fe,Fe,P.text.link,P.text.lightGray2,P.background.primary,Fe,P.background.primary,P.text.secondary);const Bv=Object(E.b)((e=>{var n;const t=e.className,s=e.setRVsOpen,i=e.isStallsOpen,c=Object(Ia.f)(),o=c.errors,l=c.values,d=c.setFieldValue,u=c.setValues,p=l.event,b=l.reservationEdit,m=l.rv_spot,h=l.stalls,g=Object(r.useState)(!1),v=Object(w.a)(g,2),f=v[0],y=v[1],A=Object(r.useState)(!1),N=Object(w.a)(A,2),S=N[0],I=N[1],C=m.end,D=m.start,k=h.end,E=h.start;Object(r.useEffect)((()=>{s(f),f||u(Object(j.a)(Object(j.a)({},l),{},{rv_spot:Mf.rv_spot,rvProductId:Mf.rvProductId,selectedRvs:Mf.selectedRvs}))}),[f]),Object(r.useEffect)((()=>{i||I(!1)}),[i]),Object(r.useEffect)((()=>{S&&q({startDate:E,endDate:k})}),[E,k]);const R=Object(_.c)(zg),T=R.data,P=R.loading;let M=[];T&&(M=T.reservationStatuses.reduce(((e,n)=>(4!==Number(n.id)&&e.push({value:n.id,label:Os(n.name)}),e)),[]));const B=Hr()().startOf("days"),F=null===(n=l.rv_spot.start)||void 0===n?void 0:n.isBefore(B),L=Hr()().isAfter(Hr()(p.startDate).startOf("days"));if(P)return Object(a.jsx)(a.Fragment,{});const q=e=>{d("rv_spot",Object(j.a)(Object(j.a)({},l.rv_spot),{},{start:e.startDate,end:e.endDate}))},z=e=>fs(m)?"":e.find((e=>e.value===m.status))||null,Y=z(M),V={cb:e=>d("rv_spot.status",e.target.value),key:Y&&Y.value?Y.value:null,label:"STATUS",options:M,selectedOption:m&&m.status?m.status:"1",type:"select",value:z(M)},U=!!i&&(!m||b||S||pc(!0,o)),W=function(){var e=Object(O.a)(x.a.mark((function e(n){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n,e.next=3,d("rv_spot.quantity",Number(t)<=0?"":t.replace(/[^0-9]/g,""));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(a.jsx)($g,{className:t,edit:b,event:p,isOpen:f,productType:"rvProduct",setIsOpen:y,children:Object(a.jsx)("div",{className:"".concat(t,"__card-content ").concat(f?"open":""),children:f?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{margin:"0.25rem 0 1.375rem"}),Object(a.jsxs)(Ce.a,{container:!0,children:[Object(a.jsxs)(Ce.a,{item:!0,direction:"column",md:6,className:"".concat(t,"__quantity-column"),children:[Object(a.jsx)(xr,{label:"Number of RV's"}),Object(a.jsx)(Ia.a,{name:"rv_spot.quantity",children:({field:e,meta:n})=>Object(a.jsxs)("div",{className:"".concat(t,"__quantity-field-wrapper"),children:[Object(a.jsx)(Xc,{increment:Object(O.a)(x.a.mark((function n(){var t;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=Number(e.value)+1,W(t.toString());case 2:case"end":return n.stop()}}),n)}))),decrement:Object(O.a)(x.a.mark((function n(){var t;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=Number(e.value)-1,W(t.toString());case 2:case"end":return n.stop()}}),n)}))),top:13,right:13}),Object(a.jsx)(Hn,Object(j.a)(Object(j.a)(Object(j.a)({},e),n),{},{autoComplete:"numberOfRvs",className:"".concat(t,"__rvs-field"),disabled:fs(p)||b,error:Boolean(n.error),helperText:!!n.error&&n.error,inputProps:{maxLength:3},InputLabelProps:{shrink:e.value>0},label:"NUMBER OF SPOTS",onChange:e=>W(e.target.value),type:"number",variant:"filled"}))]})})]}),Object(a.jsxs)(Ce.a,{item:!0,direction:"column",md:6,className:"".concat(t,"__date-column"),children:[Object(a.jsxs)("div",{className:"".concat(t,"__date-title--wrapper"),children:[Object(a.jsx)(xr,{label:"Dates"}),i&&Object(a.jsxs)("div",{className:"".concat(t,"__item checkbox_container"),style:pc(!0,o)?{opacity:.5}:{},children:[Object(a.jsx)("span",{children:"Use same dates as my stall reservation"}),Object(a.jsx)(Qt.a,{color:"primary",name:"useResDates",onClick:e=>{I(e.target.checked),e.target.checked?q({startDate:l.stalls.start,endDate:l.stalls.end}):q({startDate:null,endDate:null})},disabled:pc(!0,o),type:"checkbox"})]})]}),Object(a.jsx)("div",{className:"".concat(t,"__date-input--wrapper"),children:Object(a.jsx)(Fv,{defaultStartDate:D||null,defaultEndDate:C||null,minDate:L?Hr()(B):Hr()(p.startDate),initialVisibleMonth:Hr()(p.startDate),maxDate:p.endDate,disabled:U,startLabel:"check in",endLabel:"check out",allowBackDate:L,dateChangeCallback:q})}),F&&Object(a.jsx)(qg,{})]})]}),Object(a.jsx)(xr,{label:"RV Spot Reservation Status",className:"".concat(t,"__spacing-top")}),Object(a.jsx)(ab,Object(j.a)({disabled:!!o.rv_spot&&!!o.rv_spot.quantity,className:"".concat(t,"__status-options")},V)),Object(a.jsx)(jr,{label:"RV Spot Type",className:"".concat(t,"__spacing-bottom")}),Object(a.jsx)(nd,{className:t,noLayout:!0,allowBackDateQuery:F&&L}),Object(a.jsx)(jr,{label:"RV Spot Assignment"}),!!l.rvProductId&&Object(a.jsx)(Mv,{}),p.rvQuestions.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{margin:"20px 0"}),Object(a.jsx)(jr,{label:"Additional RV Info"})]}),p.rvQuestions.map((e=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{className:"openText"===e.questionType?"open-text":"",children:[e.question,e.required&&Object(a.jsx)("span",{className:"required-text",children:" (Required)"})]}),Object(a.jsx)(vd,{question:e,productType:"rvs"})]})))]}):Object(a.jsx)(a.Fragment,{})})})}))(Tv||(Tv=Object(k.a)(["\n  &__title-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  &__switch-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  &__subheading {\n    margin: 0;\n  }\n\n  &__spacing-top {\n    margin-top: 20px !important;\n  }\n  &__spacing-bottom {\n    margin-bottom: 20px !important;\n  }\n\n  .MuiSwitch-colorPrimary.Mui-checked {\n    color: ",";\n  }\n\n  .MuiSwitch-colorPrimary.Mui-checked + .MuiSwitch-track {\n    background-color: ",";\n    opacity: 1;\n  }\n\n  &__rvs-field {\n    &&& {\n      margin-top: 5px;\n    }\n  }\n\n  &__status-options {\n    ","\n    color: rgb(0, 0, 0);\n    font-size: 0.9375rem;\n    line-height: 24px;\n    margin: 10px 0 20px;\n    padding: 13px 0 0;\n    background-color: "," !important;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    &::placeholder {\n      color: ",";\n    }\n    &--disabled {\n      opacity: 0.5;\n    }\n    &&& {\n      label[class^='MuiInputLabel-formControl'],\n      label[class*='MuiInputLabel-formControl'] {\n        top: -13px;\n      }\n      svg[class^='MuiSelect-icon'],\n      svg[class*='MuiSelect-icon'] {\n        top: -2px;\n      }\n    }\n    &&& {\n      label[class^='MuiFormLabel-filled'],\n      label[class*='MuiFormLabel-filled'] {\n        top: -12px;\n      }\n      div[class^='MuiSelect-selectMenu'],\n      div[class*='MuiSelect-selectMenu'] {\n        margin-bottom: 15px;\n      }\n    }\n  }\n  &__item.checkbox_container {\n    span {\n      font-size: 12px;\n    }\n\n    .MuiCheckbox-root {\n      padding: 0 0 0 9px;\n    }\n  }\n\n  &__date-title--wrapper {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  &__date-input--wrapper {\n    margin-top: 5px;\n    position: relative;\n    height: 56px;\n    padding: 7px 12px;\n    background: ",";\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.42);\n\n    &:after {\n      left: 0;\n      right: 0;\n      bottom: 0;\n      content: '';\n      position: absolute;\n      transform: scaleX(0);\n      transition: transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms;\n      border-bottom: 2px solid #2875c3;\n      pointer-events: none;\n    }\n\n    &&& .DateInput {\n      width: auto;\n\n      &:nth-child(3) input {\n        text-align: right;\n      }\n    }\n\n    &&& .DateInput_input {\n      padding: 0;\n      border: 0;\n      height: auto;\n    }\n  }\n\n  &&& .DateRangePicker > div {\n    width: 100%;\n  }\n\n  &&& .DateRangePicker,\n  &&& .DateRangePickerInput {\n    border: 0;\n    height: auto;\n    display: flex;\n    justify-content: space-between;\n    flex: 1;\n    align-items: flex-end;\n  }\n\n  &__quantity-column {\n    padding-right: 10px;\n  }\n\n  &__date-column {\n    padding-left: 10px;\n  }\n\n  .DateInput_input__disabled {\n    font-style: normal;\n  }\n\n  &__quantity-field-wrapper {\n    position: relative;\n  }\n"])),P.white,P.button.primary.active,Fe,P.background.primary,P.text.secondary,P.background.inputs),Fv=Object(E.b)(Uh)(Pv||(Pv=Object(k.a)(["\n  &&& {\n    display: block;\n  }\n"])));var Lv,qv=Bv,zv=e=>Object(E.b)(e)(Lv||(Lv=Object(k.a)(["\n  &__title-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  &__switch-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .MuiSwitch-colorPrimary.Mui-checked {\n    color: ",";\n  }\n\n  .MuiSwitch-colorPrimary.Mui-checked + .MuiSwitch-track {\n    background-color: ",";\n    opacity: 1;\n  }\n\n  &__card-content {\n    .add-on-row {\n      ","\n      flex-flow: row wrap;\n      justify-content: flex-start;\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 1rem;\n      line-height: 25px;\n      -webkit-letter-spacing: 0;\n      -moz-letter-spacing: 0;\n      -ms-letter-spacing: 0;\n      letter-spacing: 0;\n\n      h4 {\n        font-family: 'IBMPlexSans-SemiBold';\n        font-size: 18px;\n        -webkit-letter-spacing: 0.79px;\n        -moz-letter-spacing: 0.79px;\n        -ms-letter-spacing: 0.79px;\n        letter-spacing: 0.79px;\n        line-height: 23px;\n        margin-bottom: 0;\n      }\n    }\n\n    .column {\n      margin-right: 20px;\n      &:last-child {\n        margin-right: unset;\n      }\n      width: 30%;\n      max-width: 33%;\n    }\n    .separator {\n      margin-top: 10px;\n      height: 1px;\n      width: 660px;\n      background-color: #c8d6e5;\n    }\n  }\n"])),P.white,P.button.primary.active,Ke);var Yv=zv((e=>{var n,t;const r=e.addOnProducts,s=e.reservationEdit,i=e.className,c=void 0===i?"":i,o=e.isOpen,l=e.eventAddOns,d=e.isWarningOpen,u=e.handleWarningClose,p=e.toggleDeleteModalVisibility,b=Object(Ia.f)(),m=b.values,h=b.setFieldValue,x=!(null!==(n=m.stalls)&&void 0!==n&&n.quantity)&&!(null!==(t=m.rv_spot)&&void 0!==t&&t.quantity),O={};return null===r||void 0===r||r.forEach((e=>{var n;O[null===(n=e.addOnProduct)||void 0===n?void 0:n.id]=0})),Object(a.jsx)("div",{className:"".concat(c,"__card-content ").concat(o?"open":""),children:o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{margin:"0.625rem 0 1.375rem"}),Object(a.jsx)(uo,Object(j.a)({},e))]}):s&&r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ro,{isOpen:d,onCancel:u,handleClose:u,continueLabel:"DELETE",cancelLabel:"GO BACK",header:"ARE YOU SURE?",text:"Are you sure you would like to delete ".concat(x?"your entire reservation":"all addons","?"),onContinue:()=>{x?p():h("addOns",O),u&&u()}}),Object(a.jsx)("div",{className:"separator"}),Object(a.jsx)("div",{className:"add-on-row",children:null===l||void 0===l?void 0:l.map((e=>{const n=r.find((n=>n.addOnProduct.id===e.id))||{},t=n.addOnProduct,s=m.addOns&&m.addOns[null===t||void 0===t?void 0:t.id],i=n.quantity!==s||n.quantity>0&&!m.addOns[null===t||void 0===t?void 0:t.id];return Object(a.jsxs)("div",{className:"column",children:[Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(a.jsx)("h4",{children:Object(Gi.a)(e.addOn.name)}),i&&Object(a.jsx)("div",{style:{marginTop:"25px"},children:Object(a.jsx)(co,{})})]}),"".concat(m.addOns&&m.addOns[null===t||void 0===t?void 0:t.id]||"-"," ").concat(s?Io(Object(Gi.a)(Object(Cs.a)(t,"addOn.unitName","")),s):"")]},(null===t||void 0===t?void 0:t.id)||e.id)}))})]}):null})}));var Vv,Uv=zv((e=>{const n=e.className,t=e.setAddOnsOpen,s=Object(Ia.f)(),i=s.setFieldValue,c=s.values,o=c.event,l=c.reservationEdit,d=Object(r.useState)(!1),u=Object(w.a)(d,2),p=u[0],b=u[1];return Object(r.useEffect)((()=>{t(p),p||i("addOns",Mf.addOns)}),[p]),Object(a.jsx)($g,{className:n,edit:l,event:o,isOpen:p,productType:"addOnProduct",setIsOpen:b,children:Object(a.jsx)(Yv,{isOpen:p})})}));var Wv,Qv=Object(E.b)((function(e){const n=e.className,t=e.order,r=Object(Ia.f)().values.reservationEdit;return Object(a.jsxs)(ls,{className:n,dataTestId:"card_special_requests",children:[Object(a.jsx)(br,{label:"Special Requests"}),Object(a.jsx)(fg,{margin:"0.625rem 0 1.375rem"}),Object(a.jsx)("div",{className:"".concat(n,"__row"),children:Object(a.jsx)("div",{className:"".concat(n,"__item"),children:r?t.notes&&t.notes.length>0?Object(a.jsx)("p",{children:t.notes}):"-":Object(a.jsx)(mo,Object(j.a)({},e))})})]})}))(Vv||(Vv=Object(k.a)(["\n  &&& {\n    padding: 20px;\n  }\n\n  &__row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    flex-wrap: wrap;\n  }\n  &__item {\n    width: 100%;\n    margin: 0;\n  }\n  &__item p {\n    margin: 0;\n  }\n"])));const Gv=L()(Wv||(Wv=Object(k.a)(["\n  query GetDeferrableGroups {\n    groups(allowDeferred: true) {\n      id\n      name\n    }\n  }\n"])));var Hv;const Kv=Object(E.b)((({onChange:e,selectedGroup:n,className:t})=>{const r=Object(_.c)(Gv,{fetchPolicy:"network-only"}),s=r.data,i=r.loading,c=r.error;if(i||c)return Object(a.jsx)("div",{children:i?Object(a.jsx)(B,{className:"groups-loading"}):"Error retrieving groups"});const o={cb:n=>e(n),options:Yu(s.groups.map((e=>({value:e.id,label:e.name}))),"label"),selectedOption:n,label:"GROUP NAME",type:"select",value:""};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(xr,{style:{marginTop:"100px"},label:"Group",className:"group-header"}),Object(a.jsx)("div",{className:"".concat(t,"__payment-details-group"),children:Object(a.jsx)(ab,Object(j.a)({id:"group-select",className:"group-select"},o))})]})}))(Hv||(Hv=Object(k.a)(["\n  &__payment-details-group {\n    color: rgb(0, 0, 0);\n    font-size: 0.9375rem;\n    line-height: 24px;\n    margin: 20px 0;\n    padding: 13px 0 0;\n    background-color: "," !important;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    &::placeholder {\n      color: ",";\n    }\n    &--disabled {\n      opacity: 0.5;\n    }\n\n    &&& {\n      label[class^='MuiInputLabel-formControl'],\n      label[class*='MuiInputLabel-formControl'] {\n        top: -13px;\n      }\n      svg[class^='MuiSelect-icon'],\n      svg[class*='MuiSelect-icon'] {\n        top: -2px;\n      }\n    }\n    &&& {\n      label[class^='MuiFormLabel-filled'],\n      label[class*='MuiFormLabel-filled'] {\n        top: -12px;\n      }\n      div[class^='MuiSelect-selectMenu'],\n      div[class*='MuiSelect-selectMenu'] {\n        margin-bottom: 15px;\n      }\n    }\n  }\n"])),P.background.primary,P.text.secondary);var Zv;var Xv,Jv=Object(E.b)((function(e){const n=Object(r.useContext)(g).user,t=Object(Ia.f)(),s=t.values,i=t.setFieldValue,c=s.renterInformation,o=s.ccInformation,l=s.deferredGroupId,d=c.firstName,u=c.lastName,p=c.email,b=o.useCard,m=o.groupBill,h=Object(r.useState)(!1),x=Object(w.a)(h,2),O=x[0],v=x[1],f=d&&u&&p,y=n.role.name===le.VENUE_ADMIN;return Object(a.jsxs)(ls,{className:e.className,dataTestId:"card_payment_details",children:[Object(a.jsx)(br,{label:"Payment Details"}),Object(a.jsx)(fg,{margin:"0.625rem 0 1.375rem"}),f&&!e.orderCostsLoading?Object(a.jsx)(a.Fragment,{children:0===e.total&&e.discount>0?Object(a.jsx)("div",{className:"".concat(e.className,"__no-payment-required"),children:"No payment required..."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(xr,{label:"Payment Method",className:"".concat(e.className,"__payment-option-heading")}),Object(a.jsx)(bO.a,{id:"payment-details-radio-group","aria-label":"reservationType",name:"reservationType",className:"".concat(e.className,"__radio-group"),children:Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:!0,children:Object(a.jsx)(ad.a,{id:"credit-debit-control",value:"creditOrDebitCard",control:Object(a.jsx)(xd.a,{color:"primary",id:"radio-credit-debit"}),checked:b,onChange:()=>{i("deferredGroupId",null),i("ccInformation.useCard",!0),i("ccInformation.groupBill",!1)},className:"".concat(e.className,"__payment-option"),label:"Credit/Debit Card"})}),Object(a.jsx)(Ce.a,{item:!0,xs:!0,children:Object(a.jsx)(ad.a,{id:"cash-control",value:"cash",control:Object(a.jsx)(xd.a,{color:"primary",id:"radio-cash"}),checked:!b&&!m,onChange:()=>{i("deferredGroupId",null),i("ccInformation.useCard",!1),i("ccInformation.groupBill",!1)},className:"".concat(e.className,"__payment-option"),label:"Cash or Check"})}),y&&Object(a.jsx)(Ce.a,{item:!0,xs:!0,children:Object(a.jsx)(ad.a,{id:"deferred-payment-toggle",value:"deferredPayment",control:Object(a.jsx)(xd.a,{color:"primary",id:"radio-deferred-payment"}),checked:m,onChange:()=>{i("deferredGroupId",null),i("ccInformation.useCard",!1),i("ccInformation.groupBill",!0)},className:"".concat(e.className,"__payment-option"),label:"Group Bill"})})]})})]}),b&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"}}),Object(a.jsx)(zc,Object(j.a)(Object(j.a)({},e),{},{user:c,setNewCard:v,newCard:O,ccInformation:o}))]}),m&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between"}}),Object(a.jsx)("div",{style:{marginTop:"10px"},children:Object(a.jsx)(Kv,{className:e.className,onChange:e=>i("deferredGroupId",e.target.value),selectedGroup:l})})]})]})}):Object(a.jsx)(a.Fragment,{children:e.orderCostsLoading?Object(a.jsx)(B,{size:15}):Object(a.jsx)("p",{children:"Complete Renter Information to select payment method"})})]})}))(Zv||(Zv=Object(k.a)(["\n  &__radio-group {\n    flex-wrap: nowrap;\n    margin-bottom: -5px;\n    white-space: nowrap;\n    width: 80%;\n  }\n\n  &__payment-option-heading {\n    &&& {\n      margin-top: 15px;\n    }\n  }\n\n  &__card-details-heading {\n    &&& {\n      margin-top: 20px;\n      margin-bottom: 10px;\n    }\n  }\n\n  &__payment-option {\n    &&& {\n      span {\n        font-family: 'IBMPlexSans-Regular';\n        font-size: 16px;\n      }\n    }\n  }\n"])));var $v,ef,nf,tf,af,rf,sf,cf,of,lf,df=Object(E.b)((({className:e,stripe:n,elements:t})=>{const r=Object(Ia.f)().values.event;return Object(a.jsx)(ls,{dataTestId:"reservation_summary",children:r&&!fs(r)?Object(a.jsx)(sd,{className:e,stripe:n,elements:t}):Object(a.jsx)("div",{className:e+"__empty-totals",children:"Select an event to continue"})})}))(Xv||(Xv=Object(k.a)(["\n  &__empty-totals {\n    ","\n    font-size: 16px;\n    margin-top: 0;\n  }\n"])),Fe);const uf=Object(E.b)((e=>{var n,t;const s=e.className,i=e.close,c=e.handleSubmit,o=e.heading,l=e.open,d=Object(Ia.f)(),u=d.values,p=d.isSubmitting,b=u.addOns,m=u.ccInformation,h=u.event,g=u.renterInformation,v=u.renterNotes,f=u.adminNotes,y=u.rv_spot,A=u.rvProductId,N=u.selectedStalls,S=u.selectedRvs,I=u.stalls,C=u.stallProductId,D=u.deferredGroupId,k=(h.rvProducts||[]).find((e=>A&&A===e.id))||{},E=k.rvLot&&k.rvLot.name||"",T=I.start,P=I.end,M=I.quantity,B=y.start,F=y.end,L=y.quantity,q=Object(r.useRef)(),z=Object(r.useMemo)((()=>Rs({addOns:b,stallProductId:C,stallsQuantity:M,stallsStart:T,stallsEnd:P,rvProductId:A,rvsQuantity:L,rvsStart:B,rvsEnd:F})),[JSON.stringify(b),C,M,T,P,A,L,B,F]),Y=Object(Qi.useStripe)(),V=Object(Qi.useElements)(),U=Object(r.useState)(!1),W=Object(w.a)(U,2),Q=W[0],G=W[1],H=function(){var e=Object(O.a)(x.a.mark((function e(n,t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(a);case 2:if(!e.sent){e.next=5;break}return n(),e.abrupt("return");case 5:t();case 6:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),K=Object(_.c)(zg).data;let Z=[];K&&(Z=K.reservationStatuses.map((e=>({value:e.id,label:e.name}))));const X=Object(_.a)(Fc),J=Object(w.a)(X,2),$=J[0],ee=J[1].data,ne=Object(_.a)(lx),te=Object(w.a)(ne,2),ae=te[0],re=te[1].data,se=function(){var e=Object(O.a)(x.a.mark((function e(){var n,t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(m.nameOnCard||m.zipCode&&V)){e.next=9;break}return t={card:V.getElement(Qi.CardNumberElement),name:m.nameOnCard,zip:m.zipCode},e.next=4,Xo(Y,t);case 4:return a=e.sent,e.next=7,G("US"!==(null===a||void 0===a||null===(n=a.token)||void 0===n?void 0:n.card.country));case 7:e.next=12;break;case 9:if(!m.country){e.next=12;break}return e.next=12,G("US"!==m.country);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((()=>{z&&z.length>0&&(se(),$({variables:{input:{selectedOrderItems:z,useCard:m&&m.useCard,isNonUSCard:Q}}}))}),[JSON.stringify(z),m,Q]),Object(r.useEffect)((()=>{D&&ae({variables:{id:D}})}),[re,D]);const ie=null===ee||void 0===ee?void 0:ee.orderCosts,ce=(ie||{}).total,oe=g.firstName,le=g.lastName,de=g.email,ue=g.phone,pe=m.selectedCard,be=m.selectedCardBrand,me=m.stripeToken,je=m.useCard,he=e=>Z.filter((n=>n.value===e))[0].label,xe=e=>{let n=e.map((e=>e.name)).sort(bs);return n.length>1?n.join(", "):n},Oe={event:h,addOns:b,orderHistory:(()=>{var e,n,t;const a=[],r={id:1,amount:ce,cardPayment:je,cardBrand:pe?be:null===me||void 0===me||null===(e=me.token)||void 0===e?void 0:e.card.brand,last4:pe||(null===me||void 0===me||null===(n=me.token)||void 0===n?void 0:n.card.last4)};if(u.stallProductId){const e=u.event.stallProducts.find((e=>e.id==u.stallProductId)),n={createdAt:Hr()(),endDate:Hr()(u.stalls.end).format("YYYY-MM-DD"),startDate:Hr()(u.stalls.start).format("YYYY-MM-DD"),quantity:u.stalls.quantity,nightly:null===e||void 0===e?void 0:e.nightly,groupOrderBill:{id:null===re||void 0===re?void 0:re.group.id,amount:ce},productName:null===e||void 0===e?void 0:e.name,productType:"stalls",payment:r};a.push(n)}if(u.rvProductId){const e=u.event.rvProducts.find((e=>e.id==u.rvProductId)),n={createdAt:Hr()(),endDate:Hr()(u.rv_spot.end).format("YYYY-MM-DD"),startDate:Hr()(u.rv_spot.start).format("YYYY-MM-DD"),quantity:u.rv_spot.quantity,nightly:null===e||void 0===e?void 0:e.nightly,groupOrderBill:{id:null===re||void 0===re?void 0:re.group.id,amount:ce},productName:null===e||void 0===e?void 0:e.name,productType:"rvs",payment:r};a.push(n)}return null===(t=Object.keys(u.addOns))||void 0===t||t.forEach((e=>{const n=u.event.addOnProducts.find((n=>n.id==e)),t={createdAt:Hr()(),quantity:u.addOns[e],groupOrderBill:{id:null===re||void 0===re?void 0:re.group.id,amount:ce},productName:null===n||void 0===n?void 0:n.addOn.name,productType:"addOns",payment:r};a.push(t)})),a})(),total:ce,fee:null===ie||void 0===ie?void 0:ie.stripeFee,platformFee:null===ie||void 0===ie?void 0:ie.serviceFee,notes:v,orderItems:(()=>{var e,n;const t=[];Object.keys(b).forEach((e=>{const n=h.addOnProducts.find((n=>n.id===e)),a={id:e,quantity:b[e],addOnProduct:{addOn:Object(j.a)({},n.addOn),price:n.price}};t.push(a)}));const a=null===(e=h.stallProducts)||void 0===e?void 0:e.find((e=>e.id==C)),r=null===(n=h.rvProducts)||void 0===n?void 0:n.find((e=>e.id==A)),s={id:C,reservation:{id:C,endDate:P,startDate:T,stalls:N,status:{name:I.status?he(I.status):"Reserved"},stallProduct:{nightly:null===a||void 0===a?void 0:a.nightly,price:null===a||void 0===a?void 0:a.price,name:null===a||void 0===a?void 0:a.name}},quantity:M},i={id:A,reservation:{id:A,endDate:F,startDate:B,rvSpots:S,status:{name:y.status?he(y.status):"Reserved"},rvProduct:{nightly:null===r||void 0===r?void 0:r.nightly,price:null===r||void 0===r?void 0:r.price,name:null===k||void 0===k?void 0:k.name,rvLot:{name:E}}},quantity:L};return T&&t.push(s),B&&t.push(i),t})(),group:null===re||void 0===re?void 0:re.group,payments:[{amount:ce,cardPayment:je,cardBrand:pe?be:null===me||void 0===me||null===(n=me.token)||void 0===n?void 0:n.card.brand,last4:pe||(null===me||void 0===me||null===(t=me.token)||void 0===t?void 0:t.card.last4)}],user:{fullName:"".concat(oe," ").concat(le),email:"".concat(de),phone:"".concat(ue)}},ge=((e=[],n={})=>{const t=e,a=Object.keys(n);return t.filter((e=>a.some((n=>n===e.id))&&Number(n[e.id]||0)>0)).map((e=>Object(j.a)(Object(j.a)({},e),{},{quantity:Number(n[e.id]||0)})))})(h.addOnProducts,b);return Object(a.jsx)(mb,{className:"".concat(s,"__order-details-modal"),heading:o,open:l,dataTestId:"review_modal",children:Object(a.jsxs)(bf,{children:[Object(a.jsxs)(mf,{children:[Object(a.jsxs)(jf,{children:[Object(a.jsx)(hf,{children:Object(a.jsxs)(Of,{children:[Object(a.jsx)("p",{children:"Email"}),Object(a.jsx)("p",{className:"".concat(s,"__renter-email"),children:"".concat(de)})]})}),Object(a.jsx)(hf,{children:Object(a.jsxs)(Of,{children:[Object(a.jsx)("p",{children:"Phone number"}),Object(a.jsx)("p",{children:"".concat(Ho(ue))})]})}),Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Renter Name"}),Object(a.jsx)("p",{className:"".concat(s,"__proper-name"),children:"".concat(oe," ").concat(le)})]})})]}),Object(a.jsxs)(jf,{children:[Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Event"}),Object(a.jsx)("p",{children:"".concat(h.name)})]})}),Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Total Due"}),Object(a.jsx)("p",{children:"".concat(ce?ce<=0?"$0.00":"$".concat(ce.toFixed(2)):"$0.00")})]})}),Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Payment Method"}),Object(a.jsx)("p",{children:u.deferredGroupId?"Deferred":m.useCard?"Credit Card":"Cash/Check"})]})})]})]}),C&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(pf,{children:[Object(a.jsx)("span",{className:"".concat(s,"__header_text"),children:"Stalls"}),Object(a.jsx)(iu.a,{className:"".concat(s,"__divider")})]}),Object(a.jsxs)(jf,{children:[Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Dates"}),Object(a.jsx)("p",{children:I.start&&I.end?"".concat(Hr()(I.start).format("MM/DD/YY")," - ").concat(Hr()(I.end).format("MM/DD/YY")):"-"})]})}),Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Stalls"}),Object(a.jsx)("p",{children:N.length>0?xe(N):"-"})]})}),Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Status"}),Object(a.jsx)("p",{className:"".concat(s,"__status"),children:I&&I.status?he(I.status):"Reserved"})]})})]})]}),A&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(pf,{children:[Object(a.jsx)("span",{className:"".concat(s,"__header_text"),children:"RV Spots"}),Object(a.jsx)(iu.a,{className:"".concat(s,"__divider")})]}),Object(a.jsxs)(jf,{children:[Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Dates"}),Object(a.jsx)("p",{children:y.start&&y.end?"".concat(Hr()(y.start).format("MM/DD/YY")," - ").concat(Hr()(y.end).format("MM/DD/YY")):"-"})]})}),Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Spots"}),Object(a.jsxs)("p",{children:[E," ",Object(a.jsx)("br",{}),S.length>0?xe(S):"".concat(y.quantity," ").concat(Io("spot",y.quantity))]})]})}),Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{children:"Status"}),Object(a.jsx)("p",{className:"".concat(s,"__status"),children:y&&y.status?he(y.status):"Reserved"})]})})]})]}),ge.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(pf,{children:[Object(a.jsx)("span",{className:"".concat(s,"__header_text"),children:"Add Ons"}),Object(a.jsx)(iu.a,{className:"".concat(s,"__divider")})]}),Object(a.jsx)(jf,{children:ge.map((e=>Object(a.jsx)(hf,{children:Object(a.jsxs)(xf,{children:[Object(a.jsx)("p",{className:"".concat(s,"__addon-name"),children:Object(Gi.a)(e.addOn.name)}),Object(a.jsx)("p",{children:"".concat(e.quantity," ").concat(Object(Gi.a)(Io(e.addOn.unitName,e.quantity)))})]})},e.addOn.id)))})]}),v&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(pf,{children:[Object(a.jsx)("span",{className:"".concat(s,"__header_text"),children:"Special Requests"}),Object(a.jsx)(iu.a,{className:"".concat(s,"__divider")})]}),Object(a.jsx)(jf,{children:Object(a.jsx)(xf,{children:Object(a.jsx)("span",{className:"".concat(s,"__renter_notes"),children:v||"-"})})})]}),f&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(pf,{children:[Object(a.jsx)("span",{className:"".concat(s,"__header_text"),children:"Admin Notes"}),Object(a.jsx)(iu.a,{className:"".concat(s,"__divider")})]}),Object(a.jsx)(jf,{children:Object(a.jsx)(xf,{children:Object(a.jsx)("span",{className:"".concat(s,"__renter_notes"),children:f||"-"})})})]}),Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(Wo,{order:Oe,saveAndPrint:!0,ref:q})}),Object(a.jsx)(vf,{className:"".concat(s,"__edit-details-button"),"data-testid":"review-and-save-edit-button",secondary:!0,variant:"contained",size:"large",onClick:i,children:"EDIT"}),Object(a.jsxs)(gf,{children:[Object(a.jsx)(No.a,{trigger:()=>Object(a.jsx)(vf,{className:"".concat(s,"__print-button"),"data-testid":"review-and-save-print-button",secondary:!0,variant:"contained",size:"large",disabled:p,children:"SAVE & PRINT"}),content:()=>q.current,onBeforePrint:function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(((e,t)=>{H(e,t,n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),Object(a.jsx)(vf,{"data-testid":"review-and-save-save-button",primary:!0,variant:"contained",size:"large",onClick:e=>c(e),disabled:p,children:"SAVE"}),p&&Object(a.jsx)(R.a,{size:24,className:"".concat(s,"__progress-spinner")})]})]})})}))($v||($v=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 32px;\n  height: 100%;\n  justify-content: space-around;\n\n  &__order-details-modal {\n    .MuiCard-root {\n      overflow-y: scroll;\n      max-height: 100%;\n      padding: 20px 20px 0;\n    }\n\n    button {\n      margin-bottom: 20px;\n    }\n  }\n\n  &__edit-details-button {\n    position: absolute !important;\n    right: 20px;\n    top: 20px;\n  }\n\n  &__print-button {\n    background: white !important;\n    color: black !important;\n    border: 1px solid black !important;\n  }\n\n  &__addon-name {\n    font-weight: bold;\n  }\n\n  &__renter_notes {\n    padding-top: 20px;\n    font-family: IBMPlexSans-Regular;\n    font-size: 16px;\n    font-weight: 400;\n    letter-spacing: normal;\n    line-height: 25px;\n  }\n\n  &__status {\n    text-transform: capitalize;\n  }\n\n  &__progress-spinner {\n    &&& {\n      bottom: 4%;\n      color: ",";\n      left: 82%;\n      position: absolute;\n    }\n  }\n\n  &__renter-email {\n    line-break: anywhere;\n  }\n\n  &__proper-name {\n    text-transform: capitalize;\n  }\n\n  &__event-details-modal {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    & {\n      div[class^='MuiCard-root'],\n      div[class*='MuiCard-root'] {\n        height: auto;\n        max-height: 100% !important;\n        overflow: scroll !important;\n      }\n    }\n    h4 {\n      margin-bottom: 30px;\n    }\n  }\n\n  &__divider {\n    width: 100%;\n    background-color: ",";\n  }\n\n  &__header_text {\n    margin-right: 10px;\n    font-family: IBMPlexSans-SemiBold;\n    font-size: 22px;\n    letter-spacing: 0.97px;\n    line-height: 25px;\n    white-space: nowrap;\n  }\n"])),P.primary,Ke,P.border.primary),pf=E.b.div(ef||(ef=Object(k.a)(["\n  ","\n  width: 100%;\n  align-items: center;\n  overflow: hidden;\n"])),Ke),bf=E.b.div(nf||(nf=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  &:first-child {\n    margin: 0 0 30px 0;\n  }\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    &:first-child {\n      margin: 0 0 30px 0;\n    }\n  }\n\n  p:nth-child(1) {\n    ","\n    align-self: flex-start;\n    margin: 0;\n    padding: 20px 0 0;\n  }\n  p:nth-child(2) {\n    ","\n    margin: 0;\n    width: 170px;\n  }\n"])),Ke,Ke,qe,Fe),mf=E.b.div(tf||(tf=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n"])),Ke),jf=E.b.div(af||(af=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n"])),Ke),hf=E.b.div(rf||(rf=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 230px;\n"])),Ke),xf=E.b.div(sf||(sf=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  margin: 0 20px 20px 0;\n"])),Ke),Of=Object(E.b)(xf)(cf||(cf=Object(k.a)(["\n  margin: 0 20px 0 0;\n"]))),gf=Object(E.b)(bf)(of||(of=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-end;\n  align-self: flex-end;\n  width: 100%;\n  position: unset;\n  margin-top: 20px;\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    margin: 20px 0 0;\n  }\n"])),Ke,Ke),vf=Object(E.b)(Yn)(lf||(lf=Object(k.a)(["\n  &&& {\n    line-height: 0;\n    width: 175px;\n    margin-left: ","px;\n  }\n"])),(e=>e.primary?20:0));var ff,yf,Af=uf;const wf=Object(E.b)(b.b)(ff||(ff=Object(k.a)(["\n  width: 160px;\n  height: 36px;\n  border-radius: 3px;\n  ","\n  background-color: ",";\n  color: ",";\n  text-decoration: none;\n  ","\n  justify-content: center;\n  align-items: center;\n  &.active-link {\n    &&& {\n      &:active div[class^='MuiListItemIcon-root'],\n      div[class*='MuiListItemIcon-root'] {\n        color: white;\n      }\n      div[class^='MuiListItemText-root'],\n      div[class*='MuiListItemText-root'] {\n        p {\n          color: white;\n        }\n      }\n    }\n  }\n"])),Fe,P.button.secondary.active,P.white,Ke),Nf=Object(E.b)(Yn)(yf||(yf=Object(k.a)(["\n  width: 225px !important;\n  height: 36px;\n  border-radius: 3px;\n  ","\n  background-color: #F2F4F7 !important;\n  color: black !important;\n  border: 1px solid #11181f !important;\n  box-shadow: none !important;\n  text-decoration: none;\n  ","\n  justify-content: center;\n  align-items: center;\n  white-space: nowrap;\n  &.active-link {\n    &&& {\n      &:active div[class^='MuiListItemIcon-root'],\n      div[class*='MuiListItemIcon-root'] {\n        color: white;\n      }\n      div[class^='MuiListItemText-root'],\n      div[class*='MuiListItemText-root'] {\n        p {\n          color: white;\n        }\n      }\n    }\n  }\n"])),Fe,Ke);var Sf=wf;const If=e=>{var n,t;if(!e)return!1;const a=e.addOns&&Object.values(e.addOns).length,r=null===(n=e.stalls)||void 0===n?void 0:n.quantity,s=null===(t=e.rv_spot)||void 0===t?void 0:t.quantity;return Boolean((a||r||s)&&(!s||(e=>!(!e||!e.rv_spot)&&Boolean(!!e.rv_spot.quantity&&!!e.rv_spot.start&&!!e.rv_spot.end&&!!e.rvProductId))(e))&&(!r||(e=>!(!e||!e.stalls)&&Boolean(!!e.stalls.quantity&&!!e.stalls.start&&!!e.stalls.end&&!!e.stallProductId))(e))&&(!a||(e=>{if(!e||!e.addOns)return!1;const n=Object.values(e.addOns).some((e=>!!e));return Boolean(n)})(e)))};var Cf;const Df=Object(E.b)(Yn)(Cf||(Cf=Object(k.a)(["\n  &&& {\n    width: auto;\n    margin-left: 20px;\n    letter-spacing: 0.7px;\n    line-height: normal;\n  }\n"])));var kf,_f,Ef=e=>{const n=e.disabled,t=e.onClick;return Object(a.jsx)(Df,{"data-testid":"review-and-save-button",primary:!0,variant:"contained",size:"large",disabled:n,onClick:t,children:"REVIEW & SAVE"})};const Rf=Object(E.b)((function(e){var n,t;const s=e.adminUser,i=e.className,c=e.elements,o=e.stripe,l=Object(Ia.f)(),d=l.dirty,u=l.errors,p=l.isSubmitting,b=l.setFieldValue,m=l.submitForm,h=l.values,g=l.setValues,v=h.event&&h.event.id||null,f=Object(r.useState)(!1),y=Object(w.a)(f,2),A=y[0],N=y[1],S=Object(r.useState)(!1),I=Object(w.a)(S,2),C=I[0],D=I[1],k=Object(r.useState)(!1),E=Object(w.a)(k,2),R=E[0],T=E[1],P=Object(r.useState)(!1),M=Object(w.a)(P,2),B=M[0],F=M[1],L=Object(r.useState)(!1),q=Object(w.a)(L,2),z=q[0],Y=q[1],V=function(){var e=Object(O.a)(x.a.mark((function e(n){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={card:c.getElement(Qi.CardNumberElement),name:n.ccInformation.nameOnCard,zip:n.ccInformation.zipCode},e.next=3,Xo(o,t);case 3:a=e.sent,b("ccInformation.stripeToken",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.ccInformation.useCard||h.ccInformation.selectedCard){e.next=5;break}return e.next=3,V(h);case 3:e.next=6;break;case 5:b("ccInformation.stripeToken",null);case 6:N(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(O.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),b("isSubmitting",!0),e.next=4,Promise.resolve();case 4:return e.next=6,m().then((()=>(N(!1),!0))).catch((()=>(N(!1),!1)));case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=h.ccInformation.groupBill&&!h.deferredGroupId||!d||!If(h)||(e=>{const n=Object(j.a)({},e);return n.ccInformation&&1===Object.keys(n.ccInformation).length&&n.ccInformation.stripeToken&&delete n.ccInformation,!fs(n)})(u)||p||!Zo(h,c)||Boolean(C&&!h.stalls.quantity||B&&0===Object.keys(h.addOns).length||R&&!h.rv_spot.quantity)||(null===(n=Object.keys(h.hasEmptyStallQuestions))||void 0===n?void 0:n.length)||(null===(t=Object.keys(h.hasEmptyRVQuestions))||void 0===t?void 0:t.length);Object(r.useEffect)((()=>{v&&g(Object(j.a)(Object(j.a)({},Mf),{},{event:h.event,renterInformation:h.renterInformation,ccInformation:h.ccInformation}),!0)}),[v]);const G=xs(h),H=Object(_.c)(Fc,{variables:{input:{selectedOrderItems:G,useCard:!1,isNonUSCard:!1}},skip:!G.length,fetchPolicy:"network-only"}),K=H.data,Z=H.loading,X=K&&K.orderCosts,J=X||{},$=J.total,ee=J.discount;return Object(r.useEffect)((()=>{($||ee)&&(0===$&&ee>0&&!Z&&!z?(b("deferredGroupId",null),b("ccInformation.useCard",!1),b("ccInformation.groupBill",!1),Y(!0)):0===$&&ee>0||!z||(Y(!1),b("ccInformation.useCard",!0)))}),[$,ee,Z]),Object(a.jsxs)("div",{className:i,children:[Object(a.jsx)(tu,{}),Object(a.jsx)("section",{className:"".concat(i,"__form-section"),children:Object(a.jsxs)("div",{className:"".concat(i,"__form-container"),children:[Object(a.jsxs)("div",{className:"".concat(i,"__form-column-left"),children:[Object(a.jsx)(Fg,{adminUser:s}),Object(a.jsx)(vv,{setStallsOpen:D}),Object(a.jsx)(qv,{setRVsOpen:T,isStallsOpen:C}),Object(a.jsx)(Uv,{setAddOnsOpen:F}),Object(a.jsx)(Cg,{adminNotes:h.adminNotes,setAdminNotes:e=>b("adminNotes",e),isOpen:!0}),Object(a.jsx)(Qv,{}),Object(a.jsx)(Jv,{total:$,discount:ee,orderCostsLoading:Z,stripe:o})]}),nn()?Object(a.jsxs)("div",{className:"".concat(i,"__form-column-right"),children:[Object(a.jsx)(df,{}),Object(a.jsxs)(Tf,{children:[Object(a.jsx)(Sf,{secondary:!0,variant:"contained",size:"large",to:ne.ADMIN.ORDERS,children:"CANCEL"}),Object(a.jsx)(Ef,{disabled:Q,onClick:U})]})]}):Object(a.jsx)(Cl,{children:Object(a.jsxs)("div",{className:"".concat(i,"__form-column-right"),children:[Object(a.jsx)(df,{stripe:o,elements:c},v),Object(a.jsxs)(Tf,{children:[Object(a.jsx)(Sf,{secondary:!0,variant:"contained",size:"large",to:ne.ADMIN.ORDERS,children:"CANCEL"}),Object(a.jsx)(Ef,{disabled:Q,onClick:U})]})]})})]})}),Object(a.jsx)(Af,{close:()=>N(!1),handleSubmit:W,heading:"Review Reservation Details",open:A})]})}))(kf||(kf=Object(k.a)(["\n  &__form-section {\n    max-width: 1305px;\n  }\n  &__form-container {\n    ","\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    @media screen and (min-width: 960px) {\n      ","\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: flex-start;\n    }\n    p {\n      ","\n    }\n    h5 {\n      margin: 12px 0 20px;\n    }\n  }\n  &__form-column-left {\n    ","\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 700px;\n    margin-right: 10px;\n  }\n  &__form-column-right {\n    &&& {\n      align-self: baseline;\n      margin-left: 0px;\n    }\n    @media screen and (min-width: 960px) {\n      ","\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      width: 584px;\n      padding-left: 10px;\n      margin-left: 10px;\n    }\n  }\n"])),Ke,Ke,Fe,Ke,Ke),Tf=Object(E.b)(bn.a)(_f||(_f=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-self: flex-end;\n  width: 100%;\n  &&& {\n    padding: 8px 0;\n  }\n"])),Ke);var Pf=Rf;const Mf={availability:[],event:{},sameDates:!1,ccInformation:{nameOnCard:null,saveCard:!1,selectedCard:null,zipCode:null,useCard:!0,stripeToken:null,groupBill:!1,country:""},renterInformation:{id:null,firstName:"",lastName:"",phone:"",email:"",savedCreditCard:[]},addOnsQuantities:[],addOns:{},rv_spot:{status:"",start:null,end:null,quantity:null},productQuestionAnswers:[],stalls:{status:"",start:null,end:null,quantity:null},hasEmptyRVQuestions:{},hasEmptyStallQuestions:{},renterNotes:null,adminNotes:"",reservationEdit:!1,selectedRvs:[],selectedStalls:[],rvProductId:"",stallProductId:"",startDate:"",isSubmitting:!1,ccChange:0,deferredGroupId:null};var Bf,Ff=Object(se.a)(H.j,Sd,A,D,Pd)((function(e){const n=e.orderCheckout,t=e.user,r=Object(Qi.useStripe)(),s=Object(Qi.useElements)(),i=Ca.e().shape({rv_spot:Ca.e().shape({quantity:Ca.f().nullable().test("match","Maximum exceeded",(function(){const e=Number(Object(Cs.a)(this,"parent.quantity",0));return e>=0&&!dc(e,"rvProduct")}))}),stalls:Ca.e().shape({quantity:Ca.f().nullable().test("match","Maximum exceeded",(function(){const e=Number(Object(Cs.a)(this,"parent.quantity",0));return e>=0&&!dc(e,"rvProduct")}))}),selectedStalls:Ca.a().test("match","Please finish assigning the stalls or clear all the assigned stalls to save this reservation",(function(e){const n=Number(Object(Cs.a)(this,"options.parent.stalls.quantity",0));return!(n>0&&e.length>0)||n===e.length})),selectedRvs:Ca.a().test("match","Please finish assigning the spots or clear all the assigned spots to save this reservation",(function(e){const n=Number(Object(Cs.a)(this,"options.parent.rv_spot.quantity",0));return!(n>0&&e.length>0)||n===e.length})),adminNotes:Ca.f().max(250).nullable(),ccInformation:Ca.e().shape({nameOnCard:Ca.f("Name on card is required").when(["selectedCard","useCard"],{is:(e,n)=>!e&&n,then:Ca.f().min(2,"Name on card is too short").max(50,"Name on card is too long").matches(/^[^\s].*[^\s]+$/i,"Invalid Name on card").nullable().required("Name on card is required"),otherwise:Ca.f().nullable()}),saveCard:Ca.c().required(),selectedCard:Ca.f().length(4).nullable(),zipCode:Ca.f().when(["selectedCard","useCard"],{is:(e,n)=>!e&&n,then:Ca.f().nullable().required("Billing zip code is required"),otherwise:Ca.f().nullable()}),useCard:Ca.c().required(),stripeToken:Ca.f().when(["selectedCard","useCard"],{is:(e,n)=>!e&&n,then:Ca.f().required("Credit card tokenization failed"),otherwise:Ca.f().nullable()})}),event:Ca.e().shape({id:Ca.d().required()}),renterInformation:Ca.e().shape({id:Ca.d().cast(),firstName:Ca.f().min(2,"First name is too short").max(50,"First name is too long").required("First name is required"),lastName:Ca.f().min(2,"Last name is too short").max(50,"Last name is too long").required("Last name is required"),phone:Ca.f().matches("^[0-9]+$","Enter a valid phone number").length(10,"Enter a valid phone number").required("Enter a valid phone number"),email:Ca.f().email("PLEASE ENTER A VALID EMAIL").required("Email is required")}),renterNotes:Ca.f().max(250).nullable(),startDate:Ca.f().test("startDate","Start date must be either today or after today's date",(e=>!e||Hr()(e).isSameOrAfter(Hr()()))).test("startDate","Start date can't be that far away",(e=>!e||Hr()(e).isBefore(Hr()().add("Y",5))))}),c=function(){var a=Object(O.a)(x.a.mark((function a(r,s){var i,c,o,l,d,u;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.ccInformation,c=i.stripeToken,a.next=4,$o({orderCheckout:n,values:r,stripeToken:c,user:t});case 4:return o=a.sent,a.next=7,o;case 7:if(l=a.sent,d=l.data,(u=Object(Cs.a)(o,"data.checkout.error",""))&&Cd(e.showSnackbar,u||"Order could not be updated"),s.setFieldValue("isSubmitting",!1),d.checkout.success){a.next=14;break}throw new Error(d.checkout.error);case 14:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(tu,{}),Object(a.jsx)(Ia.c,{enableReinitialize:!0,initialValues:Mf,onSubmit:c,validationSchema:i,children:Object(a.jsx)(Pf,{elements:s,stripe:r,adminUser:t})})]})}));const Lf=L()(Bf||(Bf=Object(k.a)(["\n  mutation UpdateReservationStatus($input: UpdateReservationStatusInput!) {\n    updateReservationStatus(input: $input) {\n      error\n      reservation {\n        status {\n          name\n        }\n      }\n      success\n    }\n  }\n"]))),qf=Object(re.a)(Lf,{props:({mutate:e})=>({updateReservationStatus:n=>{e({variables:{input:n}})}}),options:e=>({onCompleted:function(){var n=Object(O.a)(x.a.mark((function n({updateReservationStatus:t}){var a,r,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.success?(a=t.reservation,r=void 0===a?{}:a,s="rvProduct"===e.productType?"RV spot":"Stall",e.showSnackbar(" ".concat(s," reservation status updated to ").concat(Object(Gi.a)(r.status&&r.status.name||"")))):e.showSnackbar("Reservation update failed",{error:!0});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onError:function(){var n=Object(O.a)(x.a.mark((function n(t){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cd(e.showSnackbar,"Reservation update failed",t);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})});const zf=Object(zt.a)({root:{color:P.text.lightGray2,opacity:.54,"&$checked":{color:P.icons.blue,opacity:1}},checked:{}})((e=>Object(a.jsx)(Qt.a,Object(j.a)({color:"default"},e))));var Yf,Vf=({question:e,productType:n})=>{const t=e.questionType,s=e.answerOptions,i=e.id,c=e.questionId,o=Object(Ia.f)(),l=o.values,d=o.setFieldValue,u=l.productQuestionAnswers,p=l.hasEmptyRVQuestions,b=l.hasEmptyStallQuestions,m="stalls"===n?b:p,h="stalls"===n?"hasEmptyStallQuestions":"hasEmptyRVQuestions",x=u.find((e=>e.id==i));Object(r.useEffect)((()=>{const n="multipleSelection"===t&&(null===x||void 0===x?void 0:x.answer.some((e=>e.replace("Other: ","").length<2)))||"openText"===t&&(null===x||void 0===x?void 0:x.answer[0].replace("Other: ","").length)<2;if(e.required){const e=!x||!x.answer.length||n;m[i]&&!e?(delete m[i],d(h,Object(j.a)({},m))):!m[i]&&e&&d(h,Object(j.a)(Object(j.a)({},l.requiredQuestions),{},{[i]:!0}))}else n&&!m[i]?d(h,Object(j.a)(Object(j.a)({},l.requiredQuestions),{},{[i]:!0})):!n&&m[i]&&(delete m[i],d(h,Object(j.a)({},m)))}),[l.productQuestionAnswers,n]);const O=(e,n,a,r)=>{var s;const c=[...u].map((e=>Object(ec.cloneDeep)(e))),o=c.findIndex((e=>e.id===i)),l=n?null===r||void 0===r?void 0:r.answer.findIndex((e=>-1!==e.indexOf("Other: "))):null===(s=c[o])||void 0===s?void 0:s.answer.indexOf(e);var p,b;if(!a)return null===(p=c[o])||void 0===p||null===(b=p.answer)||void 0===b||b.splice(l,1),d("productQuestionAnswers",c);if(o<0)c.push({id:i,answer:[e]});else if("singleSelection"===t||"openText"===t)c[o].answer=[e];else if(n){const n=l<0?c[o].answer.length:l;c[o].answer[n]=e}else c[o].answer.push(e);return d("productQuestionAnswers",c)};var g;return"openText"===t?Object(a.jsx)(Ia.a,{component:Zn,className:"open-text-answer",type:"text",multiline:!0,value:(null===(g=u.find((e=>e.id==i)))||void 0===g?void 0:g.answer[0])||"",rows:"1",variant:"filled",name:"openTextAnswer-".concat(c),inputProps:{maxLength:250},onChange:e=>O(e.target.value,!1,!0)}):(null===s||void 0===s?void 0:s.map((e=>{const n=u.find((e=>e.id==i)),r="Other"===e?null===n||void 0===n?void 0:n.answer.find((e=>-1!==e.indexOf("Other: "))):null===n||void 0===n?void 0:n.answer.find((n=>n===e));return Object(a.jsxs)("div",{children:[Object(a.jsx)(ad.a,{style:{marginLeft:20},className:"question-option",control:"singleSelection"===t?Object(a.jsx)(Od,{checked:!!r}):Object(a.jsx)(zf,{checked:!!r}),label:e,onChange:t=>O("Other"===e?"Other: ":e,!1,t.target.checked,n)}),"Other"===e&&Object(a.jsx)(mn.a,{value:(null===r||void 0===r?void 0:r.replace("Other: ",""))||"",disabled:!r,onChange:e=>O("Other: ".concat(e.target.value),!0,!!e.target.value,n)})]},e)})))||[]};var Uf,Wf=(e=>Object(se.a)(D,qf)(e))(Object(E.b)((e=>{var n,t;const s=e.className,i=e.eventSelected,c=e.isOpen,o=e.order,l=e.questionAnswers,d=e.productType,u=e.reservationEdit,p=e.isWarningOpen,b=e.setIsWarningOpen,m=e.handleWarningClose,h=e.toggleDeleteModalVisibility,g=e.updateReservationStatus,v=Object(Ia.f)(),f=v.setFieldValue,y=v.setFieldError,A=v.values,N=v.errors,S=Object(r.useState)(!1),I=Object(w.a)(S,2),C=I[0],D=I[1],k=Object(r.useState)(!1),E=Object(w.a)(k,2),R=E[0],T=E[1],P=Object(r.useState)(!1),M=Object(w.a)(P,2),B=M[0],F=M[1],L=Object(r.useState)(!1),q=Object(w.a)(L,2),z=q[0],Y=q[1],V=Object(r.useState)([]),U=Object(w.a)(V,2),W=U[0],Q=U[1],G=Object(r.useState)([]),H=Object(w.a)(G,2),K=H[0],Z=H[1],X=Object(r.useState)("stallProduct"===d?A.stallProductId:A.rvProductId),J=Object(w.a)(X,1)[0];let $="";switch(d){case"stallProduct":$="stalls";break;case"rvProduct":$="rv_spot"}const ee=Object(r.useState)(A[$].status),ne=Object(w.a)(ee,2),te=ne[0],ae=ne[1],re=A.event,se=A.selectedRvs,ie=A.selectedStalls,ce=A.initialRvProduct,oe=A.initialStallProduct,le=o.orderItems,de=le.filter((e=>e.reservation&&e.reservation[d]))[0],ue=(de||{}).reservation,pe=null===ue||void 0===ue?void 0:ue.endDate,be=null===ue||void 0===ue?void 0:ue.startDate,me=Object(_.c)(zg,{fetchPolicy:"network-only"}).data;let je=[];me&&(je=me.reservationStatuses.reduce(((e,n)=>(4!==Number(n.id)&&e.push({value:n.id,label:Os(n.name)}),e)),[]));const he=e=>e.map((e=>e.format(As))),xe=(e,n)=>Array.from(Hr.a.range(e,n).by("day")),Oe=Hr()().startOf("day").isBefore(re.startDate),ge=be&&pe?xe(Oe?re.startDate:be,re.endDate):null,ve=be&&pe?xe(Oe?re.startDate:be,Hr()(re.endDate).subtract(1,"days")):null,fe=ve?he(ve):{},ye=ge?he(ge):{},Ae="stallProduct"===d?oe:ce,we="stallProduct"===d?A.stallProductId:A.rvProductId,Ne=Hr()(A[$].end).format("YYYY-MM-DD"),Se=Hr()(pe).format("YYYY-MM-DD"),Ie=Hr()(A[$].start).format("YYYY-MM-DD"),De=Hr()(be).format("YYYY-MM-DD"),ke=(null===Ae||void 0===Ae?void 0:Ae.reservation[d].id)!==we,_e=Ne!==Se||Ie!==De,Ee=xs(A).length,Re=Number(null===(n=A[$])||void 0===n?void 0:n.quantity)>-1?null===(t=A[$])||void 0===t?void 0:t.quantity:null===de||void 0===de?void 0:de.quantity,Te=Re!=(null===Ae||void 0===Ae?void 0:Ae.quantity),Pe=!Re&&(null===Ae||void 0===Ae?void 0:Ae.quantity)>0,Me=Yu("stallProduct"===d?ie:se,"id").reduce(((e,n)=>e+n.id),"")!==Yu(null===Ae||void 0===Ae?void 0:Ae.reservation["stallProduct"===d?"stalls":"rvSpots"],"id").reduce(((e,n)=>e+n.id),""),Be=e=>{f($,Object(j.a)(Object(j.a)({},A[$]),{},{start:e.startDate,end:e.endDate}))};let Fe;const Le=(e=>{if(fs(A[$]))return"";return e.find((e=>e.value===A[$].status))||null})(je),qe={cb:e=>{((e,n,t,a)=>{Fe=e.find((e=>e.reservation&&e.reservation[n]&&e.id)).id,g({orderItemId:Fe,statusId:t},{id:a})})(Object.values(le),d,e.target.value,o.id),ae(e.target.value)},key:Le?Le.value:null,label:"STATUS",options:je,selectedOption:te,type:"select",value:te},ze=function(){var e=Object(O.a)(x.a.mark((function e(n){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"0"===(t=n)?b():(f("".concat($,".quantity"),Number(t)<0?"":Number(t)),dc(t,d)&&y("".concat($,".quantity"),"Maximum exceeded"));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ye=()=>{_e&&(f("".concat($,".start"),Hr()(De).format("YYYY/MM/DD")),f("".concat($,".end"),Hr()(Se).format("YYYY/MM/DD"))),Te&&f("".concat($,".quantity"),null===Ae||void 0===Ae?void 0:Ae.quantity),D(!1),T(!1),F(!1),Q((e=>{for(;e.length;)e.pop();return e})),f("stalls"===$?"stallProductId":"rvProductId",J)},Ve=e=>{Z(e)},Ue=e=>{Y(e)};return Object(r.useEffect)((()=>{var e;const n=null===(e=K.find((e=>e.productId===we)))||void 0===e?void 0:e.available,t=K.filter((e=>e.productId!==we)).map((e=>e.available)).reduce(((e,n)=>e+n),0);T(!1),D(!1),F(!1),(ke||_e||Te)&&!z&&(n&&0!==n||t&&0!==t||!c||(D(!0),T(!1),F(!1)),(!n||0===n)&&t&&t>0&&we&&(D(!1),T(!0),F(!1)),n&&n>0&&W.length>0&&(D(!1),T(!1),F(!0)))}),[K,W,ke,_e,Te,z]),Object(a.jsxs)("div",{className:s,children:[Object(a.jsx)(ro,{isOpen:p,onCancel:m,handleClose:m,continueLabel:"DELETE",cancelLabel:"GO BACK",header:"ARE YOU SURE?",text:"Are you sure you would like to delete your entire ".concat(Ee<2?"":"stallProduct"===d?"stall":"rv"," reservation?"),onContinue:Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Ee<2)){e.next=5;break}b(),h(),e.next=9;break;case 5:return e.next=7,f("".concat("stalls"===$?"selectedStalls":"selectedRvs"),[]);case 7:f("".concat($,".quantity"),0),m();case 9:case"end":return e.stop()}}),e)})))}),Object(a.jsx)(ro,{isOpen:C,handleClose:Ye,continueLabel:"Ok",header:"PRODUCT UNAVAILABLE",text:"This product is not available for the dates selected",onContinue:Ye}),Object(a.jsx)(ro,{isOpen:R,handleClose:Ye,continueLabel:"Yes",cancelLabel:"Don't update",onCancel:Ye,header:"PRODUCT UNAVAILABLE",text:"This product is not available for the dates selected. Would you like to make a new selection? This would clear any assignments.",onContinue:()=>{"stalls"===$?(f("selectedStalls",[]),f("stallProductId",null)):(f("selectedRvs",[]),f("rvProductId",null)),T(!1),D(!1),F(!1)}}),!c&&u?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{margin:"0.625rem 0 1.375rem"}),Object(a.jsxs)("div",{className:"".concat(s,"__reservation-info"),children:[Object(a.jsx)("div",{className:"".concat(s,"__reservation-dates"),children:(()=>{var e,n;return Re?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"header-with-updated",children:[Object(a.jsx)("p",{children:"Dates"}),(Pe||_e)&&Object(a.jsx)(co,{})]}),Object(a.jsxs)("p",{children:[Hr()((null===(e=A[$])||void 0===e?void 0:e.start)||be).format("MM/DD/YY")," - ",Hr()((null===(n=A[$])||void 0===n?void 0:n.end)||pe).format("MM/DD/YY")]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"header-with-updated",children:[Object(a.jsx)("p",{children:"Dates"}),Pe&&Object(a.jsx)(co,{})]}),Object(a.jsx)("p",{children:"-"})]})})()}),Object(a.jsx)("div",{className:"".concat(s,"__reservation-type"),children:(()=>{if("stallProduct"===d){const e=null===ue||void 0===ue?void 0:ue.stallProduct,n=null===e||void 0===e?void 0:e.nightly;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"header-with-updated",children:[Object(a.jsx)("p",{children:"Rate Type"}),Pe&&Object(a.jsx)(co,{})]}),Object(a.jsx)("p",{children:e&&Re?n?"Nightly":"Flat Rate":"-"})]})}if("rvProduct"===d){const e=null===ue||void 0===ue?void 0:ue.rvProduct,n=null===e||void 0===e?void 0:e.name,t=null===e||void 0===e?void 0:e.rvLot;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"header-with-updated",children:[Object(a.jsx)("p",{children:"Spot Type"}),Pe&&Object(a.jsx)(co,{})]}),Object(a.jsx)("p",{children:Re?n||(null===t||void 0===t?void 0:t.name):"-"})]})}return null})()}),Object(a.jsx)("div",{className:"".concat(s,"__reservation-spaces"),children:"stallProduct"===d?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"header-with-updated",children:[Object(a.jsx)("p",{children:"Stalls"}),(Pe||Me)&&Object(a.jsx)(co,{})]}),ue&&Re?Object(a.jsx)("p",{children:ie.length?"".concat(ie.sort(((e,n)=>e.name.localeCompare(n.name,"en",{numeric:!0}))).map((e=>e.name)).join(", ")):"".concat(Re," stall").concat(1===Re?"":"s")}):"-"]}):"rvProduct"===d?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"header-with-updated",children:[Object(a.jsx)("p",{children:"Spots"}),(Pe||Me)&&Object(a.jsx)(co,{})]}),ue&&Re?Object(a.jsx)("p",{children:se.length?"\n            ".concat(se.sort(((e,n)=>e.name.localeCompare(n.name,"en",{numeric:!0}))).map((e=>e.name)).join(", ")):"".concat(Re," spot").concat(1===Re?"":"s")}):"-"]}):null})]}),Object(a.jsx)("div",{className:"".concat(s,"__question-answers"),children:l.length>0&&l.map((e=>(e=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{className:"question",children:e.question}),Object(a.jsx)("p",{children:e.answer.join(", ")})]}))(e)))})]}):null,Object(a.jsx)("div",{className:"".concat(s,"__card-content ").concat(c?"open":""),children:c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{margin:"0.625rem 0 1.375rem"}),Object(a.jsxs)(Ce.a,{container:!0,children:[Object(a.jsxs)(Ce.a,{item:!0,md:6,direction:"column",className:"".concat(s,"__quantity-column"),children:[Object(a.jsxs)("div",{className:"".concat(s,"__heading-five"),children:[Object(a.jsx)(xr,{label:"Quantity"}),Te&&Object(a.jsx)(co,{})]}),Object(a.jsx)(Ia.a,{name:"".concat($,".quantity"),children:({field:e,meta:n})=>Object(a.jsxs)("div",{className:"".concat(s,"__quantity-field-wrapper"),children:[Object(a.jsx)(Xc,{increment:()=>{let n=Number(e.value)+1;ze(n.toString())},decrement:()=>{let n=Number(e.value)-1;ze(n.toString())},top:13,right:22}),Object(a.jsx)(Hn,Object(j.a)(Object(j.a)(Object(j.a)({},e),n),{},{className:"".concat(s,"__quantity-field"),disabled:!i&&!u,error:Boolean(n.error)||dc(n.value,d),helperText:!!n.error&&n.error,inputProps:{maxLength:3},label:"NUMBER OF ".concat("stallProduct"===d?"STALLS":"SPOTS"),onBlur:e=>{dc(e.target.value,d)&&y("".concat($,".quantity"),"Maximum exceeded")},onChange:e=>ze(e.target.value),type:"text",value:A[$].quantity,variant:"filled"}))]})})]}),Object(a.jsx)(Ce.a,{item:!0,container:!0,md:6,direction:"column",className:"".concat(s,"__date-column"),children:Object(a.jsxs)("div",{className:"".concat(s,"__date-wrapper"),children:[Object(a.jsxs)("div",{className:"".concat(s,"__heading-five"),children:[Object(a.jsx)(xr,{label:"Dates"}),_e&&Object(a.jsx)(co,{})]}),Object(a.jsx)("div",{className:"".concat(s,"__date-input--wrapper"),children:Object(a.jsx)(Ul,{value:[A[$].start,A[$].end],selectableRangeStart:re.startDate,selectableRangeEnd:re.endDate,disabled:!(!N["".concat($)]||!N["".concat($)].quantity)||!A[$],cb:e=>{const n=e.startDate,t=e.endDate;n&&t?(f("".concat($,".start"),Hr()(n).format("YYYY/MM/DD")),f("".concat($,".end"),Hr()(t).format("YYYY/MM/DD")),Be(e)):(f("".concat($,".start"),Hr()(A[$].start).format("YYYY/MM/DD")),f("".concat($,".end"),Hr()(A[$].end).format("YYYY/MM/DD")),Be({startDate:Hr()(A[$].start),endDate:Hr()(A[$].end)}))},checkInDates:fe,checkOutDates:ye,eventStartDate:re.startDate,fromDateLabel:"CHECK IN",toDateLabel:"CHECK OUT",isOutsideRange:e=>e.isAfter(Hr()(re.endDate+1).startOf("day"))||e.isBefore(Hr()(re.startDate-1).startOf("day"))})})]})})]}),Object(a.jsx)(xr,{label:"".concat("stallProduct"===d?"Stall":"RV Spot"," Reservation Status"),className:"".concat(s,"__spacing-top")}),Object(a.jsx)(ab,Object(j.a)({className:"".concat(s,"__status-options")},qe)),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(xr,{label:(()=>{let e="";switch($){case"rv_spot":e="RV Spot Type";break;case"stalls":e="Stall Rate Type"}return e})(),className:"".concat(s,"__spacing-bottom")}),ke&&Object(a.jsx)(co,{})]}),B&&Object(a.jsxs)("div",{className:"".concat(s,"__unavailable-products-message"),children:["stallProduct"===d?"Stall":"Spot"," ",W.map((e=>e.name)).join(", ")," is assigned to another renter during some of the selected dates. Select new ","stallProduct"===d?"stalls":"spots"," or unassign the other renter to save this reservation."]}),"stallProduct"===d?Object(a.jsx)(Oc,{className:s,noLayout:!0,reservationEdit:u,handleProductAvailability:e=>Ve(e),loadingHandler:Ue}):Object(a.jsx)(nd,{className:s,noLayout:!0,reservationEdit:u,handleProductAvailability:e=>Ve(e),loadingHandler:Ue}),Object(a.jsx)(jr,{className:"".concat(s,"__assignment-heading"),label:"Available ".concat("rv_spot"===$?"RV Spots":"Stalls")}),Object(a.jsxs)("p",{className:"".concat(s,"__subheading"),children:["Assign ","rv_spot"===$?"RV spots":$," for this reservation"]}),"stallProduct"===d?Object(a.jsx)(hv,{handleUnavailableProducts:Q,hasDatesDifference:_e,hasQuantityDiff:Te,unavailableProducts:W}):Object(a.jsx)(Mv,{handleUnavailableProducts:Q,hasDatesDifference:_e,hasQuantityDiff:Te,unavailableProducts:W}),Object(a.jsx)(fg,{margin:"1.375rem 0"}),Object(a.jsx)("div",{className:"heading-container",children:Object(a.jsx)(jr,{label:"Additional ".concat("stallProduct"===d?"Stall":"RV"," Info")})}),l.map((e=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{className:"openText"===e.questionType?"open-text":"",children:[e.question,e.required&&Object(a.jsx)("span",{className:"required-text",children:" (Required)"})]}),Object(a.jsx)(Vf,{question:e,productType:"stallProduct"===d?"stalls":"spots"})]})))]}):""})]})}))(Yf||(Yf=Object(k.a)(["\n  &__reservation-info {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: 20px;\n\n    > div p:first-child {\n      font-family: 'IBMPlexSans-SemiBold';\n      font-size: 18px;\n      letter-spacing: 0.79px;\n      line-height: 23px;\n    }\n\n    p {\n      margin: 0;\n    }\n  }\n\n  &__reservation-spaces {\n    .header-with-updated {\n      display: flex;\n      flex-diection: row;\n    }\n  }\n\n  &__reservation-type {\n    .header-with-updated {\n      display: flex;\n      flex-diection: row;\n    }\n  }\n\n  &__reservation-dates {\n    .header-with-updated {\n      display: flex;\n      flex-diection: row;\n    }\n  }\n\n  &__heading-five {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n  &__assignment-heading {\n    font-size: 18px !important;\n  }\n  &__subheading {\n    margin: 0;\n  }\n  &__spacing-top {\n    margin-top: 20px !important;\n  }\n  &__spacing-bottom {\n    margin-bottom: 20px !important;\n  }\n  &__quantity-field {\n    &&& {\n      margin-top: 5px;\n    }\n  }\n\n  &__cal-label {\n    display: flex;\n    span {\n      text-transform: uppercase;\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 12px;\n      color: ",";\n      flex-basis: 50%;\n      &:nth-child(2) {\n        text-align: right;\n        margin-right: 5px;\n      }\n    }\n  }\n\n  &__status-options {\n    ","\n    color: rgb(0, 0, 0);\n    font-size: 0.9375rem;\n    line-height: 24px;\n    margin: 10px 0 20px;\n    padding: 13px 0 0;\n    background-color: "," !important;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    &::placeholder {\n      color: ",";\n    }\n    &--disabled {\n      opacity: 0.5;\n    }\n    &&& {\n      label[class^='MuiInputLabel-formControl'],\n      label[class*='MuiInputLabel-formControl'] {\n        top: -13px;\n      }\n      svg[class^='MuiSelect-icon'],\n      svg[class*='MuiSelect-icon'] {\n        top: -2px;\n      }\n    }\n    &&& {\n      label[class^='MuiFormLabel-filled'],\n      label[class*='MuiFormLabel-filled'] {\n        top: -12px;\n      }\n      div[class^='MuiSelect-selectMenu'],\n      div[class*='MuiSelect-selectMenu'] {\n        margin-bottom: 15px;\n      }\n    }\n  }\n\n  &__quantity-field-wrapper {\n    position: relative;\n    padding-right: 12px;\n  }\n\n  &__date-input--wrapper {\n    margin-top: 4px;\n  }\n\n  &__question-answers {\n    margin-top: 20px;\n    .question {\n      font-family: 'IBMPlexSans-SemiBold';\n      font-size: 18px;\n      letter-spacing: 0.79px;\n      line-height: 23px;\n    }\n  }\n\n  &__unavailable-products-message {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 12px 20px;\n    width: 100%;\n    height: 74px;\n    background: #ee5253;\n    border-radius: 3px;\n    margin: 10px 0px;\n    color: #fff;\n  }\n"])),P.text.secondary,Fe,P.background.primary,P.text.secondary));const Qf=L()(Uf||(Uf=Object(k.a)(["\n  query orderCostsOnEdit($input: OrderCostsOnEditInput) {\n    orderCostsFee(input: $input) {\n      fee\n    }\n  }\n"])));var Gf;const Hf=L()(Gf||(Gf=Object(k.a)(["\n  query orderForEdit($id: ID) {\n    order(id: $id) {\n      id\n      successorOrder {\n        id\n      }\n      fee\n      group {\n        id\n        name\n      }\n      platformFee\n      canceled\n      event {\n        id\n        closeDate\n        endDate\n        openDate\n        name\n        rvProducts {\n          id\n          endDate\n          name\n          description\n          price\n          nightly\n          rvLot {\n            id\n            description\n            name\n            power\n            sewer\n            water\n          }\n          startDate\n        }\n        stallProducts {\n          id\n          endDate\n          name\n          description\n          nightly\n          price\n          startDate\n        }\n        startDate\n        venue {\n          id\n          stripeAccountType\n          buildings {\n            id\n            name\n          }\n        }\n        addOnProducts {\n          id\n          price\n          addOn {\n            id\n            name\n            description\n            unitName\n          }\n        }\n      }\n      notes\n      adminNotes\n      orderItems {\n        id\n        addOnProduct {\n          id\n          price\n          addOn {\n            id\n            name\n            unitName\n          }\n        }\n        reservation {\n          id\n          endDate\n          rvProduct {\n            id\n            name\n            description\n            price\n            nightly\n            rvLot {\n              id\n              description\n              name\n              power\n              sewer\n              water\n            }\n          }\n          rvSpots {\n            id\n            name\n          }\n          stallProduct {\n            id\n            name\n            description\n            nightly\n            price\n          }\n          stalls {\n            id\n            building {\n              id\n              name\n            }\n            name\n            description\n            status\n          }\n          startDate\n          status {\n            id\n            name\n          }\n        }\n        quantity\n      }\n      payments {\n        id\n        admin {\n          id\n        }\n        amount\n        cardBrand\n        cardPayment\n        createdAt\n        last4\n        notes\n        serviceFee\n        stripeFee\n        ssChargeId\n        ssRefundId\n        success\n      }\n      groupPayments {\n        amount\n        isRefund\n      }\n      total\n      user {\n        id\n        email\n        firstName\n        fullName\n        lastName\n        phone\n      }\n      stallQuestionAnswers {\n        id\n        questionId\n        question\n        answerOptions\n        answer\n        questionType\n        required\n      }\n      rvQuestionAnswers {\n        id\n        questionId\n        question\n        answerOptions\n        answer\n        questionType\n        required\n      }\n    }\n  }\n"])));var Kf;const Zf=L()(Kf||(Kf=Object(k.a)(["\n  mutation OrderRefund($input: [RefundInput]!) {\n    refund(input: $input) {\n      error\n      refunds {\n        id\n        amount\n        cardBrand\n        cardPayment\n        last4\n        notes\n        ssChargeId\n        ssRefundId\n        updatedAt\n      }\n      success\n    }\n  }\n"]))),Xf=Object(re.a)(Zf,{props:({mutate:e})=>({orderRefund:n=>e({variables:{input:n},refetchQueries:[{query:Hf,variables:{id:n.orderId}}]})}),options:e=>({onCompleted:function(){var n=Object(O.a)(x.a.mark((function n(t){var a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a=(t||{}).refund)||!a.success){n.next=4;break}return e.showSnackbar("Refund successfully issued"),n.abrupt("return");case 4:Cd(e.showSnackbar,"There was a problem processing the refund");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onError:function(){var n=Object(O.a)(x.a.mark((function n(t){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Fx(t)&&e.push&&(e.showSnackbar("Session expired",{error:!0}),setTimeout((()=>{e.push(ae.LOGIN)}),3e3)),Cd(e.showSnackbar,"There was a problem processing the refund",t);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})});var Jf,$f=Object(se.a)(D,Xf);var ey,ny=$f(Object(E.b)((({isOpen:e,className:n="",close:t,handleRefund:r,payment:s})=>Object(a.jsx)(mb,{heading:"CASH OR CHECK REFUND",open:e,className:"".concat(n,"__refund-confirmation-modal"),children:s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"content",children:["Please confirm that you have paid this renter their refund of ",Object(a.jsxs)("strong",{children:["$",(-1*s.amount).toFixed(2)," by cash or check"]})]}),Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsx)(Yn,{"data-testid":"refund-cancel",secondary:!0,variant:"contained",size:"large",onClick:()=>t(),children:"CANCEL"}),Object(a.jsx)(Yn,{"data-testid":"refund-confirm",primary:!0,variant:"contained",size:"large",type:"submit",onClick:()=>r(),disabled:!s,children:"CONFIRM REFUND PAID"})]})]}):"loading..."})))(Jf||(Jf=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: space-around;\n  background: red;\n\n  &__refund-confirmation-modal {\n    & {\n      div[class^='MuiCard-root'],\n      div[class*='MuiCard-root'] {\n        max-width: 420px;\n        font-size: 16px;\n      }\n      .MuiPaper-root.MuiCard-root {\n        h4 {\n          margin-top: 0;\n          margin-bottom: 5px;\n        }\n      }\n    }\n    .actions {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      padding-top: 20px;\n      button[type='button'] {\n        width: 120px;\n      }\n      button[type='submit'] {\n        width: 225px;\n      }\n    }\n    .content {\n      padding-top: 15px;\n    }\n  }\n"]))));const ty=L()(ey||(ey=Object(k.a)(["\n  query OrderForOrderHistoryDetails($id: ID) {\n    orderHistory(id: $id) {\n      productName\n      productType\n      noRefundReason\n      prevEndDate\n      prevStartDate\n      prevProductId\n      nightly\n      startDate\n      endDate\n      createdAt\n      quantity\n      discount\n      groupOrderBill {\n        amount\n        id\n        isRefund\n        note\n      }\n      payment {\n        notes\n        last4\n        ssRefundId\n        cardBrand\n        ssChargeId\n        amount\n        id\n      }\n      payments {\n        id\n        ssChargeId\n        ssRefundId\n        amount\n        cardPayment\n        cardBrand\n        last4\n        notes\n      }\n      user {\n        firstName\n        lastName\n      }\n      prevQuantity\n      isNoRefund\n      productId\n    }\n  }\n"])));var ay;var ry=Object(E.b)((e=>{const n=e.className,t=e.close,s=e.open,i=e.orderID,c=e.group,o=Object(Ia.f)().values,l=Object(_.a)(ty,{fetchPolicy:"network-only"}),d=Object(w.a)(l,2),u=d[0],p=d[1],b=p.data,m=p.loading,j=Object(r.useCallback)((()=>{i&&u({variables:{id:i}})}),[i]);if(Object(r.useEffect)((()=>{j()}),[j,s]),m)return Object(a.jsx)(B,{});const h=Lo(b,o.event),x=Object(w.a)(h,2),O=x[0],g=x[1];return Object(a.jsxs)(mb,{open:s,onClose:t,className:"".concat(n,"__history-details-modal"),children:[Object(a.jsxs)("div",{className:"".concat(n,"__history-details-heading-container"),children:[Object(a.jsx)(br,{label:"Order History Details"}),Object(a.jsx)(et.a,{onClick:t,className:"".concat(n,"__history-details-close"),children:Object(a.jsx)(si.a,{})})]}),void 0!==b?Object(a.jsx)(a.Fragment,{children:O.map((e=>{var t,r,s,i;let o=g[e].find((e=>["orderCancellation","rvs","stalls","specialRefund"].includes(e.productType)));o||(o=g[e][0]);const l=o.payment?[o.payment]:o.payments;return Object(a.jsxs)(a.Fragment,{children:[null!==(t=o.payment)&&void 0!==t&&t.id||null!==(r=o.payments)&&void 0!==r&&r.length||null!==(s=o.groupOrderBill)&&void 0!==s&&s.id||"orderCancellation"===o.productType||"specialRefund"===o.productType||o.isNoRefund||!o.payment?Object(a.jsx)(a.Fragment,{children:"orderCancellation"!==o.productType||l.length?"orderCancellation"==o.productType||l.length||null!==(i=o.groupOrderBill)&&void 0!==i&&i.id?Object(a.jsx)(a.Fragment,{children:(l.length?l:o.groupOrderBill?[o.groupOrderBill]:[]).map((e=>Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(n,"__history-details-charge-container ").concat(n,"__history-details-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,xs:12,sm:9,className:"".concat(n,"__history-details-charge-amount"),children:Object(a.jsx)(Mo,{payment:e,item:o,group:c,isDetailsPage:!0})}),Object(a.jsx)(Ce.a,{item:!0,xs:12,sm:3,className:"".concat(n,"__history-details-charge-attribute"),children:Object(a.jsxs)("span",{children:[o.user.firstName," ",o.user.lastName,Object(a.jsx)("br",{}),Hr.a.unix(o.createdAt/1e3).format("MM/DD/YY [at] h:mm a")]})})]})))}):Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(n,"__history-details-charge-container ").concat(n,"__history-details-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,xs:12,sm:9,className:"".concat(n,"__history-details-charge-amount"),children:Object(a.jsx)("span",{children:"non payment edit"})}),Object(a.jsx)(Ce.a,{item:!0,xs:12,sm:3,className:"".concat(n,"__history-details-charge-attribute"),children:Object(a.jsxs)("span",{children:[o.user.firstName," ",o.user.lastName,Object(a.jsx)("br",{}),Hr.a.unix(o.createdAt/1e3).format("MM/DD/YY [at] h:mm a")]})})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(n,"__history-details-charge-container ").concat(n,"__history-details-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,xs:12,sm:9,className:"".concat(n,"__history-details-charge-amount"),children:Object(a.jsx)(Mo,{payment:null,item:o,group:c,isDetailsPage:!0})}),Object(a.jsx)(Ce.a,{item:!0,xs:12,sm:3,className:"".concat(n,"__history-details-charge-attribute"),children:Object(a.jsxs)("span",{children:[o.user.firstName," ",o.user.lastName,Object(a.jsx)("br",{}),Hr.a.unix(o.createdAt/1e3).format("MM/DD/YY [at] h:mm a")]})})]})})}):Object(a.jsx)(a.Fragment,{}),g[e].map(((t,r)=>{const s=t.startDate?Fo(t.startDate,t.endDate):null,i=t.prevEndDate>t.endDate||t.startDate>t.prevStartDate,c=Fo(t.startDate,t.prevStartDate)||0,o=Fo(t.prevEndDate,t.endDate)||0,l=!!i&&c+o,d=l&&Math.abs(l)>1||s&&!l&&Math.abs(s)>1?"s":"",u=Fo(t.endDate,t.startDate)||0,p=Fo(t.prevEndDate,t.prevStartDate)||0,b=u-p,m=u>p&&t.prevEndDate,j=t.prevQuantity&&t.quantity-t.prevQuantity>0,h=m&&Math.abs(b)>1?"s":"";let x=!1;for(const e in g){const n=g[e].find((e=>e.prevProductId&&!e.remove)),t=g[e].find((e=>"addOns"===e.productType&&e.prevQuantity)),a=!g[e].find((e=>["rvs","stalls"].includes(e.productType)));if(n){x=!0;break}if(t){x=!0;break}if(a){x=!0;break}}const v="addOns"===t.productType&&x&&(t.prevQuantity?t.prevQuantity<t.quantity:t.quantity)&&JSON.stringify(g[e][O.length-1])!=JSON.stringify(t);return"orderCancellation"===t.productType?null:Object(a.jsx)(a.Fragment,{children:"specialRefund"===t.productType?null:Object(a.jsx)("div",{children:Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(n,"__history-details-notes-container ").concat(n,"__history-details-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,xs:12,sm:6,md:4,children:0!==t.quantity&&!t.prevQuantity||t.prevProductId||"addOns"===t.productType?t.prevProductId&&t.remove?Object(a.jsx)(a.Fragment,{children:"Removed ".concat(t.prevQuantity||t.quantity," ").concat(Bo(t.productType,t.productName,t.prevQuantity||t.quantity)," x ").concat(Fo(t.prevStartDate||t.startDate,t.prevEndDate||t.endDate).toString().replace("-","")," night").concat(d)}):t.prevProductId&&!t.remove?Object(a.jsx)(a.Fragment,{children:"Added ".concat(t.quantity," ").concat(Bo(t.productType,t.productName,t.quantity)," x ").concat(Fo(t.startDate,t.endDate).toString().replace("-","")," night").concat(d)}):m?Object(a.jsxs)("span",{children:["Extended ",t.quantity," ",Bo(t.productType,t.productName,t.quantity)," ","addOns"!==t.productType?"x ".concat(b," night").concat(h):null]}):Object(a.jsxs)("span",{children:[i&&"Reduced ","addOns"===t.productType&&t.prevQuantity>t.quantity&&"Reduced ",v&&"Added ","addOns"===t.productType&&Math.abs(t.prevQuantity-t.quantity),"addOns"!==t.productType&&t.quantity," ",Bo(t.productType,t.productName,t.quantity)," ","addOns"!==t.productType?"x ".concat(l||Fo(t.startDate,t.endDate).toString().replace("-","")," night").concat(d):null]}):Object(a.jsx)("span",{children:"orderCancellation"===t.productType?Object(a.jsx)(a.Fragment,{}):j&&m?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{children:["Added ",t.quantity-t.prevQuantity," ",Bo(t.productType,t.productName,t.quantity-t.prevQuantity),t.startDate||t.endDate?" x ".concat(Fo(t.startDate,t.endDate).toString().replace("-","")," night").concat(d):null]}),Object(a.jsxs)("span",{style:{display:"block"},children:["Extended ",t.quantity," ",Bo(t.productType,t.productName,t.quantity)," ","addOns"!==t.productType?"x ".concat(b," night").concat(h):null]})]}):j&&!m?Object(a.jsxs)(a.Fragment,{children:["Added ",t.quantity-t.prevQuantity," ",Bo(t.productType,t.productName,t.quantity-t.prevQuantity),t.startDate||t.endDate?" x ".concat(Fo(t.startDate,t.endDate).toString().replace("-","")," night").concat(d):null]}):Object(a.jsxs)(a.Fragment,{children:["Removed ",t.prevQuantity-t.quantity||t.prevQuantity||null," ",Bo(t.productType,t.productName,t.prevQuantity-t.quantity),t.startDate||t.endDate?" x ".concat(Fo(t.startDate,t.endDate).toString().replace("-","")," night").concat(d):null]})})}),Object(a.jsx)(Ce.a,{item:!0,xs:12,sm:6,md:4,className:"".concat(n,"__history-details-productType"),children:Object(a.jsx)("span",{children:"addOns"!==t.productType?t.productName:null})}),Object(a.jsx)(Ce.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)("span",{children:t.startDate?"".concat(Hr()(t.startDate).format("MM/DD/YYYY"),"-").concat(Hr()(t.endDate).format("MM/DD/YYYY")):null})})]})},r)})}))]})}))}):null]})}))(ay||(ay=Object(k.a)(["\n  &__history-details-modal {\n    > .MuiPaper-rounded {\n      padding: 0;\n      max-height: 707px;\n      overflow: auto;\n    }\n  }\n  &__history-details-heading-container {\n    display: flex;\n    justify-content: space-between;\n    padding: 20px;\n    button {\n      padding: 0;\n    }\n  }\n  &__history-details-wrapper {\n    padding: 10px 20px;\n    border-top: ",";\n    border-bottom: ",";\n    min-height: 43px;\n    .MuiGrid-item {\n      display: inline-flex;\n      align-items: center;\n      text-align: center;\n      &:first-child {\n        text-align: left;\n      }\n      &:last-child {\n        text-align: right;\n      }\n    }\n  }\n  &__history-details-charge-container {\n    font-size: 11px;\n    background: ",";\n    text-transform: uppercase;\n  }\n  &__history-details-charge-attribute,\n  &__history-details-notes-container {\n    span {\n      flex: 1;\n    }\n  }\n  &__history-details-charge-amount {\n    font-weight: 600;\n    svg {\n      margin-left: 5px;\n    }\n  }\n  &__history-details-notes-container {\n    border-top: 0.5px solid ",";\n    font-size: 16px;\n  }\n  &__history-details-productType {\n    text-transform: capitalize;\n  }\n"])),P.border.primary,P.border.primary,P.background.primary,P.border.primary);function sy(e,n,t,a){if((!e.discountStartDate||!e.discountEndDate)&&a)return a;const r=Hr.a.range(Hr()(n),Hr()(t)),s=Hr.a.range(Hr()(e.discountStartDate),Hr()(e.discountEndDate));return Array.from(r.by("days")).filter((e=>!s.contains(Hr()(e)))).length}function iy(e,n,t,a,r){if((!e.discountStartDate||!e.discountEndDate)&&a)return a-r;if((!e.discountStartDate||!e.discountEndDate)&&!a&&r)return r;const s=Hr.a.range(Hr()(e.startDate),Hr()(e.endDate)),i=Hr.a.range(Hr()(e.discountStartDate),Hr()(e.discountEndDate)),c=Hr.a.range(Hr()(n),Hr()(t));return-Array.from(c.by("days")).filter((e=>!s.contains(Hr()(e)))).filter((e=>!i.contains(Hr()(e)))).length}function cy(e,n,t){return e&&e.length?e.map((e=>{if(!n||!t)return e;const a=n.orderItemsCostsWithDetails.find((n=>n.xProductId===e[3])),r=t.orderItemsCostsWithDetails.find((n=>n.xProductId===e[3]));if(a&&!r&&a.discount&&a.discount>0){let n=[...e];return n[1]=n[1]+a.discount,n}return e})):[]}const oy=(e,n)=>{var t;if(!n||!n.orderCosts)return[];const a=[],r={},s=e.initialOrder.orderItems,i=null===(t=n.orderCosts)||void 0===t?void 0:t.orderItemsCostsWithDetails,c={},o=(e,n,t)=>e>1&&n>1?"".concat(t):n>1?"".concat(t,"s"):1===n?t:t.slice(0,-1);return s.forEach((e=>{const n=e.quantity;if(e.addOnProduct&&n>0){const t=e.addOnProduct,a=t.id,s=t.price;r[a]={quantity:n,cost:n*s}}else if(e.reservation&&n>0){const t=e.reservation.rvProduct?"rvProduct":"stallProduct",a=e.reservation[t],s=a.id,i=a.price,c=a.nightly,o=e.reservation,l=o.startDate,d=o.endDate,u=Do(e.reservation),p=c?n*i*u:n*i;r[s]={quantity:n,price:i,cost:p,startDate:l,endDate:d,nightly:c,product:t}}})),null===i||void 0===i||i.forEach((n=>{var t;const s=n.xProductId;let i,l,d;if(c[s]=!0,n.startDate)if(r[s]){var u;i="rvProduct"===(null===(u=r[s])||void 0===u?void 0:u.product)?"spot":"stall",l=Hr()(n.endDate).diff(Hr()(n.startDate),"days"),d=Hr()(r[s].endDate).diff(Hr()(r[s].startDate),"days")}else r[s]||(i=n.xRefTypeId==hs?"spot":"stall",l=Hr()(n.endDate).diff(Hr()(n.startDate),"days"));else{const t=e.event.addOnProducts.find((e=>e.id===n.xProductId));i=null===t||void 0===t?void 0:t.addOn.unitName}i+=(null===(t=r[s])||void 0===t?void 0:t.quantity)-n.quantity>1?"s":"";const p=n.startDate&&r[s]&&(n.startDate!==r[s].startDate||n.endDate!==r[s].endDate);if(r[s]?0==n.quantity?a.push(["Removed ".concat(r[s].quantity," ").concat(i).concat(l?" x ".concat(l," nights"):""),n.orderItemCost,!!n.discount&&n.orderItemCost<=n.discount&&n.discount>0,s]):n.quantity!==r[s].quantity&&(p?a.push(["".concat(n.quantity>r[s].quantity?"Added":"Removed"," ").concat(Math.abs(n.quantity-r[s].quantity)," ").concat(i).concat(l?" x ".concat(l," ").concat(l>1?"nights":"night"):""),n.startDate?(n.quantity*r[s].price-r[s].quantity*r[s].price)*(r[s].nightly?Math.abs(sy(n,r[s].startDate,r[s].endDate,l)):1):n.orderItemCost-r[s].cost,sy(n,r[s].startDate,r[s].endDate,l)<=0,s]):a.push(["".concat(n.quantity>r[s].quantity?"Added":"Removed"," ").concat(Math.abs(n.quantity-r[s].quantity)," ").concat(i).concat(d?" x ".concat(d," ").concat(d>1?"nights":"night"):""),n.startDate?(n.quantity*r[s].price-r[s].quantity*r[s].price)*(r[s].nightly?Math.abs(sy(n,r[s].startDate,r[s].endDate,d)):1):n.orderItemCost-r[s].cost,sy(n,r[s].startDate,r[s].endDate,d)<=0,s])):a.push(["Added ".concat(n.quantity," ").concat(i).concat(l?" x ".concat(l," nights"):""),n.orderItemCost,!!n.discount&&n.orderItemCost<=n.discount&&n.discount>0,s]),p){const e=n.startDate<r[s].startDate||n.endDate>r[s].endDate;a.push(["".concat(e?"Extended":"Reduced"," ").concat(n.quantity," ").concat(o(Math.abs(n.quantity-r[s].quantity),n.quantity,i)," x ").concat(l-d," ").concat(l-d>1?"nights":"night"),!1===r[s].nightly?0:n.quantity*r[s].price*iy(n,r[s].startDate,r[s].endDate,l,d),0===iy(n,r[s].startDate,r[s].endDate,l,d),s])}delete r[s]})),Object.keys(r).forEach((n=>{if(!(null===i||void 0===i?void 0:i.find((e=>n===e.xProductId)))){let t,s;if(r[n].startDate)t="rvProduct"===r[n].product?"spot":"stall",s=Hr()(r[n].endDate).diff(Hr()(r[n].startDate),"days");else{const a=e.event.addOnProducts.find((e=>e.id===n));t=null===a||void 0===a?void 0:a.addOn.unitName}t+=r[n].quantity>1?"s":"",a.push(["Removed ".concat(r[n].quantity," ").concat(t).concat(s?" x ".concat(s," nights"):""),-1*r[n].cost,!1,n])}})),a};var ly;var dy,uy,py,by,my,jy,hy,xy=$f(Object(E.b)((e=>{var n,t;const s=e.className,i=void 0===s?"":s,c=e.order,o=void 0===c?{}:c,l=e.orderRefund,d=e.loading,u=e.priceAdjustments,p=e.toggleRefundModalVisibility,b=e.isReviewPage,m=e.orderCosts,j=e.initialOrderCosts,h=o.id,x=o.groupPayments,O=Object(r.useContext)(g).user,v=Object(r.useState)(!1),f=Object(w.a)(v,2),y=f[0],A=f[1],N=Object(r.useState)(!1),S=Object(w.a)(N,2),I=S[0],C=S[1],D=Object(r.useState)(null),k=Object(w.a)(D,2),E=k[0],R=k[1],T=Object(r.useState)(0),P=Object(w.a)(T,2),M=P[0],F=P[1],L=Object(r.useState)(0),q=Object(w.a)(L,2),z=q[0],Y=q[1],V=Math.abs(Number(null===(n=o.payments)||void 0===n?void 0:n.reduce(((e,n)=>e+function(e){if(e.notes&&e.notes.includes("NO REFUND:"))return 0;return e.amount}(n)),0))),U=!!o.group,W=Object(r.useState)(0),Q=Object(w.a)(W,2),G=Q[0],H=Q[1];let K=0;x&&(K=Math.abs(Number(null===x||void 0===x?void 0:x.reduce(((e,n)=>e+n.amount),0))));const Z=Object(_.a)(Qf),X=Object(w.a)(Z,2),J=X[0],$=X[1].data;Object(r.useEffect)((()=>{if(m&&m.discount&&u){const e=u.filter((e=>!e[2]));Y(e.reduce(((e,n)=>e+n[0].discount),0))}}),[m,u]),Object(r.useEffect)((()=>{if(u&&u.length&&j&&m){const e=cy(u,j,m).filter((e=>!e[2]));F(e.length?e.reduce(((e,n)=>e+n[1]),0):0)}else F(0)}),[u,j,m]),Object(r.useEffect)((()=>{J({variables:{input:{orderId:+o.id,isNonUSCard:!1,useCard:!o.group,amount:M}}}),$&&H($.orderCostsFee.fee)}),[M,$]);const ee=()=>{A(!1),C(!1),R(null)},ne=e=>e<0?"-$".concat(Math.abs(e).toFixed(2)):"$".concat(e.toFixed(2));return Object(a.jsxs)(ls,{className:i,children:[Object(a.jsxs)("div",{className:"".concat(i,"__header"),children:[Object(a.jsx)(br,{label:"Order History"}),Object(a.jsx)(Xg,{options:[{label:"View Details",onClick:()=>C(!0),dataTestId:"simple-menu-details"},...O.role.name!==le.VENUE_ADMIN||b||o.group?[]:[{label:"Special Refund",onClick:()=>p(),dataTestId:"simple-menu-refund"}]]})]}),d?Object(a.jsx)(B,{}):Object(a.jsxs)(a.Fragment,{children:[o.group&&Object(a.jsx)("div",{className:"".concat(i,"__deferred-group-history"),children:Object(a.jsxs)("div",{className:"deferred-amount-container",children:[Object(a.jsx)("p",{children:Yo()("Deferred to ".concat(o.group.name),50)}),Object(a.jsxs)("p",{children:["$",gs(K)]})]})}),Object(a.jsxs)("div",{className:"".concat(i,"__transaction_history_row"),children:[!U&&Object(a.jsxs)("div",{className:"information ",children:[Object(a.jsx)("div",{className:"".concat(i,"__payment-line").concat(u.length?"":" to-date"),children:"Paid to date"}),Object(a.jsxs)("div",{children:["$",(null===V||void 0===V?void 0:V.toFixed(2))||o.total.toFixed(2)]})]}),Object(a.jsx)("div",{className:"".concat(i,"__price-adjustments"),children:null===(t=cy(u,j,m))||void 0===t?void 0:t.map(((e,n)=>Object(a.jsxs)("div",{className:"itemized-container",children:[Object(a.jsx)("div",{className:"item-change",children:e[0]}),Object(a.jsx)("div",{children:ne(e[1])})]},"price-change-".concat(n))))}),Object(a.jsxs)("div",{className:"information ",children:[Object(a.jsx)("div",{className:"".concat(i,"__payment-line"),children:"Current charges"}),Object(a.jsx)("div",{children:ne(M)})]}),z>0&&M>0&&Object(a.jsxs)("div",{className:"information ",children:[Object(a.jsx)("div",{className:"".concat(i,"__payment-line"),children:"Discount"}),Object(a.jsx)("div",{children:"-$".concat(z.toFixed(2))})]}),Object(a.jsxs)("div",{className:"information ",children:[Object(a.jsx)("div",{className:"".concat(i,"__payment-line"),children:"Total including fees"}),Object(a.jsx)("div",{className:"total".concat(M<0?" refund":M>0?" charge":""),children:ne(M<0?M:0===M?0:M+G)})]})]}),Object(a.jsx)(ny,{className:i,isOpen:y,close:ee,payment:E,handleRefund:(te=E,()=>{te&&(l({amount:Number(te.amount),cardBrand:te.cardBrand,cardPayment:te.cardPayment,last4:te.last4,orderId:Number(h),ssChargeId:te.ssChargeId,notes:te.notes}),ee())})}),Object(a.jsx)(ry,{className:i,orderID:o.id,open:I,close:ee,group:o.group?o.group:{}})]})]});var te}))(ly||(ly=Object(k.a)(["\n  &__header {\n    display: flex;\n    justify-content: space-between;\n    flex-direction: row;\n    border-bottom: 1px solid ",";\n  }\n  &__payment-line {\n    display: flex;\n    justify-content: flex-start;\n    align-items: flex-start;\n\n    &.to-date {\n      margin-bottom: 10px;\n    }\n  }\n\n  &__price-adjustments {\n    border-bottom: 1px solid ",";\n\n    .itemized-container {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      font-size: 16px;\n      margin: 10px 0;\n    }\n    .item-change {\n      margin-left: 15px;\n    }\n  }\n  &__deferred-group-history {\n    margin-top: 10px;\n\n    .deferred-amount-container {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      margin: 20px 0 -10px !important;\n\n      p {\n        margin: 0;\n      }\n\n      &:first-child {\n        font-family: IBMPlexSans-Regular;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      }\n\n      &:last-child {\n        margin: 0;\n        font-family: IBMPlexSans-Regular;\n      }\n    }\n  }\n  &__transaction_history_row {\n    padding-bottom: 15px;\n    margin-top: 20px;\n    .date {\n      font-size: 12px;\n      color: gray;\n    }\n\n    .paymentPopper button {\n      top: -8px;\n      left: -5px;\n    }\n\n    .information {\n      display: flex;\n      justify-content: space-between;\n      font-size: 16px;\n      margin-bottom: 0;\n      padding-top: 10px;\n\n      &:first-child {\n        border-top: none !important\n        padding-top: 0 !important;\n      }\n\n      .total {\n        font-weight: 700;\n\n        &.refund {\n          color: ",";\n        }\n\n        &.charge {\n          color: ",";\n        }\n      }\n    }\n\n    .information {\n      svg {\n        font-size: 14px;\n        position: relative;\n      }\n\n      .refund-link {\n        a {\n          color: ",";\n          text-decoration: underline;\n          font-size: 16px;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n\n  .refund-failed {\n    color: ","\n    font-size: 11px;\n\n    svg {\n      color: ","\n      position: relative;\n      top: 3px;\n      font-size: 16px;\n    }\n  }\n"])),P.border.primary,P.border.primary,P.error.primary,P.button.primary.active,P.text.link,P.error.primary,P.error.primary));const Oy=Object(E.b)((e=>{var n;const t=e.className,r=e.heading,s=e.open,i=e.close,c=e.handleSubmit,o=e.refundToggle,l=e.cancelWithRefund,d=e.groupOrder,u=e.order,p=Math.abs(Number(null===(n=u.payments)||void 0===n?void 0:n.reduce(((e,n)=>e+n.amount),0))),b=function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(mb,{heading:r,open:s,className:"".concat(t,"__cancel-reservation-modal"),children:Object(a.jsxs)(gy,{children:[Object(a.jsx)(vy,{children:Object(a.jsx)(fy,{children:d?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"Are you sure want to cancel this entire reservation"}),Object(a.jsx)("p",{children:"This reservation will be removed from the group bill."})]}):Object(a.jsx)("p",{children:"Select whether you want to issue a refund for this reservation when it is cancelled."})})}),Object(a.jsx)(bO.a,{name:"refundOptions",children:d?Object(a.jsx)(a.Fragment,{children:o(!1)}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ad.a,{value:"noRefund",control:Object(a.jsx)(Od,{onClick:()=>o(!1)}),label:"Only cancel the reservation",disabled:!1}),Object(a.jsx)(ad.a,{value:"withRefund",control:Object(a.jsx)(Od,{onClick:()=>o(!0)}),label:"Cancel AND refund the reservation",disabled:d||p<=0})]})}),Object(a.jsxs)(yy,{children:[Object(a.jsx)(Ay,{secondary:!0,variant:"contained",size:"large",onClick:()=>{o(null),i()},children:"KEEP RESERVATION"}),Object(a.jsx)(wy,{disabled:null===l,deleteReservation:!0,secondary:!0,variant:"contained",size:"large",onClick:b,children:"CANCEL RESERVATION"})]})]})})}))(dy||(dy=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 32px;\n  height: 100%;\n  justify-content: space-around;\n  &__progress-spinner {\n    &&& {\n      bottom: 4%;\n      color: ",";\n      left: 77%;\n      position: absolute;\n    }\n  }\n  &__cancel-reservation-modal {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    & {\n      div[class^='MuiCard-root'],\n      div[class*='MuiCard-root'] {\n        height: auto;\n        width: 443px;\n      }\n    }\n    h4 {\n      margin-top: 0;\n      margin-bottom: 20px;\n    }\n  }\n"])),P.primary,Ke),gy=E.b.div(uy||(uy=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  &:first-child {\n    margin: 0 0 30px 0;\n  }\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    &:first-child {\n      margin: 0 0 30px 0;\n    }\n  }\n"])),Ke,Ke),vy=E.b.div(py||(py=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n"])),Ke),fy=E.b.div(by||(by=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  &&& p {\n    ","\n    margin: 0;\n  }\n"])),Ke,Fe),yy=Object(E.b)(gy)(my||(my=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-end;\n  align-self: flex-end;\n  width: 100%;\n  position: unset;\n  margin-top: 20px;\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    margin: 20px 0 0;\n  }\n"])),Ke,Ke),Ay=Object(E.b)(Yn)(jy||(jy=Object(k.a)(["\n  &&& {\n    line-height: 0;\n    width: 175px;\n    margin-left: ","px;\n    &&&:first-child {\n      width: auto;\n    }\n  }\n"])),(e=>e.primary?20:0)),wy=Object(E.b)(Yn)(hy||(hy=Object(k.a)(["\n  &&& {\n    width: 192px;\n    height: 36px;\n    margin-left: 20px;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n    letter-spacing: 0.7px;\n    line-height: normal;\n    white-space: nowrap;\n\n    &:disabled {\n      background-color: ",";\n    }\n  }\n"])),P.error.primary,P.button.primary.disabled);var Ny,Sy,Iy,Cy,Dy=Object(r.memo)(Oy),ky=t(396),_y=t.n(ky),Ey=t(1208);const Ry=Object(E.b)((e=>{var n;const t=e.className,s=void 0===t?"":t,i=e.onClose,c=e.open,o=e.order,l=void 0===o?{}:o,d=e.orderRefund,u=e.cancelWithRefund,p=e.handleCancelReservation,b=e.history,m=e.specialRefund,h=e.currentCharges,g=void 0===h?0:h,v=e.handleSubmit,f=e.priceAdjustments,y=Object(r.useState)(!1),A=Object(w.a)(y,2),N=A[0],S=A[1],I=Object(r.useState)(!1),C=Object(w.a)(I,2),D=C[0],k=C[1],E=l.payments,R=void 0===E?[]:E,T=l.id,P=l.fee,M=l.platformFee,F=R.find((e=>e.amount>0))||{},L={},q={};let z=[],Y=[];const V=[];var U,W=Object(vs.a)(R);try{for(W.s();!(U=W.n()).done;){let e=U.value;+e.amount>0&&e.cardPayment?L["".concat(e.ssChargeId)]=Object(j.a)({},e):e.cardPayment?q["".concat(e.ssChargeId)]=q["".concat(e.ssChargeId)]?q["".concat(e.ssChargeId)]+e.amount:e.amount:e.amount>0?z.push(e):V.push(e)}}catch(Me){W.e(Me)}finally{W.f()}for(const a in L)L[a].amount=q[a]?q[a]+L[a].amount:L[a].amount;let Q=0,G=0,H=0;if(V.length){var K,Z=Object(vs.a)(V);try{for(Z.s();!(K=Z.n()).done;){let e=K.value;Q+=Math.abs(+e.amount)}}catch(Me){Z.e(Me)}finally{Z.f()}}if(z.length){var X,J=Object(vs.a)(z);try{for(J.s();!(X=J.n()).done;){let e=X.value;G+=+e.amount,H+=e.serviceFee}}catch(Me){J.e(Me)}finally{J.f()}}const $=G-Q;z.length&&(Y=[Object(j.a)(Object(j.a)({},z[0]),{},{amount:$})]);let ee=[...Object.values(L),...Y];const te=Math.abs(Number(ee.reduce(((e,n)=>n.amount>0?e+=n.amount:e=n.amount+e),0))),ae=+te.toFixed(2)>0?+te.toFixed(2)-+(null===P||void 0===P?void 0:P.toFixed(2))-+(null===M||void 0===M?void 0:M.toFixed(2)):+te.toFixed(2),re="$".concat(g<0?null===(n=Math.abs(g))||void 0===n?void 0:n.toFixed(2):null===g||void 0===g?void 0:g.toFixed(2)),se=Object(r.useState)(!1),ie=Object(w.a)(se,2),ce=ie[0],oe=ie[1],le=Object(r.useState)(ee.map((e=>({paid:+e.amount.toFixed(2),amount:0,cardBrand:e.cardBrand,cardPayment:e.cardPayment,last4:e.last4,orderId:Number(T),ssChargeId:e.ssChargeId||Hr()(e.createdAt).unix(),createdAt:e.createdAt}))).sort(((e,n)=>Hr()(n.createdAt)-Hr()(e.createdAt)))),de=Object(w.a)(le,2),ue=de[0],pe=de[1],be={};ue.forEach((e=>be[e.ssChargeId]="".concat(e.amount,".00")));const me=ee.map((e=>{if(e.cardPayment){var n,t,a,r;const s=+(null===e||void 0===e||null===(n=e.amount)||void 0===n?void 0:n.toFixed(2))>0?+(null===e||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.toFixed(2))-+(null===(a=e.stripeFee)||void 0===a?void 0:a.toFixed(2))-+(null===(r=e.serviceFee)||void 0===r?void 0:r.toFixed(2)):+(null===te||void 0===te?void 0:te.toFixed(2));return Object(j.a)(Object(j.a)({},e),{},{amount:s})}{const n=+e.amount>0?+e.amount-H:0;return Object(j.a)(Object(j.a)({},e),{},{amount:n})}})),je=e=>e<0?"-$".concat(Math.abs(e).toFixed(2)):"$".concat(e.toFixed(2)),he=()=>m||u?((e=[])=>e.reduce(((e,n)=>n.success?100*n.amount+e:e),0)/100)(R||[]):ae<0?0:Math.abs(g)>ae?ae:Math.abs(g),xe=ue.reduce(((e,n)=>e+n.amount),0),Oe=Number(he().toFixed(2))-Number(xe.toFixed(2)),ge=(e=0,n)=>{pe((t=>t.map((t=>t.ssChargeId===n?Object(j.a)(Object(j.a)({},t),{},{amount:e}):t))))},ve=function(){var e=Object(O.a)(x.a.mark((function e(n){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n);case 2:if(!(t=e.sent)||t.data.refund.error){e.next=7;break}return i(),b.push(ne.ADMIN.ORDERS),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),fe=(e,n)=>()=>e?isNaN(Number(e))?"INVALID NUMBER":Number(e)<0?"NUMBER CANNOT BE NEGATIVE":Number(Math.abs(n).toFixed(2))<Number(e)?"CANNOT REFUND MORE THAN $".concat(n.toFixed(2)):Number(Math.abs(he()).toFixed(2))<Number(e)?"CANNOT REFUND MORE THAN $".concat(he().toFixed(2)):void 0:"REFUND AMOUNT IS REQUIRED";if(!F)return null;const ye=Object(_.a)(ty,{fetchPolicy:"network-only"}),Ae=Object(w.a)(ye,2),we=Ae[0],Ne=Ae[1],Se=Ne.data,Ie=Ne.loading,De=Lo(Se,l.event),ke=Object(w.a)(De,2)[1],_e=Object(r.useCallback)((()=>{null!==l&&void 0!==l&&l.id&&we({variables:{id:null===l||void 0===l?void 0:l.id}})}),[l]);Object(r.useEffect)((()=>{_e()}),[_e,c]);const Ee=e=>{let n=ee.find((n=>n.ssChargeId===e||Hr()(n.createdAt).unix()===e));return{amount:(null===n||void 0===n?void 0:n.amount)-((null===n||void 0===n?void 0:n.serviceFee)+(null===n||void 0===n?void 0:n.stripeFee)),amountWithFees:null===n||void 0===n?void 0:n.amount,fees:(null===n||void 0===n?void 0:n.serviceFee)+(null===n||void 0===n?void 0:n.stripeFee)}},Re=e=>Object.values(ke).flat(1).filter((n=>{if(n.payments.length>0&&(n.payments.some((e=>null===e.ssRefundId))||n.prevQuantity===n.quantity))return n.payments.every((n=>n.ssChargeId===e))||n.payments.some((e=>e.amount>0&&!e.cardPayment))})),Te=e=>{var n,t;return"specialRefund"===e.productType?je(null!==(n=null===e||void 0===e||null===(t=e.payments[0])||void 0===t?void 0:t.amount)&&void 0!==n?n:0):_o(l.orderItems,e,l.event)},Pe=(e,n)=>"orderCancellation"===e.productType?Object(a.jsx)(a.Fragment,{}):"specialRefund"===e.productType?Object(a.jsx)(a.Fragment,{children:"Special Refund"}):Object(a.jsxs)(a.Fragment,{children:["Removed ",e.prevQuantity-e.quantity||e.prevQuantity||null," ",Bo(e.productType,e.productName,e.prevQuantity-e.quantity),e.startDate||e.endDate?" x ".concat(Fo(e.startDate,e.endDate).toString().replace("-","")," night").concat(n):null]});return Ie?Object(a.jsx)(B,{}):Object(a.jsxs)(mb,{heading:"Refund",open:c,className:"".concat(s,"__refund-modal"),children:[!F.cardPayment&&!u||!F.cardPayment&&!L.length&&z.length&&Object(a.jsx)(vo,{label:"This refund needs to be issued by cash or check"}),!!g&&Math.abs(g)>he()&&Object(a.jsx)(vo,{label:"Total edits exceed transaction total"}),Object(a.jsx)(Ia.c,{className:s,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e({refundAmount:n,refundReason:t,picked:a,refundFees:r}){var s,c,o,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),s=("fees"===r?ee:me).map((e=>({amount:+e.amount.toFixed(2),cardBrand:e.cardBrand,cardPayment:e.cardPayment,last4:e.last4,orderId:Number(T),ssChargeId:e.ssChargeId,notes:"refund"===a?t:null}))),c=[{amount:+n,cardBrand:F.cardBrand,cardPayment:F.cardPayment,last4:F.last4,orderId:Number(T),ssChargeId:F.ssChargeId,notes:"refund"===a?t:null}],e.next=6,ue.filter((e=>e.amount>=1)).map((e=>{e.paid,e.createdAt;let n=Object(kn.a)(e,["paid","createdAt"]);return n.notes="refund"===a||m?t:null,n.cardPayment||(n.ssChargeId=null),n}));case 6:if(o=e.sent,l={notes:"norefund"===a?t:null,amount:+n},!u){e.next=15;break}if(e.t0=p,!e.t0){e.next=13;break}return e.next=13,p(s);case 13:e.next=23;break;case 15:if(!m){e.next=19;break}ve(o),e.next=23;break;case 19:if(e.t1=v,!e.t1){e.next=23;break}return e.next=23,v(D?o:c,n>0&&"refund"===a,!1,l);case 23:i(),S(!1);case 25:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),initialValues:Object(j.a)({refundAmount:m&&!u?"":g&&Math.abs(g)<=he()?Math.abs(g).toFixed(2):ae<0?(0).toFixed(2):ae.toFixed(2),refundReason:"",paymentOption:"card",picked:g&&Math.abs(g)>he()?"norefund":"refund",refundFees:"no-fees",refundCardTotal:xe,specialChargeId:""},be),children:({dirty:e,isValid:n,values:t,setFieldValue:r})=>Object(a.jsx)(Ia.b,{children:Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[m&&!u&&Object(a.jsxs)(Ce.a,{item:!0,xs:12,className:"".concat(s,"__original-payment-method"),children:[ue.some((e=>!e.cardPayment))&&Object(a.jsx)(vo,{hideIcon:!0,label:"Part of this refund needs to be issued by cash or check"}),Object(a.jsx)("p",{children:Object(a.jsx)("strong",{children:"Please enter the refund amount in the transaction you would like to refund"})}),he()<xe&&Object(a.jsx)(ta,{label:"Refund can not exceed the remaining total"}),Object(a.jsxs)("div",{className:"".concat(s,"__itemized-container ").concat(s,"__transaction-header"),children:[Object(a.jsx)("div",{children:Object(a.jsx)("strong",{children:"Transactions"})}),Object(a.jsx)("div",{children:Object(a.jsx)("strong",{children:"Refund total"})})]}),Object(a.jsx)("div",{children:ue.map(((e,n)=>{var i;let c=e.ssChargeId+n;return Object(a.jsxs)(Ce.a,{item:!0,xs:12,className:"".concat(s,"__payment-card-info-wrapper"),children:[Object(a.jsxs)("div",{className:"".concat(s,"__payment-wrapper"),children:[Object(a.jsxs)("div",{className:"".concat(s,"__itemized-container ").concat(s,"__payment-list"),onClick:()=>oe((e=>!1===e&&c)),children:["$",e.paid.toFixed(2)," Payment with ",e.cardBrand?e.cardBrand:"Cash"," ON"," ","".concat(Hr()(e.createdAt).format("MM/DD/YY")," at ").concat(Hr()(e.createdAt).format("hh:mm a"))," ",ce===c?Object(a.jsx)(_y.a,{className:"".concat(s,"__payment-details-icon")}):Object(a.jsx)(Rc.a,{className:"".concat(s,"__payment-details-icon")})]}),Object(a.jsxs)(Ey.a,{in:ce===c,children:[Object(a.jsxs)("div",{className:"".concat(s,"__history-details-notes-container ").concat(s,"__history-details-wrapper"),children:[q[e.ssChargeId]?Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(s,"__fees-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,md:10,children:Object(a.jsx)("strong",{children:"Refunded to date"})}),Object(a.jsx)(Ce.a,{className:"".concat(s,"__payment-fees"),item:!0,md:2,children:Object(a.jsxs)("strong",{children:["-$",Math.abs(q[e.ssChargeId]).toFixed(2)]})})]}):Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(s,"__fees-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,md:10,children:Object(a.jsx)("strong",{children:"Refunded to date"})}),Object(a.jsx)(Ce.a,{className:"".concat(s,"__payment-fees"),item:!0,md:2,children:Object(a.jsxs)("strong",{children:["-$",Q]})})]}),null===(i=Re(e.ssChargeId))||void 0===i?void 0:i.map((e=>{const n=e.startDate?Fo(e.startDate,e.endDate):null,t=e.prevEndDate>e.endDate||e.startDate>e.prevStartDate,r=Fo(e.startDate,e.prevStartDate)||0,i=Fo(e.prevEndDate,e.endDate)||0,c=!!t&&r+i,o=c&&Math.abs(c)>1||n&&!c&&Math.abs(n)>1?"s":"";return Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(s,"__history-details-bloc-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,md:5,className:"".concat(s,"__history-details-bloc"),children:0!==e.quantity&&!e.prevQuantity||e.prevProductId?e.prevProductId&&e.remove?Object(a.jsx)(a.Fragment,{children:"Removed ".concat(e.prevQuantity||e.quantity," ").concat(Bo(e.productType,e.productName,e.prevQuantity||e.quantity)," x ").concat(Fo(e.prevStartDate||e.startDate,e.prevEndDate||e.endDate).toString().replace("-","")," night").concat(o)}):Object(a.jsxs)(a.Fragment,{children:[!e.remove&&e.prevProductId?"Added ":t?"Reduced ":"Added ",e.quantity," ",Bo(e.productType,e.productName,e.quantity)," ","addOns"!==e.productType?"x ".concat(c||Fo(e.startDate,e.endDate).toString().replace("-","")," night").concat(o):null]}):Pe(e,o)}),Object(a.jsx)(Ce.a,{item:!0,md:5,className:"".concat(s,"__history-details-bloc ").concat(s,"__history-details-productType"),children:Object(a.jsx)("span",{children:"addOns"!==e.productType?e.productName:null})}),Object(a.jsx)(Ce.a,{item:!0,md:2,className:"".concat(s,"__history-details-bloc ").concat(s,"__history-details-amount"),children:Te(e)})]})}))]}),Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(s,"__fees-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,md:10,children:"Fees"}),Object(a.jsxs)(Ce.a,{className:"".concat(s,"__payment-fees"),item:!0,md:2,children:["$",Ee(e.ssChargeId).fees.toFixed(2)]})]})]})]}),Ee(e.ssChargeId).amountWithFees>0&&Object(a.jsx)(Ia.a,{"data-testid":"refund-card-amount-".concat(e.ssChargeId),name:e.ssChargeId,validate:fe(t[e.ssChargeId],e.paid),render:({field:n,meta:t})=>Object(a.jsx)(rt,Object(j.a)(Object(j.a)(Object(j.a)({},n),t),{},{"data-testid":"refund-amount-money-field",error:t.touched&&t.error,helperText:t.touched&&!!t.error&&t.error,variant:"filled",onChange:n=>{r(n.target.name,n.target.value.replace(/\$/g,"").replace(/\s/g,"").replace(/,/g,"")),ge(Number(n.target.value.replace(/[^\d.]/g,"")),e.ssChargeId)},className:"".concat(s,"__field-card")}))})]},e.index)}))})]}),u&&Object(a.jsxs)(Ce.a,{style:{width:"100%"},item:!0,xs:12,className:"".concat(s,"__refund-options"),role:"group",children:[ee.some((e=>!e.cardPayment&&!ee.every((e=>!e.cardPayment))))&&Object(a.jsx)(vo,{hideIcon:!0,label:"Part of this refund needs to be issued by cash or check"}),Object(a.jsxs)(Ia.a,{fullWidth:!0,type:"radio",name:"refundFees",component:bO.a,value:t.refundFees,onChange:e=>{r("refundFees",e.target.value),r("refundAmount","fees"===e.target.value?te.toFixed(2):ae.toFixed(2))},children:[Object(a.jsx)(ad.a,{style:{display:"flex",alignItems:"flex-start",margin:0},value:"no-fees",control:Object(a.jsx)(Od,{}),labelPlacement:"end",label:Object(a.jsxs)("p",{style:{margin:".5rem 0",display:"flex"},children:[Object(a.jsx)("span",{children:"Refund without fees to:"}),Object(a.jsx)("ul",{className:"".concat(s,"__card-lists"),children:me.map((e=>e.amount&&e.amount>0?Object(a.jsxs)("li",{children:[Object(a.jsxs)("span",{style:{fontWeight:500},children:[e.cardPayment?"".concat(Object(Gi.a)(e.cardBrand),"-").concat(e.last4):"Cash/Check",":"," "]}),Object(a.jsxs)("strong",{children:["$",e.amount.toFixed(2)]})]}):null))})]}),disabled:!!g&&Math.abs(g)>he()}),Object(a.jsx)(ad.a,{style:{display:"flex",margin:0,alignItems:"flex-start"},value:"fees",control:Object(a.jsx)(Od,{}),label:Object(a.jsxs)("p",{style:{display:"flex",margin:".5rem 0"},children:[Object(a.jsx)("span",{children:"Refund including fees to:"}),Object(a.jsx)("ul",{className:"".concat(s,"__card-lists"),children:ee.map((e=>e.amount?Object(a.jsxs)("li",{style:{fontWeight:500},children:[e.cardPayment?"".concat(Object(Gi.a)(e.cardBrand),"-").concat(e.last4):"Cash/Check",": ",Object(a.jsxs)("strong",{children:["$",e.amount.toFixed(2)]})]}):null))})]})})]})]}),!m&&!u&&Object(a.jsxs)(Ce.a,{item:!0,xs:12,className:"".concat(s,"__refund-options"),role:"group",children:[ue.some((e=>!e.cardPayment))&&Object(a.jsx)(vo,{hideIcon:!0,label:"Part of this refund needs to be issued by cash or check"}),D&&"card"===t.paymentOption?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:Object(a.jsx)("strong",{children:"Please enter the refund amount in the transaction you would like to refund"})}),Object(a.jsx)("div",{className:"".concat(s,"__price-adjustments"),children:null===f||void 0===f?void 0:f.map(((e,n)=>Object(a.jsxs)("div",{className:"".concat(s,"__itemized-container ").concat(s,"__price-adjustments"),children:[Object(a.jsx)("div",{className:"item-change",children:e[0]}),Object(a.jsx)("div",{children:je(e[1])})]},"price-change-".concat(n))))}),Object(a.jsxs)("div",{className:"".concat(s,"__itemized-container"),children:[Object(a.jsx)("div",{className:"".concat(s,"__updated-refund"),children:"Left to refund"}),Object(a.jsxs)("div",{children:["$",Oe.toFixed(2)]})]}),he()<xe&&Object(a.jsx)(ta,{label:"Refund can not exceed the remaining total"}),Object(a.jsxs)("div",{className:"".concat(s,"__itemized-container ").concat(s,"__transaction-header"),children:[Object(a.jsx)("div",{children:Object(a.jsx)("strong",{children:"Transactions"})}),Object(a.jsx)("div",{children:Object(a.jsx)("strong",{children:"Refund total"})})]}),Object(a.jsx)("div",{children:ue.map(((e,n)=>{var i;let c=e.ssChargeId+n;return Object(a.jsxs)(Ce.a,{item:!0,xs:12,className:"".concat(s,"__payment-card-info-wrapper"),children:[Object(a.jsxs)("div",{className:"".concat(s,"__payment-wrapper"),children:[Object(a.jsxs)("div",{className:"".concat(s,"__itemized-container ").concat(s,"__payment-list"),onClick:()=>oe((e=>!1===e&&c)),children:["$",e.paid.toFixed(2)," Payment with ",e.cardBrand?e.cardBrand:"Cash"," ON"," ","".concat(Hr()(e.createdAt).format("MM/DD/YY")," at ").concat(Hr()(e.createdAt).format("hh:mm a"))," ",ce===c?Object(a.jsx)(_y.a,{className:"".concat(s,"__payment-details-icon")}):Object(a.jsx)(Rc.a,{className:"".concat(s,"__payment-details-icon")})]}),Object(a.jsxs)(Ey.a,{in:ce===c,children:[Object(a.jsxs)("div",{className:"".concat(s,"__history-details-notes-container ").concat(s,"__history-details-wrapper"),children:[q[e.ssChargeId]?Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(s,"__fees-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,md:10,children:Object(a.jsx)("strong",{children:"Refunded to date"})}),Object(a.jsx)(Ce.a,{className:"".concat(s,"__payment-fees"),item:!0,md:2,children:Object(a.jsxs)("strong",{children:["-$",Math.abs(q[e.ssChargeId]).toFixed(2)]})})]}):Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(s,"__fees-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,md:10,children:Object(a.jsx)("strong",{children:"Refunded to date"})}),Object(a.jsx)(Ce.a,{className:"".concat(s,"__payment-fees"),item:!0,md:2,children:Object(a.jsxs)("strong",{children:["-$",Q]})})]}),null===(i=Re(e.ssChargeId))||void 0===i?void 0:i.map((e=>{const n=e.startDate?Fo(e.startDate,e.endDate):null,t=e.prevEndDate>e.endDate||e.startDate>e.prevStartDate,r=Fo(e.startDate,e.prevStartDate)||0,i=Fo(e.prevEndDate,e.endDate)||0,c=!!t&&r+i,o=c&&Math.abs(c)>1||n&&!c&&Math.abs(n)>1?"s":"";return Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(s,"__history-details-bloc-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,md:5,className:"".concat(s,"__history-details-bloc"),children:0!==e.quantity&&!e.prevQuantity||e.prevProductId?e.prevProductId&&e.remove?Object(a.jsx)(a.Fragment,{children:"Removed ".concat(e.prevQuantity||e.quantity," ").concat(Bo(e.productType,e.productName,e.prevQuantity||e.quantity)," x ").concat(Fo(e.prevStartDate||e.startDate,e.prevEndDate||e.endDate).toString().replace("-","")," night").concat(o)}):Object(a.jsxs)(a.Fragment,{children:[!e.remove&&e.prevProductId?"Added ":t?"Reduced ":"Added ",e.quantity," ",Bo(e.productType,e.productName,e.quantity)," ","addOns"!==e.productType?"x ".concat(c||Fo(e.startDate,e.endDate).toString().replace("-","")," night").concat(o):null]}):Object(a.jsx)("span",{children:"orderCancellation"===e.productType?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)(a.Fragment,{children:["Removed ",e.prevQuantity-e.quantity||e.prevQuantity||null," ",Bo(e.productType,e.productName,e.prevQuantity-e.quantity),e.startDate||e.endDate?" x ".concat(Fo(e.startDate,e.endDate).toString().replace("-","")," night").concat(o):null]})})}),Object(a.jsx)(Ce.a,{item:!0,md:5,className:"".concat(s,"__history-details-bloc ").concat(s,"__history-details-productType"),children:Object(a.jsx)("span",{children:"addOns"!==e.productType?e.productName:null})}),Object(a.jsx)(Ce.a,{item:!0,md:2,className:"".concat(s,"__history-details-bloc ").concat(s,"__history-details-amount"),children:_o(l.orderItems,e,l.event)})]})}))]}),Object(a.jsxs)(Ce.a,{container:!0,className:"".concat(s,"__fees-wrapper"),children:[Object(a.jsx)(Ce.a,{item:!0,md:10,children:"Fees (not refundable)"}),Object(a.jsxs)(Ce.a,{className:"".concat(s,"__payment-fees"),item:!0,md:2,children:["$",Ee(e.ssChargeId).fees.toFixed(2)]})]})]})]}),Ee(e.ssChargeId).amount>=1&&Object(a.jsx)(Ia.a,{"data-testid":"refund-card-amount-".concat(e.ssChargeId),name:e.ssChargeId,validate:fe(t[e.ssChargeId],Ee(e.ssChargeId).amount),render:({field:n,meta:t})=>Object(a.jsx)(rt,Object(j.a)(Object(j.a)(Object(j.a)({},n),t),{},{"data-testid":"refund-amount-money-field",error:t.touched&&t.error,helperText:t.touched&&!!t.error&&t.error,variant:"filled",onChange:n=>{r("".concat(n.target.name),n.target.value.replace(/\$/g,"").replace(/\s/g,"").replace(/,/g,"")),ge(Number(n.target.value.replace(/[^\d.]/g,"")),e.ssChargeId)},className:"".concat(s,"__field-card")}))})]},e.index)}))}),Object(a.jsxs)("div",{className:"".concat(s,"__itemized-container ").concat(s,"__refund-total"),children:[Object(a.jsx)("div",{children:"Refund total"}),Object(a.jsxs)("div",{children:["$",xe.toFixed(2)]})]})]}):Object(a.jsxs)(Ia.a,{type:"radio",name:"picked",component:bO.a,value:t.picked,row:!0,onChange:e=>r("picked",e.target.value),children:[Object(a.jsx)(ad.a,{value:"refund",control:Object(a.jsx)(Od,{}),label:Object(a.jsxs)("span",{children:["Refund to ",Object(a.jsx)("strong",{children:re})]}),disabled:!!g&&Math.abs(g)>he()}),Object(a.jsx)(ad.a,{value:"norefund",control:Object(a.jsx)(Od,{}),label:"No Refund"})]})]}),Object(a.jsx)(Ce.a,{item:!0,xs:12,className:"".concat(s,"__refund-field-row"),children:(ee.length<=1&&"refund"===t.picked||m||D||"norefund"===t.picked)&&Object(a.jsx)(Ia.a,{"data-testid":"return-reason-field",label:"refund"===t.picked?"REASON FOR REFUND":"NOTES",multiline:!0,maxLength:"255",type:"text",name:"refundReason",variant:"filled",component:Zn,value:t.refundReason,onChange:e=>r("refundReason",e.target.value),validate:()=>{return null!==(e=t.refundReason)&&void 0!==e&&e.trim()?(null===e||void 0===e?void 0:e.length)<3?"DESCRIPTION IS TOO SHORT":(null===e||void 0===e?void 0:e.length)>240?"DESCRIPTION IS TOO LONG":void 0:"REFUND REASON IS REQUIRED";var e}})}),Object(a.jsx)(Ce.a,{item:!0,xs:12,className:"".concat(s,"__refund-actions"),children:Object(a.jsxs)(Py,{children:[Object(a.jsx)(My,{"data-testid":"refund-cancel",secondary:!0,variant:"contained",size:"large",onClick:()=>{i(),k(!1)},children:"GO BACK"}),!D&&"norefund"!==t.picked&&ee.length>1&&!m?Object(a.jsx)(My,{"data-testid":"refund-display-card-options",primary:!0,className:"".concat(s,"__refund-button"),variant:"contained",size:"large",onClick:()=>k(!0),type:"button",children:"REFUND"}):Object(a.jsx)(My,{"data-testid":"refund-confirm",primary:!0,className:"".concat(s,"__refund-button"),variant:"contained",size:"large",type:"submit",disabled:N||!e||!n||he()<xe||!t.refundReason||m&&xe<=0&&!u||D&&Oe>0,children:"norefund"===t.picked?"NO REFUND":u?"NEXT":"REFUND"})]})})]})})})]})}))(Ny||(Ny=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  justify-content: space-around;\n  font-family: 'IBM Plex Sans';\n\n  &__card-lists {\n    margin: 0px 5px;\n    padding: 0;\n    font-weight: bold;\n    list-style: none;\n    flex: none;\n    order: 0;\n    flex-grow: 0;\n  }\n\n  &__field {\n    margin: 10px 0 !important;\n  }\n  &__refund-modal {\n    & {\n      div[class^='MuiCard-root'],\n      div[class*='MuiCard-root'] {\n        max-width: 734px;\n        font-size: 16px;\n      }\n      .MuiPaper-root.MuiCard-root {\n        h4 {\n          margin-top: 0;\n          margin-bottom: 5px;\n        }\n      }\n    }\n  }\n\n  &__no-fees-text {\n    font-size: 12px;\n  }\n  &__original-payment-method.MuiGrid-item.MuiGrid-grid-xs-12 {\n    padding: 20px 8px 0;\n    p {\n      margin: 0;\n      margin-top: 5px;\n      padding: 0;\n      &:last-child {\n        margin-top: 20px;\n      }\n    }\n  }\n  &__refund-actions.MuiGrid-item.MuiGrid-grid-xs-12 {\n    padding: 20px 8px 10px;\n  }\n  &__refund-field-row.MuiGrid-item.MuiGrid-grid-xs-12 {\n    padding: 0 8px;\n    a {\n      color: ",";\n      text-decoration: underline;\n      &:hover {\n        cursor: pointer;\n      }\n    }\n    .MuiTextField-root {\n      &:last-child {\n        margin: 10px 0 0;\n      }\n    }\n  }\n  &__refund-method {\n    margin-bottom: 0;\n  }\n  &__refund-button {\n    padding: 8px 16px !important;\n  }\n  &__payment-card-info-wrapper {\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 0;\n  }\n  &__itemized-container {\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 0;\n  }\n  &__price-adjustments {\n    border-top: 0.5px solid #c8d6e5;\n    border-bottom: 0.5px solid #c8d6e5;\n  }\n  &__transaction-header {\n    padding: 10px;\n    background: #f2f4f7;\n    border-top: 0.5px solid #c8d6e5;\n    border-bottom: 0.5px solid #c8d6e5;\n  }\n  &__field-card {\n    max-width: 105px;\n    margin: 0 !important;\n    input {\n      padding: 10px 12px 10px;\n    }\n  }\n  &__payment-list {\n    font-size: 11px;\n    font-weight: 700;\n    text-transform: uppercase;\n    letterspacing: 0.5px;\n    display: inline-flex;\n    align-items: center;\n  }\n  &__payment-details-icon {\n    fill: #10ac84 !important;\n    margin-left: 5px;\n  }\n  &__updated-refund,\n  &__transaction-header,\n  &__refund-total {\n    font-weight: 700;\n  }\n  &__refund-total {\n    border-top: 0.5px solid #c8d6e5;\n  }\n  &__payment-wrapper {\n    flex-basis: 65%;\n  }\n  &__history-details-bloc-wrapper,\n  &__fees-wrapper {\n    font-size: 11px;\n    display: flex;\n    justify-content: space-between;\n    padding-top: 10px;\n  }\n  &__payment-fees,\n  &__history-details-amount {\n    text-align: right;\n  }\n"])),P.secondary),Ty=E.b.div(Sy||(Sy=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  &__field {\n    width: 250px;\n  }\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: flex-start;\n  }\n"])),Ke,Ke),Py=Object(E.b)(Ty)(Iy||(Iy=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-end;\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n  }\n"])),Ke,Ke),My=Object(E.b)(Yn)(Cy||(Cy=Object(k.a)(["\n  &&& {\n    line-height: 0;\n    width: 120px;\n    margin-left: ","px;\n  }\n"])),(e=>e.primary?20:0));var By,Fy,Ly,qy=$f(Ry);const zy=Object(E.b)((function(e){var n,t,s,i,c,o,l,d;const u=e.className,p=e.deleteModalVisible,m=e.handleCancelReservation,h=e.history,g=e.order,v=e.setAdminNotes,f=e.adminNotes,y=e.setLastSavedNote,A=e.lastSavedNote,N=e.refundModalVisible,S=e.toggleDeleteModalVisibility,I=e.toggleRefundModalVisibility,C=e.onReviewReservation,D=Object(Ia.f)(),k=D.values,E=D.dirty,R=D.errors,T=D.isSubmitting,P=Object(r.useState)(!1),M=Object(w.a)(P,2),B=M[0],F=M[1],L=Object(r.useState)(!1),q=Object(w.a)(L,2),z=q[0],Y=q[1],V=Object(r.useState)(!1),U=Object(w.a)(V,2),W=U[0],Q=U[1],G=Object(r.useState)(!1),H=Object(w.a)(G,2),K=H[0],Z=H[1],X=Object(r.useState)(!1),J=Object(w.a)(X,2),$=J[0],ee=J[1],ne=Object(r.useState)(!1),te=Object(w.a)(ne,2),ae=te[0],re=te[1],se=Object(r.useState)(!1),ie=Object(w.a)(se,2),ce=ie[0],oe=ie[1],le=Object(r.useState)(k),de=Object(w.a)(le,1)[0],ue=Object(r.useState)(null),pe=Object(w.a)(ue,2),be=pe[0],me=pe[1],je=Object(_.a)(Fc),he=Object(w.a)(je,2),xe=he[0],Oe=he[1],ge=Oe.data,ve=Oe.loading,fe=xs(de),ye=Object(_.c)(Fc,{variables:{input:{selectedOrderItems:fe,useCard:!1,isNonUSCard:!1}},fetchPolicy:"network-only"}).data,Ae=k.hasEmptyRVQuestions,we=k.hasEmptyStallQuestions,Ne=()=>{ee(!1),re(!1),oe(!1)};let Se=!1,Ie=!0;null===(n=Object.keys(k.initialAddOns))||void 0===n||n.forEach((e=>{if(k.initialAddOns[e].quantity||0===k.initialAddOns[e].quantity)return Se=!0})),!Object.keys(k.initialAddOns).length&&null!==(t=g.event)&&void 0!==t&&t.addOnProducts.length&&(Ie=!1,Se=!0),Ie=!!Object.values(k.initialAddOns).find((e=>0!==e.quantity));const Ce=function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),window.scrollTo(0,0),C({initFormValues:de,modFormValues:k});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),De=function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),h.goBack();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ke=Object(Cs.a)(g,"orderItems",[]).filter((({addOnProduct:e})=>e));return Object(r.useEffect)((()=>{const e=xs(k);xe({variables:{input:{selectedOrderItems:e,useCard:!1,isNonUSCard:!1}}})}),[k]),g.successorOrder&&g.successorOrder.id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:"This order is outdated. To view the latest related order, click"})," ",Object(a.jsx)(b.b,{to:"/admin/order/edit/".concat(g.successorOrder.id),children:"here"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("section",{className:"".concat(u,"__form-section"),children:Object(a.jsxs)(Ia.b,{className:"".concat(u,"__form-container"),children:[Object(a.jsxs)("div",{className:"".concat(u,"__form-column-left"),children:[Object(a.jsx)(Fg,{order:g}),!!k.event.stallProducts.length&&Object(a.jsx)($g,{className:u,isOpen:W,order:g,event:g.event,setIsWarningOpen:()=>ee(!0),hasInitialProduct:!(null===(s=k.initialStallProduct)||void 0===s||!s.quantity),productType:Yg,reservationEdit:!0,simpleDeleteDisabled:!(null!==(i=k.stalls)&&void 0!==i&&i.quantity),setIsOpen:Q,children:Object(a.jsx)(Wf,{toggleDeleteModalVisibility:()=>S(!0),isWarningOpen:$,setIsWarningOpen:()=>ee(!$),className:u,isOpen:W,handleWarningClose:Ne,order:g,productType:Yg,questionAnswers:g.stallQuestionAnswers,reservationEdit:!0})}),!!k.event.rvProducts.length&&Object(a.jsx)($g,{className:u,isOpen:B,order:g,event:g.event,setIsWarningOpen:()=>re(!0),hasInitialProduct:!(null===(c=k.initialRvProduct)||void 0===c||!c.quantity),productType:Vg,reservationEdit:!0,simpleDeleteDisabled:!(null!==(o=k.rv_spot)&&void 0!==o&&o.quantity),setIsOpen:F,children:Object(a.jsx)(Wf,{toggleDeleteModalVisibility:()=>S(!0),isWarningOpen:ae,handleWarningClose:Ne,setIsWarningOpen:()=>re(!ae),className:u,isOpen:B,order:g,productType:Vg,questionAnswers:g.rvQuestionAnswers,reservationEdit:!0})}),!!k.event.addOnProducts.length&&Object(a.jsx)($g,{className:u,isOpen:z,order:g,simpleDeleteDisabled:!Ie,setIsWarningOpen:()=>oe(!ce),event:g.event,productType:Ug,hasInitialProduct:Se,reservationEdit:!0,setIsOpen:Y,children:Object(a.jsx)(Yv,{reservationEdit:!0,toggleDeleteModalVisibility:()=>S(!0),eventAddOns:g.event.addOnProducts,isOpen:z,isWarningOpen:ce,handleWarningClose:Ne,addOnProducts:ke,currentAddOns:k.addOns})}),Object(a.jsx)($g,{className:u,isOpen:K,order:g,simpleDeleteDisabled:!f,event:g.event,productType:"NOTES",hasInitialProduct:!0,reservationEdit:!0,setIsWarningOpen:()=>{v(""),Z(!0)},setIsOpen:Z,children:Object(a.jsx)(Cg,{isEdit:!0,setAdminNotes:v,adminNotes:f,isOpen:K,setIsOpen:Z,setLastSavedNote:y,lastSavedNote:A})})]}),Object(a.jsxs)("div",{className:"".concat(u,"__form-column-right"),children:[Object(a.jsx)(xy,{order:g,toggleRefundModalVisibility:()=>I(!0),reservationEdit:!0,loading:ve,priceAdjustments:oy(k,ge),orderCosts:ge&&ge.orderCosts,initialOrderCosts:ye&&ye.orderCosts}),Object(a.jsx)(Qv,{order:g}),Object(a.jsxs)(Yy,{children:[Object(a.jsx)(Nf,{secondary:!0,variant:"contained",size:"large",onClick:e=>De(e),children:"DISCARD CHANGES"}),Object(a.jsx)(Vy,{primary:!0,variant:"contained",size:"large",disabled:!E||(null===(l=Object.keys(we))||void 0===l?void 0:l.length)||(null===(d=Object.keys(Ae))||void 0===d?void 0:d.length)||(()=>{const e=Object(j.a)({},R);return!fs(e)})()||T,onClick:e=>Ce(e),children:"REVIEW & SAVE CHANGES"})]})]})]})}),Object(a.jsx)(Dy,{heading:"Cancel Entire Reservation",history:h,groupOrder:!!g.group,refundToggle:me,cancelWithRefund:be,className:u,order:g,open:p,close:()=>S(!1),handleSubmit:()=>{be?(S(!1),I(!0)):m(k,!1,{})}}),Object(a.jsx)(qy,{specialRefund:!0,cancelWithRefund:be,className:u,history:h,order:g,open:N,handleCancelReservation:e=>m(k,!0,e),onClose:()=>{me(null),I(!1)},priceAdjustments:oy(k,ge)})]})}))(By||(By=Object(k.a)(["\n  &__form-section {\n    max-width: 1284px;\n  }\n  &__form-container {\n    ","\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    @media screen and (min-width: 960px) {\n      ","\n      flex-direction: row;\n      justify-content: center;\n      align-items: flex-start;\n    }\n    p {\n      ","\n    }\n    h5 {\n      margin: 12px 0 20px;\n    }\n  }\n  &__form-column-left {\n    ","\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    margin-right: 30px;\n    min-width: 700px;\n  }\n  &__form-column-right {\n    position: -webkit-sticky; /* Safari */\n    position: sticky;\n    top: 70px;\n\n    &&& {\n      align-self: baseline;\n      margin-left: 0px;\n    }\n    @media screen and (min-width: 960px) {\n      ","\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      margin-left: 10px;\n    }\n  }\n"])),Ke,Ke,Fe,Ke,Ke),Yy=Object(E.b)(bn.a)(Fy||(Fy=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-self: flex-end;\n  width: 100%;\n  &&& {\n    padding: 8px 0;\n  }\n"])),Ke),Vy=Object(E.b)(Yn)(Ly||(Ly=Object(k.a)(["\n  &&& {\n    width: auto;\n    margin-left: 20px;\n    letter-spacing: 0.7px;\n    line-height: normal;\n  }\n"])));var Uy,Wy=zy;var Qy,Gy=Object(E.b)((e=>Object(a.jsx)(Yn,Object(j.a)({warn:!0,variant:"contained",size:"large"},e))))(Uy||(Uy=Object(k.a)(["\n  &&& {\n    align-items: center;\n    height: 36px;\n    letter-spacing: 0.7px;\n    line-height: normal;\n    justify-content: center;\n    margin-left: 20px;\n    white-space: nowrap;\n    width: 225px;\n  }\n"])));const Hy=L()(Qy||(Qy=Object(k.a)(["\n  mutation cancelOrder($input: CancelOrderInput!) {\n    cancelOrder(input: $input) {\n      error\n      order {\n        id\n        createdAt\n        fee\n        notes\n        successor\n        total\n      }\n      success\n    }\n  }\n"]))),Ky=Object(re.a)(Hy,{props:({mutate:e})=>({cancelOrder:n=>e({variables:{input:n}})}),options:e=>({onCompleted:function(){var n=Object(O.a)(x.a.mark((function n(t){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.cancelOrder||!t.cancelOrder.error){n.next=3;break}return Cd(e.showSnackbar,"There was an error cancelling the order",t.cancelOrder.error),n.abrupt("return");case 3:e.history.push(ne.ADMIN.ORDERS),e.showSnackbar("Order successfully cancelled");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onError:function(){var n=Object(O.a)(x.a.mark((function n(t){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cd(e.showSnackbar,"There was an error cancelling the order",t);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})});var Zy,Xy=Object(se.a)(H.j,D,Ky),Jy=t(585),$y=t.n(Jy);var eA,nA,tA,aA=Object(E.b)((e=>{const n=e.addOnsDifferences,t=e.className,r=e.dateDifferences,s=e.order,i=e.product,c=e.productType,o=e.quantityDifferences,l=e.selectedProducts,d=e.hasRateTypeDifferences,u=e.currentProduct,p=e.questionDifferences,b=s.orderItems,m=Number(i.quantity),j=(c!==Ug?b.filter((e=>e.reservation&&e.reservation[c])):[])[0]||[],h=(j||{}).reservation,x=()=>{if("stallProduct"===c||"rvProduct"===c){return Yu(h["stallProduct"===c?"stalls":"rvSpots"],"id").reduce(((e,n)=>e+n.id),"")!==Yu(l,"id").reduce(((e,n)=>e+n.id),"")}},O=c===Ug?b.filter((e=>!!e.addOnProduct)):[];return Object(a.jsxs)("div",{className:t,children:[h&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{}),Object(a.jsxs)("div",{className:"".concat(t,"__reservation-info"),children:[Object(a.jsx)("div",{children:(()=>{const e=i.start,n=i.end;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"Dates"}),Object(a.jsx)("p",{children:Object(a.jsx)("span",{className:r||o&&0===m?"highlighted":"",children:m>0?"".concat(Hr()(e).format("MM/DD/YY")," - ").concat(Hr()(n).format("MM/DD/YY")):"-"})})]})})()}),Object(a.jsx)("div",{children:(e=>{if(e===Yg){const e=h.stallProduct.nightly;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"Rate Type"}),Object(a.jsx)("p",{className:o&&0===m&&"highlighted",children:m>0?e?"Nightly":"Flat Rate":"-"})]})}return e===Vg?Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("p",{children:"Spot Type"}),Object(a.jsx)("p",{className:(o&&0===m||d)&&"highlighted",children:m>0?null===u||void 0===u?void 0:u.name:"-"})]}):null})(c)}),Object(a.jsx)("div",{children:(()=>{const e=l.map((e=>e.name));return c===Yg?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"Stalls"}),Object(a.jsx)("p",{children:Object(a.jsx)("span",{className:o||x()?"highlighted":"",children:m>0?l.length?"".concat(e.sort(((e,n)=>e.localeCompare(n,"en",{numeric:!0}))).join(", ")):"".concat(m," stall").concat(1===parseInt(m)?"":"s"):"-"})})]}):c===Vg?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"Spots"}),Object(a.jsx)("p",{children:Object(a.jsx)("span",{className:o||x()?"highlighted":"",children:m>0?l.length?"".concat(e.sort(((e,n)=>e.localeCompare(n,"en",{numeric:!0}))).join(", ")):"".concat(m," spot").concat(1===parseInt(m)?"":"s"):"-"})})]}):null})()}),Object(a.jsx)("div",{className:"".concat(t,"__question-answers"),children:p.length>0&&p.map((e=>{return n=e,Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{className:"question",children:n.question}),Object(a.jsx)("p",{className:n.highlight?"highlighted":"",children:n.answer.join(", ")})]});var n}))})]})]}),!h&&c!==Ug&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{}),"-"]}),!h&&c===Ug&&!O.length&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{}),"-"]}),!h&&!!O.length&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fg,{}),Object(a.jsxs)("div",{className:"".concat(t,"__card-content"),children:[Object(a.jsx)("div",{className:"add-on-row",children:(e=>{const n=b.filter((e=>!!e.addOnProduct)),t=[];return n.forEach((n=>{let r=!1,s=n.quantity;const i=n.addOnProduct.id;e&&e.forEach((e=>{e.id===i&&(r=!0,s=e.quantity||"-")})),t.push(Object(a.jsxs)("div",{className:"column",id:"add-on-column-".concat(i),children:[Object(a.jsx)("h4",{children:eo(n.addOnProduct.addOn.name)}),Object(a.jsx)("div",{className:r?"highlighted":"",children:s>0?"".concat(s," ").concat(eo(n.addOnProduct.addOn.unitName)).concat(s>1?"s":" "):"-"})]},"add-on-".concat(i)))})),t})(n)}),JSON.stringify(o)]})]})]})}))(Zy||(Zy=Object(k.a)(["\n  .highlighted {\n    background-color: #f7e569;\n    width: fit-content;\n  }\n  &__reservation-info {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: 20px;\n\n    > div p:first-child {\n      font-family: 'IBMPlexSans-SemiBold';\n      font-size: 18px;\n      letter-spacing: 0.79px;\n      line-height: 23px;\n    }\n\n    p {\n      margin: 0;\n    }\n  }\n  &__card-content {\n    .add-on-row {\n      ","\n      flex-flow: row nowrap;\n      justify-content: flex-start;\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 1rem;\n      line-height: 25px;\n      -webkit-letter-spacing: 0;\n      -moz-letter-spacing: 0;\n      -ms-letter-spacing: 0;\n      letter-spacing: 0;\n      .column {\n        font-size: 1rem;\n        margin-right: 20px;\n        &:last-child {\n          margin-right: unset;\n        }\n        width: 30%;\n        max-width: 33%;\n      }\n\n      h4 {\n        font-family: 'IBMPlexSans-SemiBold';\n        font-size: 18px;\n        -webkit-letter-spacing: 0.79px;\n        -moz-letter-spacing: 0.79px;\n        -ms-letter-spacing: 0.79px;\n        letter-spacing: 0.79px;\n        line-height: 23px;\n        margin-bottom: 0;\n        margin-block-start: 0;\n      }\n    }\n\n    .separator {\n      margin-top: 15px;\n      height: 1px;\n      width: 660px;\n      background-color: #c8d6e5;\n    }\n  }\n  h4 {\n    font-family: 'IBMPlexSans-SemiBold';\n    font-size: 18px;\n    -webkit-letter-spacing: 0.79px;\n    -moz-letter-spacing: 0.79px;\n    -ms-letter-spacing: 0.79px;\n    letter-spacing: 0.79px;\n    line-height: 23px;\n    margin-bottom: 0;\n  }\n  &__question-answers {\n    p {\n      margin: 16px 0;\n    }\n    .question {\n      font-family: 'IBMPlexSans-SemiBold';\n      font-size: 18px;\n      letter-spacing: 0.79px;\n      line-height: 23px;\n    }\n  }\n"])),Ke);const rA=Object(E.b)(De.a)(eA||(eA=Object(k.a)(["\n  ","\n  flex-direction: row;\n  width: ",";\n  padding: 20px;\n  max-width: 670px;\n  height: auto;\n  outline: none;\n  left: 50%;\n  top: 50%;\n  overflow: visible !important;\n  position: absolute;\n  -webkit-transform: translate3d(-50%, -50%, 0);\n  -moz-transform: translate3d(-50%, -50%, 0);\n  transform: translate3d(-50%, -50%, 0);\n  @media screen and (max-width: 601px) {\n    width: 80vw;\n    height: auto;\n  }\n"])),Ke,(e=>e.width?e.width:"100vw")),sA=E.b.div(nA||(nA=Object(k.a)(["\n  ","\n  flex-direction: column;\n  width: 100%;\n"])),Ke),iA=E.b.h4(tA||(tA=Object(k.a)(["\n  ","\n  margin: 16px 0 0;\n  @media screen and (max-width: 601px) {\n    margin: 0 0 20px;\n  }\n"])),Me);var cA,oA=e=>{const n=e.heading,t=Object(kn.a)(e,["heading"]);return Object(a.jsx)(no.a,Object(j.a)(Object(j.a)({className:"modal-charge"},t),{},{children:Object(a.jsx)(rA,{width:e.width,children:Object(a.jsxs)(sA,{children:[n&&Object(a.jsx)(iA,{children:n}),e.children]})})}))};var lA,dA,uA,pA,bA=Object(E.b)((function({className:e,user:n,newCard:t,setNewCard:s,currentCharges:i,fees:c}){var o,l,d;const u=Object(Ia.f)(),p=u.values,b=u.setFieldValue,m=Object(r.useState)(Number(p.ccChange||0)),j=Object(w.a)(m,2),h=j[0],x=j[1],O=()=>x(h+1),v=Object(r.useContext)(g).user,f=Object(_.c)(Mc,{variables:{email:p.renterInformation.email,venueId:null===(o=p.event)||void 0===o||null===(l=o.venue)||void 0===l?void 0:l.id},fetchPolicy:"network-only"}),y=f.data,A=void 0===y?{}:y,N=f.loading;return Object(r.useEffect)((()=>{b("adminId",v.id)}),[v.id]),A&&(n.savedCreditCards=null===A||void 0===A||null===(d=A.user)||void 0===d?void 0:d.payload.savedCreditCards),N?Object(a.jsx)(B,{}):Object(a.jsxs)("div",{className:"".concat(e,"__payment-info-container"),children:[n.savedCreditCards&&n.savedCreditCards.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"".concat(e,"__card-details-header"),children:[Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:["Total including fees: ",Object(a.jsx)("strong",{children:(S=i+c,S<0?"-$".concat(Math.abs(S).toFixed(2)):"$".concat(S.toFixed(2)))})]})}),(n.savedCreditCards&&!n.savedCreditCards.length||!n.savedCreditCards||t)&&Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:{fontFamily:"IBMPlexSans-Regular",fontSize:"16px"},children:"Save Card?"}),Object(a.jsx)(gc.a,{size:"small",className:"".concat(e,"__switch"),onChange:e=>b("ccInformation.saveCard",e.target.checked)})]})]}),Object(a.jsx)(Pc,{cards:n.savedCreditCards,setSelectedCard:(e,n)=>{b("ccInformation.selectedCard",e),b("ccInformation.selectedCardBrand",n)},setNewCard:s,newCard:t,cardValue:p.ccInformation.selectedCard})]}),(n.savedCreditCards&&!n.savedCreditCards.length||!n.savedCreditCards||t)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"".concat(e,"__card-name-container"),children:[Object(a.jsx)("div",{className:"".concat(e,"__number-container"),children:Object(a.jsx)(kc,{label:"CARD NUMBER",component:Qi.CardNumberElement,changeCallback:()=>O()})}),Object(a.jsx)(Ia.a,{component:Zn,name:"ccInformation.nameOnCard",label:"NAME ON CARD",type:"text",className:"".concat(e,"__name-field"),variant:"filled"})]}),Object(a.jsxs)("div",{className:"".concat(e,"__exp-cvc-zip-container"),children:[Object(a.jsx)("div",{className:"".concat(e,"__exp-container"),children:Object(a.jsx)(kc,{label:"EXP DATE",component:Qi.CardExpiryElement,changeCallback:()=>O()})}),Object(a.jsx)("div",{className:"".concat(e,"__cvc-container"),children:Object(a.jsx)(kc,{label:"CVV",component:Qi.CardCvcElement,changeCallback:()=>O()})}),Object(a.jsx)(Ia.a,{component:Zn,name:"ccInformation.zipCode",label:"ZIP CODE",type:"text",className:"".concat(e,"__zip-field"),variant:"filled",inputProps:{maxLength:5}})]})]})]});var S}))(cA||(cA=Object(k.a)(["\n  &__payment-info-container {\n    @media screen and (min-width: 900px) {\n      width: 100%;\n    }\n    p.Mui-error {\n      bottom: -1.7rem;\n      color: ",";\n      font-size: 12px;\n      margin-left: 0;\n      padding-left: 12px;\n      position: absolute;\n      white-space: nowrap;\n    }\n  }\n\n  &__switch {\n    .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n      opacity: 1;\n    }\n    .MuiSwitch-thumb {\n      color: ",";\n    }\n  }\n\n  &__card-name-container {\n    display: flex;\n    @media screen and (max-width: 768px) {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n  }\n\n  &__number-container {\n    width: 100%;\n    @media screen and (max-width: 768px) {\n      width: 100%;\n    }\n  }\n\n  &__exp-cvc-zip-container {\n    display: flex;\n    flex-direction: row !important;\n    width: 100%;\n    height: auto;\n    margin-top: -12px;\n    justify-content: space-evenly;\n    @media screen and (max-width: 768px) {\n      justify-content: space-between;\n    }\n  }\n\n  &__exp-container {\n    width: 50%;\n    @media screen and (max-width: 768px) {\n      width: 107px;\n    }\n  }\n\n  &__cvc-container {\n    margin: 0;\n    width: 20%;\n    @media screen and (max-width: 768px) {\n      margin: 0 15px;\n    }\n  }\n\n  &__name-field {\n    &&& {\n      margin-top: 10px;\n      margin-left: 0;\n      @media screen and (max-width: 768px) {\n        width: 100%;\n        margin-left: 0;\n      }\n    }\n    input {\n      color: ",";\n      font-family: 'IBMPlexSans-Regular';\n      font-size: 15px;\n      text-transform: uppercase;\n    }\n    height: 57px;\n    padding: 10px 5px 0 15px;\n    width: 100%;\n    @media screen and (max-width: 768px) {\n      width: 325px;\n    }\n  }\n\n  &__zip-field {\n    &&& {\n      height: 56px;\n      input {\n        color: ",";\n        font-family: 'IBMPlexSans-Regular';\n        font-size: 15px;\n      }\n      .MuiFilledInput-input {\n        padding-top: 25px;\n        height: 100%;\n      }\n    }\n    height: 57px;\n    width: 20%;\n  }\n\n  &__card-details-header {\n    display: flex;\n    width: 100%;\n    flex-direction: row !important;\n    font-family: 'IBMPlexSans-regular';\n    justify-content: space-between !important;\n    font-weight: regular;\n    margin-top: 20px;\n  }\n"])),P.error.primary,P.button.primary.active,P.white,P.text.primary,P.text.primary);const mA=Object(E.b)((e=>{const n=e.className,t=void 0===n?"":n,s=e.onClose,i=e.open,c=e.order,o=void 0===c?{}:c,l=e.currentCharges,d=void 0===l?0:l,u=e.handleSubmit,p=Object(_.a)(Qf),b=Object(w.a)(p,2),m=b[0],h=b[1].data,g=Object(r.useState)(0),v=Object(w.a)(g,2),f=v[0],y=v[1],A=Object(r.useState)(!1),N=Object(w.a)(A,2),S=N[0],I=N[1],C=Object(r.useState)(!0),D=Object(w.a)(C,2),k=D[0],E=D[1],T=Object(Qi.useElements)(),P=Object(Qi.useStripe)(),M=Object(r.useState)(!1),B=Object(w.a)(M,2),F=B[0],L=B[1];Object(r.useEffect)((()=>{m({variables:{input:{orderId:+o.id,isNonUSCard:!1,useCard:k,amount:d}}}),h&&y(h.orderCostsFee.fee)}),[d,h,k]);const q=function(){var e=Object(O.a)(x.a.mark((function e(n){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={card:T.getElement(Qi.CardNumberElement),name:n.nameOnCard,zip:n.zipCode},e.next=3,Xo(P,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(a.jsx)(oA,{heading:"Payment Method",open:i,className:"".concat(t,"__charge-modal"),children:Object(a.jsx)(Ia.c,{onSubmit:function(){var e=Object(O.a)(x.a.mark((function e({ccInformation:n,adminId:t}){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,I(!0),!n.selectedCard){e.next=10;break}return a={token:"",description:"payment description",saveCard:n.saveCard,selectedCard:n.selectedCard,useCard:n.useCard,isNonUSCard:!1,adminId:t},e.next=6,u(null,!1,n.groupBill,null,a);case 6:s(),I(!1),e.next=26;break;case 10:if(!n.useCard||n.selectedCard){e.next=21;break}return e.next=13,q(n);case 13:return r=e.sent,a={token:r?r.token.id:"",description:"payment description",saveCard:n.saveCard,selectedCard:r.token.card.last4,useCard:n.useCard,isNonUSCard:!1,adminId:t},e.next=17,u(null,!1,n.groupBill,null,a);case 17:s(),I(!1),e.next=26;break;case 21:return a={token:"",description:"payment description",saveCard:n.saveCard,selectedCard:null,useCard:n.useCard,isNonUSCard:!1,adminId:t},e.next=24,u(null,!1,n.groupBill,null,a);case 24:s(),I(!1);case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),I(!1);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(n){return e.apply(this,arguments)}}(),initialValues:{ccInformation:{nameOnCard:null,saveCard:!1,selectedCard:null,zipCode:null,useCard:!0,stripeToken:null,groupBill:!1,selectedCardBrand:""},adminId:null,renterInformation:Object(j.a)(Object(j.a)({},o.user),{},{savedCreditCards:[]}),deferredGroupId:null,event:o.event},children:({dirty:n,isValid:r,values:i,setFieldValue:c})=>{return Object(a.jsxs)(Ia.b,{children:[Object(a.jsx)(bO.a,{id:"payment-details-radio-group","aria-label":"reservationType",name:"reservationType",className:"".concat(e.className,"__radio-group"),children:Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:!0,children:Object(a.jsx)(ad.a,{id:"credit-debit-control",value:"creditOrDebitCard",control:Object(a.jsx)(xd.a,{color:"primary",id:"radio-credit-debit"}),checked:i.ccInformation.useCard,onChange:()=>{c("deferredGroupId",null),c("ccInformation.useCard",!0),c("ccInformation.groupBill",!1),E(!0)},className:"".concat(e.className,"__payment-option"),label:"Credit/Debit Card"})}),Object(a.jsx)(Ce.a,{item:!0,xs:!0,children:Object(a.jsx)(ad.a,{id:"cash-control",value:"cash",control:Object(a.jsx)(xd.a,{color:"primary",id:"radio-cash"}),checked:!i.ccInformation.useCard&&!i.ccInformation.groupBill,onChange:()=>{c("deferredGroupId",null),c("ccInformation.useCard",!1),c("ccInformation.groupBill",!1),E(!1)},className:"".concat(e.className,"__payment-option"),label:"Cash or Check"})})]})}),i.ccInformation.useCard&&Object(a.jsx)(bA,Object(j.a)(Object(j.a)({},e),{},{user:i.renterInformation,setNewCard:L,newCard:F,fees:f})),!i.ccInformation.useCard&&Object(a.jsx)("div",{children:Object(a.jsxs)("p",{className:"_total-charge-text",children:["Total including fees: ",Object(a.jsx)("strong",{children:(o=d+f,o<0?"-$".concat(Math.abs(o).toFixed(2)):"$".concat(o.toFixed(2)))})]})}),Object(a.jsxs)(hA,{children:[Object(a.jsx)(xA,{secondary:!0,variant:"contained",size:"large",onClick:s,children:"GO BACK"}),Object(a.jsxs)(xA,{primary:!0,className:"".concat(t,"__charge-button"),variant:"contained",size:"large",type:"submit",disabled:S||!n||!r,children:["CHARGE",S&&Object(a.jsx)(R.a,{size:24,className:"progress-spinner"})]})]})]});var o}})})}))(lA||(lA=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  height: auto;\n  justify-content: space-around;\n\n  &__field {\n    margin: 10px 0 !important;\n  }\n  &__charge-modal {\n    & {\n      div[class^='MuiCard-root'],\n      div[class*='MuiCard-root'] {\n        max-width: 540px;\n        font-size: 16px;\n      }\n      .MuiPaper-root.MuiCard-root {\n        h4 {\n          margin-top: 0;\n          margin-bottom: 5px;\n        }\n      }\n    }\n\n    _total-charge-text {\n      font-size: 16px;\n      font-family: 'IBM Plex Sans';\n\n      span {\n        fontweight: bold;\n      }\n    }\n  }\n  &__no-fees-text {\n    font-size: 12px;\n  }\n  &__original-payment-method.MuiGrid-item.MuiGrid-grid-xs-12 {\n    padding: 20px 8px 0;\n    p {\n      margin: 0;\n      margin-top: 5px;\n      padding: 0;\n      &:last-child {\n        margin-top: 20px;\n      }\n    }\n  }\n  &__charge-actions.MuiGrid-item.MuiGrid-grid-xs-12 {\n    padding: 20px 8px 10px;\n  }\n  &__charge-field-row.MuiGrid-item.MuiGrid-grid-xs-12 {\n    padding: 0 8px;\n    a {\n      color: ",";\n      text-decoration: underline;\n      &:hover {\n        cursor: pointer;\n      }\n    }\n    .MuiTextField-root {\n      &:last-child {\n        margin: 10px 0 0;\n      }\n    }\n  }\n  &__charge-method {\n    margin-bottom: 0;\n  }\n  &__charge-button {\n    padding: 8px 16px !important;\n  }\n  &__radio-group {\n    flex-wrap: nowrap;\n    margin-bottom: -5px;\n    white-space: nowrap;\n    width: 80%;\n  }\n\n  &__payment-option-heading {\n    &&& {\n      margin-top: 15px;\n    }\n  }\n\n  &__card-details-heading {\n    &&& {\n      margin-top: 20px;\n      margin-bottom: 10px;\n    }\n  }\n\n  &__payment-option {\n    &&& {\n      span {\n        font-family: 'IBMPlexSans-Regular';\n        font-size: 16px;\n      }\n    }\n  }\n"])),P.secondary),jA=E.b.div(dA||(dA=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  &__field {\n    width: 250px;\n  }\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: flex-start;\n  }\n"])),Ke,Ke),hA=Object(E.b)(jA)(uA||(uA=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-end;\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n  }\n"])),Ke,Ke),xA=Object(E.b)(Yn)(pA||(pA=Object(k.a)(["\n  &&& {\n    line-height: 0;\n    width: 120px;\n    margin-left: ","px;\n  }\n"])),(e=>e.primary?20:0));var OA,gA,vA,fA,yA=mA;const AA=Object(E.b)((e=>{var n,t;const s=e.className,i=void 0===s?"":s,c=e.onClose,o=e.open,l=e.order,d=void 0===l?{}:l,u=e.currentCharges,p=void 0===u?0:u,b=e.handleSubmit,m=Object(r.useState)(!1),j=Object(w.a)(m,2),h=j[0],g=j[1],v=d.payments,f=(void 0===v?[]:v).find((e=>e.amount>0))||{},y=Object(r.useState)(0),A=Object(w.a)(y,2),N=A[0],S=A[1],I=p<0?"-$".concat(null===(n=Math.abs(p))||void 0===n?void 0:n.toFixed(2)):"$".concat(null===(t=p+N)||void 0===t?void 0:t.toFixed(2)),C=Object(_.a)(Qf),D=Object(w.a)(C,2),k=D[0],E=D[1].data;return Object(r.useEffect)((()=>{k({variables:{input:{orderId:+d.id,isNonUSCard:!1,useCard:!1,amount:p}}}),E&&d.group&&S(E.orderCostsFee.fee)}),[p,E]),f?Object(a.jsx)(mb,{heading:"Adjust Group Bill",open:o,className:"".concat(i,"__group-edit-modal"),children:Object(a.jsx)(Ia.c,{className:i,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e({refundAmount:n,refundReason:t}){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),a={amount:n,notes:t,isRefund:p<0},e.t0=b,!e.t0){e.next=6;break}return e.next=6,b(a,p<0,!0);case 6:c(),g(!1);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),initialValues:{refundAmount:p,refundReason:""},children:({isValid:e,values:n,setFieldValue:t})=>{var r;return Object(a.jsx)(Ia.b,{children:Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsxs)(Ce.a,{item:!0,xs:12,className:"".concat(i,"__original-payment-method"),children:[Object(a.jsx)("p",{children:Object(a.jsx)("strong",{children:null===(r=d.group)||void 0===r?void 0:r.name})}),Object(a.jsxs)("p",{"data-testid":"original-payment-label",children:["Adjusted total: ",Object(a.jsx)("strong",{children:I})]})]}),Object(a.jsx)(Ce.a,{item:!0,xs:12,className:"".concat(i,"__refund-field-row"),children:Object(a.jsx)(Ia.a,{"data-testid":"return-reason-field",label:"REASON FOR ADJUSTMENT (OPTIONAL)",multiline:!0,maxLength:"255",type:"text",name:"refundReason",variant:"filled",component:Zn,value:n.refundReason,onChange:e=>t("refundReason",e.target.value)})}),Object(a.jsx)(Ce.a,{item:!0,xs:12,className:"".concat(i,"__refund-actions"),children:Object(a.jsxs)(NA,{children:[Object(a.jsx)(SA,{"data-testid":"refund-cancel",secondary:!0,variant:"contained",size:"large",onClick:c,children:"GO BACK"}),Object(a.jsx)(SA,{"data-testid":"refund-confirm",primary:!0,variant:"contained",size:"large",type:"submit",disabled:h||!e,children:"Adjust"})]})})]})})}})}):null}))(OA||(OA=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: space-around;\n\n  &__field {\n    margin: 10px 0 !important;\n  }\n\n  &__group-edit-modal {\n    & {\n      div[class^='MuiCard-root'],\n      div[class*='MuiCard-root'] {\n        max-width: 540px;\n        font-size: 16px;\n      }\n      .MuiPaper-root.MuiCard-root {\n        h4 {\n          margin-top: 0;\n          margin-bottom: 5px;\n        }\n      }\n    }\n  }\n\n  &__no-fees-text {\n    font-size: 12px;\n  }\n\n  &__original-payment-method.MuiGrid-item.MuiGrid-grid-xs-12 {\n    padding: 20px 8px 0;\n    p {\n      margin: 0;\n      margin-top: 5px;\n      padding: 0;\n\n      &:last-child {\n        margin-top: 20px;\n      }\n    }\n  }\n  &__refund-actions.MuiGrid-item.MuiGrid-grid-xs-12 {\n    padding: 20px 8px 10px;\n  }\n  &__refund-field-row.MuiGrid-item.MuiGrid-grid-xs-12 {\n    padding: 0 8px;\n    a {\n      color: ",";\n      text-decoration: underline;\n      &:hover {\n        cursor: pointer;\n      }\n    }\n    .MuiTextField-root {\n      &:last-child {\n        margin: 10px 0 0;\n      }\n    }\n  }\n"])),P.secondary),wA=E.b.div(gA||(gA=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  &__field {\n    width: 250px;\n  }\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: flex-start;\n  }\n"])),Ke,Ke),NA=Object(E.b)(wA)(vA||(vA=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-end;\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n  }\n"])),Ke,Ke),SA=Object(E.b)(Yn)(fA||(fA=Object(k.a)(["\n  &&& {\n    line-height: 0;\n    width: 120px;\n    margin-left: ","px;\n  }\n"])),(e=>e.primary?20:0));var IA,CA,DA,kA,_A,EA,RA=AA;const TA=Object(E.b)(ls)(IA||(IA=Object(k.a)(["\n  padding: 0px 0px 0px 25px !important;\n"]))),PA=E.b.div(CA||(CA=Object(k.a)(["\n  display: inline-flex;\n  font-size: 16px;\n  line-height: 25px;\n"]))),MA=E.b.span(DA||(DA=Object(k.a)(["\n  background-color: #f7e569;\n"]))),BA=Object(E.b)((function(e){const n=e.className,t=e.initialFormValues,s=e.modifiedFormValues,i=e.onEditReservation,c=e.order,o=e.toggleRefundModalVisibility,l=e.onSubmit,d=e.adminNotes,u=e.lastSavedNote,p=Object(r.useState)(!1),b=Object(w.a)(p,2),m=b[0],j=b[1],h=Object(r.useState)(!1),g=Object(w.a)(h,2),v=g[0],f=g[1],y=Object(r.useState)(!1),A=Object(w.a)(y,2),N=A[0],S=A[1],I=Object(Ia.f)(),C=I.values,D=I.isSubmitting,k=I.setSubmitting,E=Object(_.a)(Fc),R=Object(w.a)(E,2),T=R[0],P=R[1],M=P.data,B=P.loading,F=Object(r.useState)(0),L=Object(w.a)(F,2),q=L[0],z=L[1],Y=function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),i();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();Object(r.useEffect)((()=>{const e=xs(C);T({variables:{input:{selectedOrderItems:e,useCard:!1,isNonUSCard:!1}}})}),[C]);const V=xs(t),U=Object(_.c)(Fc,{variables:{input:{selectedOrderItems:V,useCard:!1,isNonUSCard:!1}},fetchPolicy:"network-only"}).data,W=oy(C,M);Object(r.useEffect)((()=>{if(W&&W.length&&U&&M){const e=cy(W,U.orderCosts,M.orderCosts).filter((e=>!e[2]));z(e.length?e.reduce(((e,n)=>e+n[1]),0):0)}else z(0)}),[W,U,M]);const Q=Hr()(t.stalls.end).format(lp),G=Hr()(s.stalls.end).format(lp),H=Hr()(s.stalls.start).format(lp),K=Hr()(Q).diff(Hr()(G),"days"),Z=Hr()(t.rv_spot.end).format(lp),X=Hr()(s.rv_spot.end).format(lp),J=Hr()(s.rv_spot.start).format(lp),$=Hr()(Z).diff(Hr()(X),"days"),ee=Hr()(H).diff(Hr()(G),"days"),ne=Hr()(J).diff(Hr()(X),"days"),te=function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.initialOrder.group||0==q){e.next=4;break}S(!0),e.next=17;break;case 4:if(!(q<0)){e.next=8;break}j(!0),e.next=17;break;case 8:if(!(q>0)){e.next=12;break}f(!0),e.next=17;break;case 12:return n.preventDefault(),k(!0),window.scrollTo(0,0),e.next=17,l(C,{},!1,!1,{});case 17:k(!1);case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(O.a)(x.a.mark((function e(n,t,a,r,s=null){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(C,n,t,a,r,s);case 2:case"end":return e.stop()}}),e)})));return function(n,t,a,r){return e.apply(this,arguments)}}(),re=e=>{const n=e===Yg,a=n?t.stalls:t.rv_spot,r=n?s.stalls:s.rv_spot;if(a&&a.quantity!==r.quantity){const n=Math.abs(a.quantity-r.quantity),s=e===Yg,o=s?"stall":"spot";if(n>0){var i,c;const e=1===n?"".concat(n," ").concat(o):"".concat(n," ").concat(o,"s"),a=s?Math.abs(ee):Math.abs(ne),l=1===a?"1 night":"".concat(a," nights");return{id:s?null===(i=t.initialStallProduct)||void 0===i?void 0:i.id:null===(c=t.initialRvProduct)||void 0===c?void 0:c.id,type:"Remove",message:"".concat(e," x ").concat(l),newQuantity:Number(r.quantity)}}}return null},se=e=>{let n=t.productQuestionAnswers,a=s.productQuestionAnswers;return n!==a&&a.map(((e,t)=>n.some((n=>{return s=n,i=t,(r=e).id===s.id&&JSON.stringify(r.answer)!==JSON.stringify(s.answer)&&(a[i].highlight=!0,!0);var r,s,i})))),a.filter((n=>n.productType===e))},ie=(e=>{var n,a;const r=e===Yg?"stallProduct":"rvProduct",s=e===Yg?null===(n=t.initialStallProduct)||void 0===n?void 0:n.reservation[r]:null===(a=t.initialRvProduct)||void 0===a?void 0:a.reservation[r],i=e===Yg?C.stallProductId:C.rvProductId,c=C.event[e===Yg?"stallProducts":"rvProducts"].find((e=>e.id===i));return[e===Yg?(null===c||void 0===c?void 0:c.nightly)!==(null===s||void 0===s?void 0:s.nightly):(null===s||void 0===s?void 0:s.name)!==(null===c||void 0===c?void 0:c.rvLot.name),c]})(Vg),ce=Object(w.a)(ie,2),oe=ce[0],le=ce[1],de=(()=>{if(K>0){const e=1===s.stalls.quantity?"1 stall":"".concat(s.stalls.quantity," stalls"),n=1===Math.abs(K)?"1 night":"".concat(K," nights");return{type:"Remove",message:"".concat(n," x ").concat(e)}}return null})(),ue=re(Yg),pe=se("stalls"),be=(()=>{if($>0){const e=1===s.rv_spot.quantity?"1 spot":"".concat(s.rv_spot.quantity," spots"),n=1===Math.abs($)?"1 night":"".concat($," nights");return{type:"Remove",message:"".concat(n," x ").concat(e)}}return null})(),me=re(Vg),je=se("rvSpots"),he=(()=>{const e=[];return t.initialAddOns.forEach((n=>{for(const a in s.addOns)if(n&&n.addOnProduct.id===a&&n.quantity!==s.addOns[a]){const r=t.addOns[a]||0,i=s.addOns[a]||0,c=Number(i)-Number(r);e.push({id:a,quantity:i,description:"".concat(c," ").concat(n.addOnProduct.addOn.unitName).concat(c>1?"s":""," of ").concat(n.addOnProduct.addOn.name)})}})),e})();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{children:[Object(a.jsx)(yA,{handleSubmit:ae,cancelWithRefund:!1,className:n,order:c,open:v,onClose:()=>{f(!1)},currentCharges:q}),Object(a.jsx)(qy,{handleSubmit:ae,cancelWithRefund:!1,className:n,history:history,order:c,open:m,onClose:()=>{j(!1)},priceAdjustments:W,currentCharges:q}),Object(a.jsx)(RA,{handleSubmit:ae,className:n,order:c,open:N,onClose:()=>{S(!1)},currentCharges:q}),Object(a.jsxs)(Ia.b,{className:"".concat(n,"__form-container"),children:[Object(a.jsxs)("div",{className:"".concat(n,"__form-column-left"),children:[Object(a.jsx)(TA,{children:Object(a.jsxs)(PA,{children:[Object(a.jsx)($y.a,{style:{position:"relative",top:"15px",left:"-5px"}}),Object(a.jsxs)("p",{children:["Items that have been modified are",Object(a.jsx)(MA,{children:" highlighted "})]})]})}),!!C.event.stallProducts.length&&Object(a.jsx)($g,{className:n,isOpen:!1,order:c,event:c.event,productType:Yg,reservationEdit:!1,isReview:!0,children:Object(a.jsx)(aA,{className:n,order:c,productType:Yg,product:s.stalls,selectedProducts:s.selectedStalls,dateDifferences:de,quantityDifferences:ue,questionDifferences:pe})}),!!C.event.rvProducts.length&&Object(a.jsx)($g,{className:n,isOpen:!1,order:c,event:c.event,productType:Vg,reservationEdit:!1,isReview:!0,children:Object(a.jsx)(aA,{className:n,order:c,currentProduct:le,hasRateTypeDifferences:oe,productType:Vg,product:s.rv_spot,selectedProducts:s.selectedRvs,dateDifferences:be,quantityDifferences:me,questionDifferences:je})}),!!C.event.addOnProducts.length&&Object(a.jsx)($g,{className:n,isOpen:!1,order:c,event:c.event,productType:Ug,reservationEdit:!1,isReview:!0,children:Object(a.jsx)(aA,{className:n,order:c,productType:Ug,product:s.addOns,selectedProducts:s.addOns,addOnsDifferences:he})}),d!==u&&Object(a.jsx)(Cg,{adminNotes:d,setAdminNotes:()=>{},isReview:!0})]}),Object(a.jsxs)("div",{className:"".concat(n,"__form-column-right"),children:[Object(a.jsx)(xy,{order:c,isReviewPage:!0,toggleRefundModalVisibility:()=>o(!0),reservationEdit:!0,loading:B,priceAdjustments:W,orderCosts:M&&M.orderCosts,initialOrderCosts:U&&U.orderCosts}),Object(a.jsx)(Qv,{order:c}),Object(a.jsxs)(FA,{children:[Object(a.jsx)(Nf,{variant:"contained",size:"large",onClick:e=>Y(e),children:"DISCARD EDITS"}),Object(a.jsx)(LA,{primary:!0,variant:"contained",size:"large",disabled:D,onClick:e=>te(e),children:"NEXT"})]})]})]})]})})}))(kA||(kA=Object(k.a)(["\n  &__form-container {\n    ","\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    @media screen and (min-width: 960px) {\n      ","\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n    }\n    p {\n      ","\n    }\n    h5 {\n      margin: 12px 0 20px;\n    }\n  }\n  &__form-column-left {\n    ","\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    margin-right: 10px;\n    min-width: 700px;\n    align-self: flex-start;\n  }\n  &__form-column-right {\n    &&& {\n      align-self: baseline;\n      margin-left: 0px;\n    }\n    @media screen and (min-width: 960px) {\n      ","\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      margin-left: 10px;\n    }\n  }\n"])),Ke,Ke,Fe,Ke,Ke),FA=Object(E.b)(bn.a)(_A||(_A=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-end;\n  align-self: flex-end;\n  width: 100%;\n  &&& {\n    padding: 8px 0;\n  }\n\n  button {\n    width: 225px !important;\n  }\n"])),Ke),LA=Object(E.b)(Yn)(EA||(EA=Object(k.a)(["\n  &&& {\n    width: 225px;\n    margin-left: 20px;\n    letter-spacing: 0.7px;\n    line-height: normal;\n  }\n"])));var qA,zA,YA,VA=BA;const UA=Object(E.b)(ta)(qA||(qA=Object(k.a)(["\n  &&& {\n    display: block;\n    position: absolute;\n    top: 45px;\n    height: 72px;\n  }\n"]))),WA=Object(E.b)((function(e){const n=e.cancelOrder,t=e.className,s=e.history,i=e.location,c=e.updateOrder,o=e.updateReservationStatus,l=Object(H.g)(),d=l.goBack,u=l.length,p=l.push,b=()=>u>0?d():p(ne.ADMIN.ORDERS),m=Object(r.useState)(!1),h=Object(w.a)(m,2),g=h[0],v=h[1],f=Object(r.useState)(!1),y=Object(w.a)(f,2),A=y[0],N=y[1],S=Object(r.useState)(""),I=Object(w.a)(S,2),C=I[0],D=I[1],k=Object(r.useState)(""),E=Object(w.a)(k,2),R=E[0],T=E[1],P=Object(r.useState)(!1),M=Object(w.a)(P,2),F=M[0],L=M[1],q=Object(r.useState)(null),z=Object(w.a)(q,2),Y=z[0],V=z[1],U=Object(r.useState)(null),W=Object(w.a)(U,2),Q=W[0],G=W[1],K=i.pathname,Z=K.substring(K.lastIndexOf("/")+1),X=Object(_.c)(Hf,{variables:{id:Z},fetchPolicy:"network-only"}),J=X.data,$=X.error,ee=X.loading;if(ee)return Object(a.jsx)(B,{});if(Qd($,Gd.BAD_USER_INPUT))return Object(a.jsx)(Ud,{className:t});if($)return console.log($),Object(a.jsx)(UA,{label:"There was an error fetching the order."});const te=J&&J.order||{},ae=te.orderItems,re=ae?ae.filter((e=>e.reservation)):[],se=ae?ae.filter((e=>!e.reservation)):[],ie=ae.reduce(((e,n)=>(n.addOnProduct&&n.addOnProduct.id&&(e[n.addOnProduct.id]=n.quantity),e)),{}),ce=re.filter((e=>e.reservation.stallProduct)),oe=re.filter((e=>e.reservation.rvProduct)),le=oe&&oe[0]?oe[0].reservation:{status:{id:null},rvProduct:null,rvSpots:[],startDate:null,endDate:null},de=ce&&ce[0]?ce[0].reservation:{status:{id:null},stallProduct:null,stalls:[],startDate:null,endDate:null},ue=de.stalls,pe=le.rvSpots,be=te.user,me={initialOrder:te,initialRvProduct:oe[0],initialStallProduct:ce[0],event:te.event,renterInformation:{id:be.id,firstName:be.firstName,lastName:be.lastName,phone:be.phone,email:be.email},initialAddOns:se,addOns:ie,rv_spot:{status:le.status&&le.status.id,start:le.startDate,end:le.endDate,quantity:oe[0]&&oe[0].quantity||0},stallQuestionAnswers:te.stallQuestionAnswers.map((e=>Object(ec.cloneDeep)(e))),rvQuestionAnswers:te.rvQuestionAnswers.map((e=>Object(ec.cloneDeep)(e))),productQuestionAnswers:(()=>{let e=[];return te.stallQuestionAnswers.forEach((n=>e.push({question:n.question,id:n.id,answer:n.answer,productType:"stalls"}))),te.rvQuestionAnswers.forEach((n=>e.push({question:n.question,id:n.id,answer:n.answer,productType:"rvSpots"}))),e})()||[],stalls:{status:de.status.id,start:de.startDate,end:de.endDate,quantity:ce[0]&&ce[0].quantity||0},hasEmptyRVQuestions:{},hasEmptyStallQuestions:{},renterNotes:te.notes,adminNotes:te.adminNotes,reservationEdit:!0,selectedRvs:pe,selectedStalls:ue,rvProductId:le.rvProduct&&le.rvProduct.id,stallProductId:de.stallProduct&&de.stallProduct.id},je=Ca.e().shape({addOnsQuantities:Ca.a().of(Ca.e().shape({addOnId:Ca.d().cast(),quantity:Ca.d().nullable()})),renterInformation:Ca.e().shape({id:Ca.d().cast(),firstName:Ca.f().min(2,"First name is too short").max(50,"First name is too long").required("First name is required"),lastName:Ca.f().min(2,"Last name is too short").max(50,"Last name is too long").required("Last name is required"),phone:Ca.f().length(10).required("Enter a valid phone number"),email:Ca.f().email("Must be a valid email").required("Email is required")}),renterNotes:Ca.f().max(250).nullable(),reservationEdit:Ca.c().required(),selectedRvs:Ca.a().test("selectedRvsGreaterThanAvailableQuantity","There are too many RV spots assigned. Unassign RV spots or adjust the quantity requested",(function(e){if(!e.length)return!0;const n=this.parent.rv_spot;return e.length<=parseInt(n.quantity)})).test("selectedRvsQuantityTest","Please finish assigning RV spots or clear all assigned RV spots to save this reservation",(function(e){if(!e.length)return!0;const n=this.parent.rv_spot;return e.length===parseInt(n.quantity)})),selectedStalls:Ca.a().test("selectedStallsGreaterThanAvailableQuantity","There are too many stalls assigned. Unassign stalls or adjust the quantity requested",(function(e){if(!e.length)return!0;const n=this.parent.stalls;return e.length<=parseInt(n.quantity)})).test("selectedStallsQuantityTest","Please finish assigning stalls or clear all assigned stalls to save this reservation",(function(e){if(!e.length)return!0;const n=this.parent.stalls;return e.length===parseInt(n.quantity)})),rv_spot:Ca.e().shape({quantity:Ca.d().test("quantityBetweenZeroAndCurrentQuantityRVs","Maximum quantity ".concat(50),(function(e){return!oe[0]||parseInt(e)<=50})),start:Ca.f().when("selectedRvs",((e,n)=>e?n.string().required():n)).nullable(),end:Ca.f().when("selectedRvs",((e,n)=>e?n.string().required():n)).nullable(),status:Ca.f().when("selectedRvs",((e,n)=>e?n.string().required():n)).nullable()}),stalls:Ca.e().shape({quantity:Ca.d().test("quantityBetweenZeroAndCurrentQuantityStalls","Maximum quantity ".concat(50),(function(e){return!ce[0]||parseInt(e)<=50})),start:Ca.f().when("selectedStalls",((e,n)=>e?n.string().required():n)).nullable(),end:Ca.f().when("selectedStalls",((e,n)=>e?n.string().required():n)).nullable(),status:Ca.f().when("selectedStalls",((e,n)=>e?n.string().required():n)).nullable()})}),he=function(){var e=Object(O.a)(x.a.mark((function e(n,t,a,r,s,i=null){var o,l,d,u,p,b,m,j,h,O,g,v,f,y;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=null===(o=n.initialRvProduct)||void 0===o||null===(l=o.reservation)||void 0===l?void 0:l.id,b=null===(d=n.initialStallProduct)||void 0===d||null===(u=d.reservation)||void 0===u?void 0:u.id,m={orderId:n.initialOrder.id,refundInformation:null,refundPayment:!1,groupOrderPayment:null,reservations:[],addOns:[],productQuestionAnswers:Q.productQuestionAnswers.map((e=>Object(ec.omit)(e,["question","productType","highlight","questionId"]))),assignments:[],orderItemsArray:xs(Q||n),adminNotes:C,noRefund:s,paymentInput:i},j=(e,t)=>{var a,r,s,i,c;const o=n[t],l="stalls"===t,d=null===e||void 0===e?void 0:e.quantity,u=null===e||void 0===e||null===(a=e.reservation)||void 0===a?void 0:a.startDate,j=null===e||void 0===e||null===(r=e.reservation)||void 0===r?void 0:r.endDate,h=Hr()(Q&&(null===(s=Q[t])||void 0===s?void 0:s.start)).format("YYYY-MM-DD"),x=Hr()(Q&&(null===(i=Q[t])||void 0===i?void 0:i.end)).format("YYYY-MM-DD"),O=l?n.stallProductId:n.rvProductId,g=null===e||void 0===e?void 0:e.reservation[l?"stallProduct":"rvProduct"].id,v=l?b:p,f=0!==Hr()(u).diff(Hr()(h),"days"),y=0!==Hr()(j).diff(Hr()(x),"days"),A=l?ms:hs;(v&&!O||Q&&(null===(c=Q[t])||void 0===c||!c.quantity))&&d?m.reservations.push({reservationId:v,quantity:0,startDate:h,endDate:x,type:"updateQuantity"}):!v&&O?m.reservations.push({type:"add",quantity:o.quantity,endDate:x,startDate:h}):(O!=g?m.reservations.push({reservationId:v,xProductId:O,type:"changeProduct",xRefTypeId:A,startDate:h,endDate:x,quantity:o.quantity}):((f||y)&&m.reservations.push({reservationId:v,type:"updateDates",endDate:x,startDate:h}),d!=o.quantity&&m.reservations.push({reservationId:v,type:"updateQuantity",startDate:h,endDate:x,quantity:o.quantity})),O!=g?m.reservations.push({reservationId:v,xProductId:O,type:"changeProduct",xRefTypeId:A,startDate:h,endDate:x,quantity:o.quantity}):((f||y)&&m.reservations.push({reservationId:v,type:"updateDates",endDate:x,startDate:h}),d!=o.quantity&&m.reservations.push({reservationId:v,type:"updateQuantity",startDate:h,endDate:x,quantity:o.quantity})))},h=()=>{var e,t,a;const r={},s={};null===(e=n.initialAddOns)||void 0===e||e.forEach((e=>{r[e.addOnProduct.id]=e.quantity,s[e.addOnProduct.id]=e.id})),null===(t=Object.keys(r))||void 0===t||t.forEach((e=>{(null!==Q&&void 0!==Q&&Q.addOns[e]||null!==n&&void 0!==n&&n.addOns[e])&&r[e]!==n.addOns[e]&&m.addOns.push({orderItemId:s[e],quantity:n.addOns[e],type:"updateQuantity"}),!r[e]||n.addOns[e]&&null!==Q&&void 0!==Q&&Q.addOns[e]||m.addOns.push({orderItemId:s[e],quantity:0,type:"updateQuantity"})})),null===(a=Object.keys(n.addOns))||void 0===a||a.forEach((e=>{Object.prototype.hasOwnProperty.call(r,e)||m.addOns.push({orderItemId:s[e],quantity:n.addOns[e],type:"add",xProductId:e})}))},O=(e,n,t)=>{const a={},r={},s="stalls"===t?b:p;null===e||void 0===e||e.forEach((e=>{a[e.id]=!0})),null===n||void 0===n||n.forEach((e=>{r[e.id]=!0,a[e.id]||m.assignments.push({reservationId:s,spaceId:e.id,type:"add"})})),null===e||void 0===e||e.forEach((e=>{r[e.id]||m.assignments.push({reservationId:s,spaceId:e.id,type:"delete"})}))},(n.stallProductId||b)&&(j(me.initialStallProduct,"stalls"),O(null===(g=n.initialStallProduct)||void 0===g||null===(v=g.reservation)||void 0===v?void 0:v.stalls,n.selectedStalls,"stalls")),(n.rvProductId||p)&&(j(me.initialRvProduct,"rv_spot"),O(null===(f=n.initialRvProduct)||void 0===f||null===(y=f.reservation)||void 0===y?void 0:y.rvSpots,n.selectedRvs,"rv_spot")),h(),m.refundPayment=a,m.refundInformation=r?null:t,m.groupOrderPayment=r?t:null,e.next=14,c(m);case 14:case"end":return e.stop()}}),e)})));return function(n,t,a,r,s){return e.apply(this,arguments)}}(),xe=function(){var e=Object(O.a)(x.a.mark((function e(t,a=!1,r=[]){var i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({orderId:parseInt(t.initialOrder.id),refundInformation:r.length?r.map((e=>Object(j.a)(Object(j.a)({},e),{},{orderId:parseInt(t.initialOrder.id)}))):null,refundPayment:a});case 2:if(!(i=e.sent)||!i.success){e.next=6;break}return s.push(ne.ADMIN.ORDERS),e.abrupt("return");case 6:v(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Oe=({initFormValues:e,modFormValues:n})=>{Y||Q||V(e),G(n),L(!0)},ge=()=>{L(!1)};return ee?"Loading...":Object(a.jsxs)("section",{className:t,children:[Object(a.jsx)(tu,{}),F?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(QA,{children:Object(a.jsx)("div",{className:"heading",children:Object(a.jsx)(ar,{label:"REVIEW CHANGES"})})}),Object(a.jsx)(Ia.c,{initialValues:me,enableReinitialize:!0,validationSchema:je,onSubmit:he,children:()=>Object(a.jsx)(VA,{onSubmit:he,toggleRefundModalVisibility:N,order:te,history:s,adminNotes:C,lastSavedNote:R,initialFormValues:Y,modifiedFormValues:Q,onEditReservation:ge})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(QA,{children:[Object(a.jsxs)("div",{className:"heading",children:[Object(a.jsxs)("a",{role:"button",tabIndex:"0",onClick:b,onKeyDown:b,className:"back-button",children:[Object(a.jsx)("img",{src:Vd,alt:"BACK"})," BACK"]}),Object(a.jsx)(ar,{label:"EDIT RESERVATION"})]}),!te.successorOrder&&Object(a.jsx)("div",{className:"".concat(t,"__Buttons"),children:Object(a.jsx)(Gy,{type:"submit",onClick:()=>v(!g),disabled:te&&te.canceled,children:"CANCEL RESERVATION"})})]}),Object(a.jsx)(Ia.c,{initialValues:me,enableReinitialize:!0,validationSchema:je,onSubmit:he,children:()=>Object(a.jsx)(Wy,{order:te,updateReservationStatus:o,refundModalVisible:A,deleteModalVisible:g,toggleDeleteModalVisibility:v,toggleRefundModalVisibility:N,handleCancelReservation:xe,onReviewReservation:Oe,history:s,setAdminNotes:D,adminNotes:C,setLastSavedNote:T,lastSavedNote:R})})]})]})}))(zA||(zA=Object(k.a)(["\n  margin: 85px 50px 50px;\n"]))),QA=E.b.div(YA||(YA=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 1284px;\n\n  .heading {\n    ","\n    flex-direction: column;\n    margin: 0 0 20px;\n  }\n\n  .back-button {\n    text-align: left;\n    color: ",";\n    font-size: 15px;\n    letter-spacing: 1.05px;\n    line-height: 17px;\n    margin-bottom: 8px;\n    cursor: pointer;\n\n    img {\n      height: 11px;\n    }\n  }\n"])),Ke,Ke,P.border.tertiary);var GA=Object(se.a)(Xy,Sd,Sg)(WA);var HA,KA,ZA=function(e){return e.reservationEditable?Object(a.jsx)(GA,Object(j.a)({},e)):Object(a.jsx)(Ff,{})};const XA=Object(E.b)((e=>{const n=e.className;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{className:n,children:[Object(a.jsx)(JA,{children:Object(a.jsx)("div",{className:"header",children:Object(a.jsx)(ar,{label:"CREATE RESERVATION"})})}),Object(a.jsx)(ZA,{reservationEditable:!1})]})})}))(HA||(HA=Object(k.a)(["\n  margin: 85px 50px 50px;\n  .header {\n    margin: 0 0 20px;\n  }\n"]))),JA=E.b.div(KA||(KA=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"])),Ke);var $A=XA;var ew,nw=e=>Object(a.jsx)(ZA,Object(j.a)({reservationEditable:!0},e)),tw=t(586),aw=t.n(tw);var rw,sw=Object(E.b)((e=>Object(a.jsx)(Yn,{secondary:!0,className:e.className,onClick:e.onClick,disabled:e.loading,children:e.loading?Object(a.jsx)(B,{size:20}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(aw.a,{}),e.label]})})))(ew||(ew=Object(k.a)(["\n  &&& {\n    height: 36px;\n    width: 205px;\n    background-color: ",";\n    border-radius: 3px;\n    margin: 20px 0 25px;\n    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16), 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n    align-self: flex-end;\n  }\n"])),P.secondary.active);const iw=L()(rw||(rw=Object(k.a)(["\n  query StallsForOpsTable($venueId: ID, $orderBy: [String], $filterBy: StallInputFilter, $limit: Int, $offset: Int) {\n    venue(id: $venueId) {\n      buildings {\n        id\n        name\n      }\n      stalls(orderBy: $orderBy, filterBy: $filterBy, limit: $limit, offset: $offset) {\n        id\n        name\n        status\n        building {\n          id\n          name\n        }\n        currentOrder(filterBy: $filterBy) {\n          id\n          lastDepartureDate\n        }\n        nextOrder(filterBy: $filterBy) {\n          id\n          orderItems {\n            reservation {\n              id\n              startDate\n            }\n          }\n          nextReservationDate\n        }\n      }\n    }\n    allVenueStalls: venue(id: $venueId) {\n      stalls(orderBy: $orderBy, filterBy: $filterBy) {\n        id\n      }\n    }\n  }\n"])));var cw;const ow=L()(cw||(cw=Object(k.a)(["\n  mutation UpdateStallStatus($input: StallStatusUpdateInput!) {\n    updateStallStatus(input: $input) {\n      error\n      success\n      stall {\n        id\n        status\n      }\n    }\n  }\n"])));var lw,dw,uw=Object(re.a)(ow,{props:({mutate:e})=>({updateStallStatus:(n,t)=>{e({variables:{input:n},refetchQueries:[{query:iw,variables:t}]})}})});const pw=Object(E.b)((e=>{var n,t,s;const i=Object(r.useContext)(g).user.venues,c=void 0===i?[]:i,o=Object(w.a)(c,1)[0],l=(void 0===o?{}:o).id,d=e.className,u=e.onEditClick,p=e.getVariables,b=e.updateFilterTextField,m=e.updateDates,h=e.onSubmitFilter,v=e.onClearFilters,f=e.onRequestSort,y=e.onClearSingleFilter,A=e.updateCheckedRows,N=e.onMasterCheckboxClick,S=e.handleTableChangePage,I=e.handleTableChangeRowsPerPage,C=e.showSnackbar,D=Object(r.useState)("startDate"),k=Object(w.a)(D,2),E=k[0],R=k[1],T=Object(r.useState)("asc"),P=Object(w.a)(T,2),M=P[0],B=P[1],F=Object(r.useState)(["name","ASC"]),L=Object(w.a)(F,2),q=L[0],z=L[1],Y=Object(r.useState)(null),V=Object(w.a)(Y,2),U=V[0],W=V[1],Q=Object(r.useState)(""),H=Object(w.a)(Q,2),K=H[0],Z=H[1],X=Object(r.useState)(""),J=Object(w.a)(X,2),$=J[0],ee=J[1],ne=Object(r.useState)(""),te=Object(w.a)(ne,2),ae=te[0],re=te[1],se=Object(r.useState)(""),ie=Object(w.a)(se,2),ce=ie[0],oe=ie[1],le=Object(r.useState)(""),de=Object(w.a)(le,2),ue=de[0],pe=de[1],be=Object(r.useState)([]),me=Object(w.a)(be,2),je=me[0],he=me[1],xe=Object(r.useState)(10),Oe=Object(w.a)(xe,2),ge=Oe[0],ve=Oe[1],fe=Object(r.useState)(0),ye=Object(w.a)(fe,2),Ae=ye[0],we=ye[1],Ne=Object(r.useState)(!1),Se=Object(w.a)(Ne,2),Ie=Se[0],Ce=Se[1],De=["buildingId","name","status","startDate","endDate"];Object(r.useEffect)((()=>{Ie&&C("Generating report. Download will begin shortly",{duration:5e3})}),[Ie]);const ke=p&&p({orderBy:q,filterBy:U,rowsPerPage:ge,page:Ae}),_e=Object(_.c)(iw,{variables:Object(j.a)({},ke),pollInterval:5e3,fetchPolicy:"network-only"}),Ee=_e.data,Re=_e.loading,Te=_e.error,Pe=[{value:"clean",label:"CLEAN"},{value:"dirty",label:"DIRTY"},{value:"occupied",label:"OCCUPIED"}],Me=n=>t=>{const a=n.id,r=t.target.value;return e.updateStallStatus({id:a,status:r},ke)},Be=(null===Ee||void 0===Ee||null===(n=Ee.venue)||void 0===n?void 0:n.stalls)||[],Fe=[{key:"buildingId",label:"STALL LOCATION",type:"select",value:(e=>{if(!K)return"";const n=e.find((e=>e.id===K));return n?n.name:void 0})(Ee?Ee.venue.buildings:[]),selectedOption:K,options:(Le=Ee?Ee.venue.buildings:[],Le.map((e=>({value:e.id,label:e.name})))),cb:(e=>n=>{if(n.target){const t=n.target.value,a=e.find((e=>e.id===t));if(a)return Z(a.id)}return Z("")})(Ee?Ee.venue.buildings:[])},{key:"name",label:"STALL NUMBER",type:"text",value:$,cb:b&&b(ee)},{key:"status",label:"STATUS",type:"select",value:ue?ue.toUpperCase():null,selectedOption:ue,options:Pe,cb:e=>{if(e.target){const n=e.target.value,t=Pe.find((e=>e.value===n));if(t)return pe(t.value)}return pe("")}},{key:"endDate",label:"CHECK OUT DATE",type:"date",plural:!1,value:ce,showPast:!1,cb:m&&m("single-end",re,oe)},{key:"startDate",label:"NEXT CHECK IN",type:"date",plural:!1,value:ae,showPast:!1,cb:m&&m("single",re,oe)}];var Le;if(Re)return"Loading...";if(Te)return console.error(Te),"uh oh...";const qe=function(){var e=Object(O.a)(x.a.mark((function e(){var n,t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return Ce(!0),"ops/stalls-report","StallsReport.xlsx",n={buildingId:K,name:$,status:ue,startDate:ae,endDate:ce},t={},Object.keys(n).forEach((e=>{n[e]&&(t[e]=n[e])})),e.prev=8,e.next=11,Object(G.b)({path:"ops/stalls-report",method:"POST",body:{venueId:l,options:{filterBy:t,orderBy:["stall","ASC"]}},header:{responseType:"blob"},isDownload:!0,fileName:"StallsReport.xlsx"});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),C("Unable to download report",{duration:5e3,error:!0});case 16:Ce(!1);case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(tu,{}),Object(a.jsx)("div",{className:"".concat(d,"__page-header"),children:Object(a.jsxs)("div",{className:"".concat(d,"__header-wrapper"),children:[Object(a.jsx)(ar,{label:"STALLS"}),Object(a.jsx)("div",{children:Object(a.jsx)(bw,{label:"EXPORT REPORT",onClick:qe,loading:Ie})})]})}),Object(a.jsx)(ah,{filters:Fe,rows:[{id:"checkable",numeric:!1,disablePadding:!1,label:""},{id:"building",numeric:!1,disablePadding:!1,label:"STALL LOCATION"},{id:"name",numeric:!1,disablePadding:!1,label:"STALL #",sortable:!0},{id:"status",numeric:!1,disablePadding:!1,label:"STATUS",sortable:!0},{id:"departureDate",numeric:!1,disablePadding:!1,label:"CHECK OUT DATE",sortable:!1},{id:"nextReservation",numeric:!1,disablePadding:!1,label:"NEXT CHECK IN",sortable:!1}],data:Be.map((e=>{const n={id:e.id,status:{id:"STATUS",value:e.status,label:"STATUS",cb:Me(e),options:Pe},departureDate:e.currentOrder?e.currentOrder.lastDepartureDate:"-",nextReservation:e.nextOrder?e.nextOrder.nextReservationDate:"-",building:e.building.name,name:e.name};return Object(j.a)({},n)})),onSubmit:h(De,{buildingId:K,name:$,status:ue,startDate:ae,endDate:ce},W,we),onClearFilters:v(De,{buildingId:[K,Z],name:[$,ee],status:[ue,pe],startDate:[ae,re],endDate:[ce,oe]},W),onEditClick:u,orderBy:E,order:M,onRequestSort:f({sortName:E,sortOrder:M},{setSortName:R,setSortOrder:B,setOrderBy:z}),onCheckboxClick:A(je,he),selectedRows:{rows:je,cb:n=>{je.map((e=>e.id)).map((t=>e.updateStallStatus({id:t,status:n},ke))),he([])},options:Pe},onMasterCheckboxClick:N(Be,je,he),view:"operations",onClearSingleFilter:y(U,W),allTableRows:Ee.allVenueStalls.stalls,count:null===(t=Ee.allVenueStalls)||void 0===t||null===(s=t.stalls)||void 0===s?void 0:s.length,page:Ae,rowsPerPage:ge,onChangePage:S(we),onChangeRowsPerPage:I(ve,we)})]})}))(lw||(lw=Object(k.a)(["\n  &__page-header {\n    text-align: left;\n    border-bottom: 1px solid rgb(200, 214, 229);\n    &&& {\n      margin: 0;\n    }\n  }\n\n  &__header-wrapper {\n    margin: 20px 0px !important;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"]))),bw=Object(E.b)(sw)(dw||(dw=Object(k.a)(["\n  &&& {\n    background-color: ",";\n    padding-top: 10px;\n\n    svg {\n      position: relative;\n      top: -2px;\n    }\n  }\n"])),P.secondary.active);var mw,jw=Object(se.a)(uw,sh,D)(pw);const hw=Object(E.b)((e=>{const n=e.className;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("section",{className:n,children:Object(a.jsx)(jw,{})})})}))(mw||(mw=Object(k.a)(["\n  margin: 85px 50px 50px;\n  max-width: 1800px;\n  min-width: 1130px;\n  &__Header {\n    &&& {\n      text-align: left;\n      margin: 0 20px 30px 0;\n    }\n  }\n  &&& {\n    .CalendarDay__blocked_out_of_range,\n    .CalendarDay__blocked_out_of_range:active,\n    .CalendarDay__blocked_out_of_range:hover,\n    .CalendarDay__blocked_calendar,\n    .CalendarDay__blocked_calendar:active,\n    .CalendarDay__blocked_calendar:hover {\n      background: none;\n      border: none;\n      color: #cacccd;\n      text-decoration: line-through;\n    }\n  }\n"])));var xw,Ow=Object(r.memo)(hw);const gw=L()(xw||(xw=Object(k.a)(["\n  query RVsForOpsTable($venueId: ID, $orderBy: [String], $filterBy: RVInputFilter, $limit: Int, $offset: Int) {\n    venue(id: $venueId) {\n      rvLots {\n        id\n        name\n      }\n      rvs(orderBy: $orderBy, filterBy: $filterBy, limit: $limit, offset: $offset) {\n        id\n        name\n        rvLot {\n          id\n          name\n        }\n        disabled\n        nextOrder(filterBy: $filterBy) {\n          id\n          orderItems {\n            id\n            reservation {\n              id\n              startDate\n              stalls {\n                id\n              }\n            }\n          }\n          nextReservationDate\n        }\n      }\n    }\n    allVenueRVs: venue(id: $venueId) {\n      rvs(orderBy: $orderBy, filterBy: $filterBy) {\n        id\n      }\n    }\n  }\n"])));var vw;const fw=Object(E.b)((e=>{const n=e.className,t=e.onEditClick,s=e.getVariables,i=e.updateFilterTextField,c=e.updateDates,o=e.onSubmitFilter,l=e.onClearFilters,d=e.onRequestSort,u=e.onClearSingleFilter,p=e.handleTableChangePage,b=e.handleTableChangeRowsPerPage,m=Object(r.useState)("startDate"),h=Object(w.a)(m,2),x=h[0],O=h[1],g=Object(r.useState)("asc"),v=Object(w.a)(g,2),f=v[0],y=v[1],A=Object(r.useState)(["name","ASC"]),N=Object(w.a)(A,2),S=N[0],I=N[1],C=Object(r.useState)(null),D=Object(w.a)(C,2),k=D[0],E=D[1],R=Object(r.useState)(""),T=Object(w.a)(R,2),P=T[0],M=T[1],B=Object(r.useState)(""),F=Object(w.a)(B,2),L=F[0],q=F[1],z=Object(r.useState)(""),Y=Object(w.a)(z,2),V=Y[0],U=Y[1],W=Object(r.useState)(10),Q=Object(w.a)(W,2),G=Q[0],H=Q[1],K=Object(r.useState)(0),Z=Object(w.a)(K,2),X=Z[0],J=Z[1],$=["rvLotId","name","startDate"],ee=s&&s({orderBy:S,filterBy:k,rowsPerPage:G,page:X}),ne=Object(_.c)(gw,{variables:Object(j.a)({},ee),pollInterval:5e3,fetchPolicy:"network-only"}),te=ne.data,ae=ne.loading,re=ne.error,se=te&&te.venue?te.venue.rvs:[],ie=[{key:"rvLotId",label:"RV LOT",type:"select",value:(e=>{if(!P)return"";const n=e.find((e=>e.id===P));return n?n.name:void 0})(te?te.venue.rvLots:[]),selectedOption:P,options:(ce=te?te.venue.rvLots:[],ce.map((e=>({value:e.id,label:e.name})))),cb:(e=>n=>{if(n.target){const t=n.target.value,a=e.find((e=>e.id===t));if(a)return M(a.id)}return M("")})(te?te.venue.rvLots:[])},{key:"name",label:"RV NAME",type:"text",value:L,cb:i&&i(q)},{key:"startDate",label:"CHECK IN",type:"date",plural:!1,value:V,showPast:!1,cb:c&&c("single",U)}];var ce;return ae?"Loading...":re?(console.error(re),"uh oh..."):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"".concat(n,"__page-header"),children:Object(a.jsx)("div",{className:"".concat(n,"__header-wrapper"),children:Object(a.jsx)(ar,{label:"RVS"})})}),Object(a.jsx)(ah,{filters:ie,rows:[{id:"rvLot",numeric:!1,disablePadding:!1,label:"RV LOT",sortable:!0},{id:"name",numeric:!1,disablePadding:!1,label:"RV NAME",sortable:!0},{id:"nextReservation",numeric:!1,disablePadding:!1,label:"NEXT CHECK IN",sortable:!1}],data:se.map((e=>{const n={id:e.id,nextReservation:e.nextOrder?e.nextOrder.nextReservationDate:"-",rvLot:e.rvLot.name,name:e.name,disabled:e.disabled?e.disabled:"-"};return Object(j.a)({},n)})),onSubmit:o($,{rvLotId:P,name:L,startDate:V},E,J),onClearFilters:l($,{rvLotId:[P,M],name:[L,q],startDate:[V,U]},E),onEditClick:t,orderBy:x,order:f,onRequestSort:d({sortName:x,sortOrder:f},{setSortName:O,setSortOrder:y,setOrderBy:I}),view:"operations",onClearSingleFilter:u(k,E),allTableRows:te.allVenueRVs.rvs,count:te.allVenueRVs.rvs.length,page:X,rowsPerPage:G,onChangePage:p(J),onChangeRowsPerPage:b(H,J)})]})}))(vw||(vw=Object(k.a)(["\n  &__page-header {\n    text-align: left;\n    border-bottom: 1px solid rgb(200, 214, 229);\n    &&& {\n      margin: 0;\n    }\n  }\n\n  &__header-wrapper {\n    margin: 20px 0px !important;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"])));var yw,Aw=Object(se.a)(sh)(fw);const ww=Object(E.b)((e=>{const n=e.className;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("section",{className:n,children:Object(a.jsx)(Aw,{})})})}))(yw||(yw=Object(k.a)(["\n  margin: 85px 50px 50px;\n  max-width: 1800px;\n  min-width: 1130px;\n  &__Header {\n    &&& {\n      text-align: left;\n      margin: 0 20px 30px 0;\n    }\n  }\n  &&& {\n    .CalendarDay__blocked_out_of_range,\n    .CalendarDay__blocked_out_of_range:active,\n    .CalendarDay__blocked_out_of_range:hover,\n    .CalendarDay__blocked_calendar,\n    .CalendarDay__blocked_calendar:active,\n    .CalendarDay__blocked_calendar:hover {\n      background: none;\n      border: none;\n      color: #cacccd;\n      text-decoration: line-through;\n    }\n  }\n"])));var Nw=Object(r.memo)(ww);var Sw,Iw,Cw,Dw=Object(se.a)(H.j,A)((e=>(Object(r.useEffect)((()=>{e.location.pathname===ae.ADMIN&&e.history.push(ne.ADMIN.ORDERS)})),Object(a.jsx)(Ed,{perform:yr,yes:()=>Object(a.jsx)("section",{className:"root-admin",children:Object(a.jsx)(Ru,{children:Object(a.jsxs)(H.d,{children:[Object(a.jsx)(H.b,{exact:!0,path:ne.ADMIN.ORDERS,component:km}),Object(a.jsx)(H.b,{exact:!0,path:ne.ADMIN.CREATE_ORDER,component:$A}),Object(a.jsx)(H.b,{exact:!0,path:ne.ADMIN.EDIT_ORDER,component:nw}),Object(a.jsx)(Ed,{perform:Ar,yes:()=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(H.b,{exact:!0,path:ne.ADMIN.EVENTS,component:Ex}),Object(a.jsx)(H.b,{exact:!0,path:ne.ADMIN.CREATE_EVENT,component:jg}),Object(a.jsx)(H.b,{exact:!0,path:ne.ADMIN.EDIT_EVENT,component:vg}),Object(a.jsx)(H.b,{exact:!0,path:ne.ADMIN.USERS,component:Sh}),Object(a.jsx)(H.b,{exact:!0,path:ne.ADMIN.GROUPS,component:vx}),Object(a.jsx)(H.b,{exact:!0,path:ne.ADMIN.REPORTS,component:Xh})]}),no:()=>Object(a.jsx)(H.a,{to:ne.ADMIN.ORDERS})}),Object(a.jsx)(H.b,{exact:!0,path:ne.OPS.STALLS,component:Ow}),Object(a.jsx)(H.b,{exact:!0,path:ne.OPS.RVS,component:Nw})]})})}),no:()=>Object(a.jsx)(H.a,{to:e.user?K:ae.LOGIN})})))),kw=t(335),_w=t(336),Ew=t(1238),Rw=t(1237);var Tw,Pw,Mw,Bw,Fw=je(Object(E.b)((e=>e.isRenter?Object(a.jsx)(_n.a,{className:"".concat(e.className," e2e-logout-btn"),onClick:e.logoutUser,children:Object(a.jsx)(Rw.a,{})}):Object(a.jsxs)(ru.a,{button:!0,className:e.className,onClick:e.logoutUser,"data-testid":"admin-logout-btn",children:[Object(a.jsx)(ou.a,{children:Object(a.jsx)(Rw.a,{})}),e.isNavOpen&&Object(a.jsx)(lu.a,{primary:Object(a.jsx)("p",{children:"SIGN OUT"})})]})))(Sw||(Sw=Object(k.a)(["\n  &&& {\n    ","\n"])),(({isRenter:e})=>e?Object(E.a)(Iw||(Iw=Object(k.a)(["\n            position: absolute;\n            right: 25px;\n            margin: 0;\n            color: ",";\n          "])),P.button.primary.disabled):Object(E.a)(Cw||(Cw=Object(k.a)(["\n            ","\n            align-items: center;\n            justify-content: ",";\n            height: 72px;\n            .MuiListItemIcon-root {\n              color: ",";\n              min-width: auto;\n            }\n            .MuiListItemText-root {\n              p {\n                color: ",";\n                ","\n                font-size: 1.125rem;\n                padding-left: 27px;\n                font-weight: 600;\n                letter-spacing: 0.8px;\n                text-align: left;\n              }\n            }\n          "])),Ke,(({isNavOpen:e})=>e?"flex-start":"center"),P.button.primary.disabled,P.text.lightGray,Fe))));const Lw="dev",qw=E.b.section(Tw||(Tw=Object(k.a)(["\n  width: 100%;\n"]))),zw=240,Yw=E.b.p(Pw||(Pw=Object(k.a)(["\n  &&& {\n    color: rgb(200, 214, 229);\n    ","\n    font-size: 1.125rem;\n    font-weight: 600;\n    letter-spacing: 0.8px;\n  }\n"])),Fe),Vw=Object(E.b)(b.c)(Mw||(Mw=Object(k.a)(["\n  &.active-link {\n    &&& {\n      &:active div[class^='MuiListItemIcon-root'],\n      div[class*='MuiListItemIcon-root'] {\n        color: white;\n      }\n      div[class^='MuiListItemText-root'],\n      div[class*='MuiListItemText-root'] {\n        p {\n          color: white;\n        }\n      }\n    }\n  }\n"]))),Uw=Object(E.b)(ru.a)(Bw||(Bw=Object(k.a)(["\n  &&& {\n    padding: 0;\n  }\n"])));var Ww,Qw=Object(se.a)(Object(zt.a)((e=>({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"black",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:zw,width:"calc(100% - ".concat(zw,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},appTitle:{fontFamily:"IBMPlexSans-SemiBold",fontSize:"1.125rem",letterSpacing:"0.8px"},appLogo:{display:"block",position:"absolute",right:0,marginRight:"25px",width:"212px",height:"30px"},openstallsEnv:{display:"flex",position:"absolute",textTransform:"uppercase",fontWeight:"bold",fontSize:25,left:"calc(50% - 100px)"},openstallsLogo:{display:"block",position:"absolute",left:0,marginLeft:"130px",width:"150px",height:"33px"},menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{width:zw,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{backgroundColor:"rgb(87, 101, 116)",color:"rgb(200, 214, 229)",width:zw,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{backgroundColor:"rgb(87, 101, 116)",color:"rgb(200, 214, 229)",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1,[e.breakpoints.up("sm")]:{width:e.spacing(9)+1}},toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",backgroundColor:"rgb(87, 101, 116)"},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},drawerListItem:{color:"rgb(200, 214, 229)",marginRight:0,padding:0,textDecoration:"none"},drawerListItemIcon:{color:"rgb(200, 214, 229)",marginRight:0,padding:"24px",width:"72px",height:"72px"},drawerListItemBorder:{backgroundColor:"rgb(200, 214, 229)"},mainNavContainer:{paddingTop:0,paddingBottom:0},listItemButton:{padding:0},logoutContainer:{width:"100%",position:"absolute",bottom:0,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:0}})),{withTheme:!0}),H.j,A)((e=>{const n=e.classes,t=e.theme,s=Object(r.useState)(!1),i=Object(w.a)(s,2),c=i[0],o=i[1],l=Lw.match("prod")?kw.a[500]:Lw.match("dev")?_w.a[500]:Ew.a[500];return Object(a.jsxs)("div",{className:"".concat(n.root," admin-root-section"),"data-testid":"logged-in-header",children:[Object(a.jsx)(Dr.a,{}),Object(a.jsx)(Er.a,{position:"fixed",className:_r()(n.appBar,{[n.appBarShift]:c}),children:Object(a.jsxs)(Rr.a,{disableGutters:!c,children:[Object(a.jsx)(et.a,{color:"inherit","aria-label":"Open drawer",onClick:()=>{o(!0)},className:_r()(n.menuButton,{[n.hide]:c}),children:Object(a.jsx)(Pr.a,{})}),Object(a.jsxs)("div",{className:n.openstallsEnv,style:{color:l},children:[Object(a.jsx)(cj.a,{style:{fontSize:35}}),Object(a.jsx)("span",{style:{paddingLeft:5,display:"inline-block"},children:Lw})]}),Object(a.jsx)("img",{src:_e,alt:"Open Stalls",className:n.openstallsLogo}),Object(a.jsx)("img",{src:Ee,alt:"Rodeo Logistics Logo",className:n.appLogo})]})}),Object(a.jsxs)(su.a,{variant:"permanent",className:_r()(n.drawer,{[n.drawerOpen]:c,[n.drawerClose]:!c}),classes:{paper:_r()({[n.drawerOpen]:c,[n.drawerClose]:!c})},open:c,children:[Object(a.jsx)("div",{className:n.toolbar,children:Object(a.jsx)(et.a,{onClick:()=>{o(!1)},className:n.drawerListItem,children:"rtl"===t.direction?Object(a.jsx)(du.a,{}):Object(a.jsx)(uu.a,{})})}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder}),Object(a.jsx)(cu.a,{className:n.mainNavContainer,children:Object(a.jsx)(Ed,{perform:Nr,ignoreRoute:!0,yes:()=>Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Vw,{to:ne.SUPER_ADMIN.VENUES,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(Uw,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Hi.a,{})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(Yw,{children:"VENUES"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]})}),no:()=>Object(a.jsx)(H.a,{to:e.user?K:ae.LOGIN})})}),Object(a.jsx)(cu.a,{className:n.logoutContainer,children:Object(a.jsx)(Fw,{isNavOpen:c})})]}),Object(a.jsx)(qw,{children:e.children})]})}));const Gw=L()(Ww||(Ww=Object(k.a)(["\n  query Venues {\n    venues {\n      description\n      name\n      id\n      events {\n        startDate\n        endDate\n        description\n        name\n        id\n      }\n    }\n  }\n"])));var Hw;const Kw=L()(Hw||(Hw=Object(k.a)(["\n  query eventProducts($id: ID) {\n    event(id: $id) {\n      addOnProducts {\n        id\n        price\n        addOn {\n          id\n          name\n          description\n        }\n      }\n      stallProducts {\n        id\n        price\n        name\n        description\n        startDate\n        endDate\n      }\n      rvProducts {\n        id\n        price\n        name\n        description\n        startDate\n        endDate\n      }\n    }\n  }\n"])));var Zw;const Xw=L()(Zw||(Zw=Object(k.a)(["\n  mutation updateEventAndProductInfo($input: EventAndProductUpdateInput) {\n    updateEventAndProductInfo(input: $input) {\n      success\n      error\n    }\n  }\n"])));var Jw,$w,eN,nN,tN,aN;const rN=Object(mp.a)({underline:{"&&&:before":{borderBottom:"none"},"&&:after":{borderBottom:"none"}}}),sN={id:"",name:"",description:"",startDate:"",endDate:""},iN={events:[],venues:[],stallProducts:[],rvProducts:[],addOnProducts:[],productsToEdit:{},selectedVenue:sN,selectedEvent:sN,isEventEdit:!1,productChanges:{},eventName:"",eventDesc:""},cN=e=>{if(!e)return null;return e.map((e=>Object(a.jsx)(hp.a,{value:e.id,children:e.name},e.id)))},oN=Object(E.b)(b.b)(Jw||(Jw=Object(k.a)(["\n  text-decoration: none;\n"]))),lN=E.b.div($w||($w=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  &:first-child {\n    margin: 0 0 30px 0;\n  }\n  @media screen and (max-width: 601px) {\n    ","\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    &:first-child {\n      margin: 0 0 30px 0;\n    }\n  }\n\n  div span {\n    ","\n    align-self: flex-start;\n    margin: 0;\n    padding: 20px 0 0;\n    font-size: 12px;\n  }\n"])),Ke,Ke,qe),dN=E.b.div(eN||(eN=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n"])),Ke),uN=E.b.div(nN||(nN=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 400px;\n"])),Ke),pN=E.b.div(tN||(tN=Object(k.a)(["\n  ","\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 180px;\n"])),Ke);var bN,mN=Object(E.b)((e=>{const n=rN(),t=e.className,s=Object(r.useState)(iN),i=Object(w.a)(s,2),c=i[0],o=i[1],l=Object(_.c)(Gw).data,d=Object(_.c)(Kw,{variables:{id:+c.selectedEvent.id}}).data,u=Object(_.b)(Xw,{refetchQueries:[{query:Gw},{query:Kw,variables:{id:+c.selectedEvent.id}}]}),p=Object(w.a)(u,2),b=p[0],m=p[1],h=m.loading,g=m.error,v=m.data,f=Object(r.useContext)(N).showSnackbar,y=(e,n)=>{n||delete c.productChanges[e],o(Object(j.a)(Object(j.a)({},c),{},{productsToEdit:Object(j.a)(Object(j.a)({},c.productsToEdit),{},{[e]:n})}))},A=(e,n)=>{const t=n.split("_");o(Object(j.a)(Object(j.a)({},c),{},{productChanges:Object(j.a)(Object(j.a)({},c.productChanges),{},{[n]:Object(j.a)(Object(j.a)({},c.productChanges[n]),{},{id:t[1],[e.target.name]:e.target.value,type:t[0]})})}))},S=function(){var e=Object(O.a)(x.a.mark((function e(n){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c.eventName||c.eventDesc||!fs(c.productChanges)){e.next=3;break}return e.abrupt("return");case 3:return t={event:{id:c.selectedEvent.id,name:c.eventName,description:c.eventDesc},products:Object.values(c.productChanges)},e.prev=4,e.next=7,b({variables:{input:t}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),f("Something went wrong ".concat(JSON.stringify(e.t0)),{error:!0,duration:5e4});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(r.useEffect)((()=>{l&&o(Object(j.a)(Object(j.a)({},c),{},{venues:l.venues}))}),[l]),Object(r.useEffect)((()=>{d&&d.event&&o(Object(j.a)(Object(j.a)({},c),{},{stallProducts:d.event.stallProducts,rvProducts:d.event.rvProducts,addOnProducts:d.event.addOnProducts}))}),[d]),Object(r.useEffect)((()=>{g&&f("Something went wrong ".concat(JSON.stringify(g)),{error:!0,duration:5e4})}),[g]),Object(r.useEffect)((()=>{h&&f("saving ...",{error:!1,duration:500})}),[h]),Object(r.useEffect)((()=>{if(v)try{const e=v.updateEventAndProductInfo,n=e.success,t=e.error;n&&o(Object(j.a)(Object(j.a)({},c),{},{selectedVenue:sN,selectedEvent:sN,isEventEdit:!1,productsToEdit:{},productChanges:{}})),t&&f(t,{error:!0,duration:5e4})}catch(g){console.log(g)}}),[v]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:t,children:[Object(a.jsx)(tu,{}),Object(a.jsx)("div",{className:"".concat(t,"__page-header"),children:Object(a.jsx)("div",{className:"".concat(t,"__header-wrapper"),children:Object(a.jsx)(ur,{label:"EVENT & PRODUCTS INFO UPDATE"})})})]}),Object(a.jsx)("div",{className:t,children:Object(a.jsx)("div",{className:"".concat(t,"__page-body"),children:Object(a.jsx)(Ia.c,{enableReinitialize:!0,children:Object(a.jsxs)(Ia.b,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(oN,{to:ne.SUPER_ADMIN.CREATE_VENUE,children:Object(a.jsx)(Fu,{label:"CREATE VENUE"})}),Object(a.jsx)("h3",{children:"choose venue"}),Object(a.jsx)(jp.a,{onChange:e=>{const n=c.venues.filter((n=>n.id===e.target.value))[0];o(Object(j.a)(Object(j.a)({},c),{},{selectedVenue:n,events:n.events,selectedEvent:sN,stallProducts:[],rvProducts:[],addOnProducts:[]}))},value:c.selectedVenue.id,disabled:c.isEventEdit,disableUnderline:!0,children:cN(c.venues)})]}),Object(a.jsx)("div",{className:"".concat(t,"__page-body-child"),children:c.selectedVenue.id?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Event Name:"}),c.isEventEdit?Object(a.jsx)(mn.a,{id:"eventName",name:"name",type:"text",defaultValue:c.selectedEvent.name,InputProps:{classes:n},onChange:e=>o(Object(j.a)(Object(j.a)({},c),{},{eventName:e.target.value}))}):Object(a.jsx)(jp.a,{onChange:e=>{const n=c.events.filter((n=>n.id===e.target.value))[0];o(Object(j.a)(Object(j.a)({},c),{},{selectedEvent:n}))},value:c.selectedEvent.id,disableUnderline:!0,children:cN(c.events)}),c.selectedEvent.id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Event Description:"}),c.isEventEdit?Object(a.jsx)(mn.a,{id:"eventDescription",name:"description",type:"text",defaultValue:c.selectedEvent.description,InputProps:{classes:n},onChange:e=>o(Object(j.a)(Object(j.a)({},c),{},{eventDesc:e.target.value}))}):Object(a.jsx)(a.Fragment,{children:c.selectedEvent.description?c.selectedEvent.description:"N/A"}),Object(a.jsx)("h3",{children:"Dates:"}),Object(a.jsxs)("span",{children:[c.selectedEvent.startDate," - ",c.selectedEvent.endDate]}),Object(a.jsx)("br",{}),c.isEventEdit?Object(a.jsx)("a",{href:"#",onClick:()=>o(Object(j.a)(Object(j.a)({},c),{},{isEventEdit:!1})),children:"Cancel"}):Object(a.jsx)("a",{href:"#",onClick:()=>o(Object(j.a)(Object(j.a)({},c),{},{isEventEdit:!0})),children:"Edit Event"})]}):null,Object(a.jsx)("div",{className:"line"})]}):null}),Object(a.jsx)("div",{className:"".concat(t,"__page-body-child"),children:c.selectedEvent.id?Object(a.jsx)(lN,{children:Object(a.jsxs)(dN,{children:[Object(a.jsx)(uN,{children:Object(a.jsxs)("div",{className:"".concat(t,"__page-body-child"),children:[Object(a.jsx)("h3",{children:"Stall Products"}),c.stallProducts.map((e=>Object(a.jsxs)("div",{className:"".concat(t,"__page-body-child"),children:[c.productsToEdit["st_".concat(e.id)]?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(mn.a,{id:"st_name_".concat(e.id),name:"name",type:"text",defaultValue:e.name,InputProps:{classes:n},onChange:n=>A(n,"st_".concat(e.id))}),Object(a.jsx)(mn.a,{id:"st_description_".concat(e.id),name:"description",type:"text",defaultValue:e.description,InputProps:{classes:n},onChange:n=>A(n,"st_".concat(e.id))})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:" Name: "}),e.name?e.name:"",Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:" Description: "}),e.description?e.description:"N/A"]}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:" Price: "})," $",e.price?e.price:"",Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:" Dates: "}),"".concat(e.startDate," - ").concat(e.endDate),Object(a.jsx)("br",{}),c.productsToEdit["st_".concat(e.id)]?Object(a.jsx)("a",{href:"#",onClick:()=>y("st_".concat(e.id),!1),children:"Cancel"}):Object(a.jsx)("a",{href:"#",onClick:()=>y("st_".concat(e.id),!0),children:"Edit"}),Object(a.jsx)("div",{className:"line"})]},e.id)))]})}),Object(a.jsx)(uN,{children:Object(a.jsxs)("div",{className:"".concat(t,"__page-body-child"),children:[Object(a.jsx)("h3",{children:"RV Products"}),c.rvProducts.map((e=>Object(a.jsxs)("div",{className:"".concat(t,"__page-body-child"),children:[c.productsToEdit["rv_".concat(e.id)]?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(mn.a,{id:"rv_name_".concat(e.id),name:"name",type:"text",defaultValue:e.name,InputProps:{classes:n},onChange:n=>A(n,"rv_".concat(e.id))}),Object(a.jsx)(mn.a,{id:"rv_desc_".concat(e.id),name:"description",type:"text",defaultValue:e.description,InputProps:{classes:n},onChange:n=>A(n,"rv_".concat(e.id))})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:" Name: "})," ",e.name?e.name:"",Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:" Description: "}),e.description?e.description:"N/A"]}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:" Price: "})," $",e.price?e.price:"",Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:" Dates: "}),"".concat(e.startDate," - ").concat(e.endDate),Object(a.jsx)("br",{}),c.productsToEdit["rv_".concat(e.id)]?Object(a.jsx)("a",{href:"#",onClick:()=>y("rv_".concat(e.id),!1),children:"Cancel"}):Object(a.jsx)("a",{href:"#",onClick:()=>y("rv_".concat(e.id),!0),children:"Edit"}),Object(a.jsx)("div",{className:"line"})]},e.id)))]})}),Object(a.jsx)(uN,{children:Object(a.jsxs)("div",{className:"".concat(t,"__page-body-child"),children:[Object(a.jsx)("h3",{children:"AddOn Products"}),c.addOnProducts.map((e=>Object(a.jsxs)("div",{className:"".concat(t,"__page-body-child"),children:[c.productsToEdit["ao_".concat(e.addOn.id)]?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(mn.a,{id:"add_on_name_".concat(e.addOn.id),name:"name",type:"text",defaultValue:e.addOn.name,InputProps:{classes:n},onChange:n=>A(n,"ao_".concat(e.addOn.id))}),Object(a.jsx)(mn.a,{id:"add_on_desc_".concat(e.addOn.id),name:"description",type:"text",defaultValue:e.addOn.description,InputProps:{classes:n},onChange:n=>A(n,"ao_".concat(e.addOn.id))})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:" Name: "}),e.addOn.name?e.addOn.name:"",Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:" Description: "}),e.addOn.description?e.addOn.description:"N/A"]}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:" Price: "})," $",e.price?e.price:"",Object(a.jsx)("br",{}),c.productsToEdit["ao_".concat(e.addOn.id)]?Object(a.jsx)("a",{href:"#",onClick:()=>y("ao_".concat(e.addOn.id),!1),children:"Cancel"}):Object(a.jsx)("a",{href:"#",onClick:()=>y("ao_".concat(e.addOn.id),!0),children:"Edit"}),Object(a.jsx)("div",{className:"line"})]},e.addOn.id)))]})})]})}):null}),Object(a.jsx)("div",{className:"".concat(t,"__page-body-child"),children:c.selectedEvent.id?Object(a.jsxs)(dN,{children:[Object(a.jsx)(pN,{children:Object(a.jsx)(Yn,{type:"submit",primary:!0,onClick:S,children:"Save Changes"})}),Object(a.jsx)(pN,{children:Object(a.jsx)(Yn,{type:"button",secondary:!0,onClick:()=>{o(Object(j.a)(Object(j.a)({},c),{},{eventName:"",eventDesc:"",isEventEdit:!1,productsToEdit:{},productChanges:{}}))},children:"Reset"})})]}):null})]})})})})]})}))(aN||(aN=Object(k.a)(["\n  &&& {\n    ","\n    align-items: center;\n    width: 100%;\n    height: auto;\n    padding: 12px 0 11px 20px;\n    ","\n    font-size: 14px;\n    text-align: left;\n    background-color: ",";\n    color: ",";\n    border-radius: 3px;\n  }\n\n  &__page-header {\n    text-align: left;\n    width: 100%\n    border-bottom: 1px solid rgb(200, 214, 229);\n    &&& {\n      margin: 65px 0 25px;\n    }\n\n  }\n\n  &__page-body {\n    text-align: left;\n    width: 100%\n    &&& {\n      margin: 0;\n      padding: 10px\n    }\n\n    h3 {\n      text-transform: uppercase;\n      font-family: IBMPlexSans-Bold;\n      font-size: 12px;\n      font-weight: 400;\n      color: rgb(79, 93, 109);\n      margin-top: 0px;\n      margin-bottom: 3px;\n    }\n  }\n  \n  &__page-body-child {\n    margin-top: 20px;\n  }\n\n  &__header-wrapper {\n    margin: 20px 0px !important;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .MuiInputBase-root {\n    border: "," 1px solid;\n    border-radius: 3px;\n    padding: 0 10px;\n    min-width: 300px;\n  }\n\n  .MuiSvgIcon-root {\n    width: .8em;\n    height: .8em;\n  }\n\n  .MuiIconButton-root {\n    padding-top: 6px;\n  }\n  \n  .line {\n    background: ",";\n    height: 1px;\n    flex: 1;\n    position: relative;\n    top: 11px;\n  }\n"])),Ke,Fe,P.background.primary,P.text,P.text.lightGray2,P.border.primary);const jN=L()(bN||(bN=Object(k.a)(["\n  mutation createVenue($input: CreateVenueType) {\n    createVenue(input: $input) {\n      id\n    }\n  }\n"]))),hN=t(88).tz.names().reduce(((e,n)=>(0===n.indexOf("US")&&e.push({value:n,label:n}),e)),[]),xN=e=>()=>e?isNaN(Number(e))?"INVALID NUMBER":Number(e)<0?"NUMBER CANNOT BE NEGATIVE":void 0:"THIS FIELD IS REQUIRED",ON=e=>{const n=e.name,t=e.description,a=e.phone,r=e.address1,s=e.address2,i=e.city,c=e.state,o=e.zipCode,l=e.timeZone,d=e.stripeAccount,u=e.stripeAccountType,p=e.stripeFeeType,b=e.feeAmount,m=e.feeCap;return{name:n,description:t,phone:a,city:i,stripeAccount:d,state:c,stripeAccountType:u,timeZone:l,feeCap:Number(m),zip:o,street:r,street2:s,platformFee:"Platform Fee"===p?Number(b):0,percentageFee:p.indexOf("Percentage Fee")>-1?Number(b):0,feePerProduct:"Fee Per Product"===p?Number(b):0}},gN={name:"",description:"",phone:"",address1:"",address2:"",city:"",state:"",zipCode:"",timeZone:"",stripeAccount:"",stripeAccountType:"",stripeFeeType:"",feeAmount:"",feeCap:""},vN=Ca.e().shape({name:Ca.f().min(2,"Too Short!").max(50,"Too Long!").required("Venue name is required"),feeAmount:Ca.f().nullable(),feeCap:Ca.f().nullable(),address1:Ca.f().required("Address is required"),address2:Ca.f().nullable(),city:Ca.f().required("City is required"),description:Ca.f().required("Description is required").min(3,"Venue Description must be at least 3 characters").max(255,"Venue Description must be less than 256 characters"),zipCode:Ca.f().min(5,"Zip code must be 5 digits").max(5,"Zip code must be 5 digits").required("Zip is required"),state:Ca.f().required("State is required"),phone:Ca.f().length(10,"Enter a valid phone number").required("Phone is required"),stripeAccount:Ca.f().required("Stripe account is required"),stripeAccountType:Ca.f().required("Stripe account type is required"),stripeFeeType:Ca.f().required("Stripe fee type is required")});t(1138);var fN=()=>{const e=Object(r.useState)(""),n=Object(w.a)(e,2),t=n[0],s=n[1],i=Object(r.useState)(!1),c=Object(w.a)(i,2),o=c[0],l=c[1],d=Object(r.useState)(""),u=Object(w.a)(d,2),p=u[0],b=u[1],m=Object(r.useState)(!1),h=Object(w.a)(m,2),g=h[0],v=h[1],f=Object(r.useState)(""),y=Object(w.a)(f,2),A=y[0],S=y[1],I=Object(r.useState)(!1),C=Object(w.a)(I,2),D=C[0],k=C[1],E=Object(r.useState)(""),R=Object(w.a)(E,2),T=R[0],P=R[1],M=Object(r.useState)(!1),B=Object(w.a)(M,2),F=B[0],L=B[1],q=Object(r.useContext)(N).showSnackbar,z=Object(_.b)(jN),Y=Object(w.a)(z,2),V=Y[0],U=Y[1],W=U.data,Q=U.loading,G=U.error,K=Object(H.g)();return Object(r.useEffect)((()=>{if(W)q("Venue created successfully",{error:!1,duration:5e3}),K.push(ne.SUPER_ADMIN.VENUES);else if(G){var e;q((null===G||void 0===G||null===(e=G.message)||void 0===e?void 0:e.replace("GraphQL error: ",""))||"Unable to create venue",{error:!0,duration:5e3})}}),[W,G]),Object(a.jsxs)("div",{className:"create-venue-container",children:[Object(a.jsx)(tu,{}),Object(a.jsx)(Ia.c,{initialValues:gN,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V({variables:{input:ON(n)},refetchQueries:[{query:Gw}]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),validationSchema:vN,children:({values:e,setFieldValue:n,isValid:r,dirty:i,isSubmitting:c})=>Object(a.jsxs)(Ia.b,{children:[Object(a.jsx)(xr,{label:"VENUE INFORMATION"}),Object(a.jsx)(Ce.a,{container:!0,spacing:2,children:Object(a.jsx)(Ce.a,{item:!0,xs:12,children:Object(a.jsx)(Ia.a,{autoComplete:"none",label:"VENUE NAME",type:"text",name:"name",variant:"filled",component:Zn})})}),Object(a.jsx)(Ce.a,{container:!0,spacing:2,children:Object(a.jsx)(Ce.a,{item:!0,xs:12,children:Object(a.jsx)(Ia.a,{autoComplete:"none",component:Zn,label:"FACILITY DESCRIPTION",name:"description",variant:"filled",rows:"4",multiline:!0})})}),Object(a.jsx)(xr,{label:"CONTACT INFORMATION"}),Object(a.jsx)(Ce.a,{container:!0,spacing:0,children:Object(a.jsxs)(Ce.a,{item:!0,xs:12,children:[Object(a.jsx)(Ia.a,{autoComplete:"none",label:"ADDRESS1",type:"text",name:"address1",variant:"filled",component:Zn}),Object(a.jsx)(Ia.a,{autoComplete:"none",label:"ADDRESS2",type:"text",name:"address2",variant:"filled",component:Zn})]})}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{autoComplete:"none",label:"CITY",type:"text",name:"city",variant:"filled",component:Zn})}),Object(a.jsx)(Ce.a,{item:!0,xs:3,children:Object(a.jsx)(Ia.a,{name:"state",autoComplete:"none",children:({field:r,meta:i})=>{var c;return Object(a.jsx)(ab,Object(j.a)(Object(j.a)(Object(j.a)({},r),i),{},{onBlur:()=>l(!0),error:o&&!e.state?"State is required":"",selectedOption:t||(null===(c=e.state)||void 0===c?void 0:c.toUpperCase()),label:"STATE",cb:e=>{n("state",e.target.value),s(e.target.value)},className:"state-select",options:sx}))}})}),Object(a.jsx)(Ce.a,{item:!0,xs:3,children:Object(a.jsx)(Ia.a,{onChange:e=>{e.target.value.length<6&&n("zipCode",e.target.value.replace(/[^0-9,']/g,""))},autoComplete:"none",label:"ZIP",type:"text",name:"zipCode",variant:"filled",component:Zn})})]}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{name:"phone",autoComplete:"none",children:({field:e,meta:t})=>Object(a.jsx)(Jn,Object(j.a)(Object(j.a)(Object(j.a)({},e),t),{},{autoComplete:"none",error:t.touched&&!!t.error,helperText:t.touched&&!!t.error&&t.error,touched:"".concat(t.touched),label:"PHONE NUMBER",variant:"filled",onChange:e=>n("phone",e.target.value.replace(/[^0-9]/g,""))}))})}),Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{name:"timeZone",autoComplete:"none",children:({field:t,meta:r})=>Object(a.jsx)(ab,Object(j.a)(Object(j.a)(Object(j.a)({},t),r),{},{onBlur:()=>v(!0),error:g&&!e.timeZone?"Time zone is required":"",selectedOption:p||e.timeZone,label:"TIME-ZONE",cb:e=>{n("timeZone",e.target.value),b(e.target.value)},className:"state-select",options:hN}))})})]}),Object(a.jsx)(xr,{label:"PAYMENT INFORMATION"}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{autoComplete:"none",label:"STRIPE ACCOUNT",type:"text",name:"stripeAccount",variant:"filled",component:Zn})}),Object(a.jsx)(Ce.a,{item:!0,xs:6,children:Object(a.jsx)(Ia.a,{name:"stripeAccountType",autoComplete:"none",children:({field:t,meta:r})=>Object(a.jsx)(ab,Object(j.a)(Object(j.a)(Object(j.a)({},t),r),{},{onBlur:()=>k(!0),error:D&&!e.stripeAccountType?"Stripe account type is required":"",selectedOption:A||e.stripeAccountType,label:"STRIPE-ACCOUNT-TYPE",cb:e=>{n("stripeAccountType",e.target.value),S(e.target.value)},className:"state-select",options:[{label:"express",value:"express"},{label:"standard",value:"standard"}]}))})})]}),Object(a.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(a.jsx)(Ce.a,{item:!0,xs:4,children:Object(a.jsx)(Ia.a,{name:"feeType",autoComplete:"none",children:({field:t,meta:r})=>Object(a.jsx)(ab,Object(j.a)(Object(j.a)(Object(j.a)({},t),r),{},{onBlur:()=>L(!0),error:F&&!e.stripeFeeType?"Stripe fee type is required":"",selectedOption:T||e.stripeFeeType,label:"STRIPE-FEE-TYPE",cb:e=>{n("stripeFeeType",e.target.value),n("feeCap",0),P(e.target.value)},className:"state-select",options:[{label:"Platform Fee",value:"Platform Fee"},{label:"Percentage Fee",value:"Percentage Fee"},{label:"Percentage Fee + Cap",value:"Percentage Fee + Cap"},{label:"Fee Per Product",value:"Fee Per Product"}]}))})}),Object(a.jsx)(Ce.a,{item:!0,xs:4,children:-1===T.indexOf("Percent")?Object(a.jsx)(Ia.a,{"data-testid":"fee-amount-field",name:"feeAmount",validate:xN(e.feeAmount),render:({field:e,meta:t})=>Object(a.jsx)(rt,Object(j.a)(Object(j.a)(Object(j.a)({},e),t),{},{"data-testid":"fee-amount-money-field",error:t.touched&&t.error,helperText:t.touched&&!!t.error&&t.error,label:"FEE-AMOUNT",autoComplete:"refundAmount",variant:"filled",onChange:e=>{n("feeAmount",e.target.value.replace(/\$/g,"").replace(/\s/g,"").replace(/,/g,""))},className:"fee-amount"}))}):Object(a.jsx)(Ia.a,{"data-testid":"fee-amount-field",name:"feeAmount",validate:xN(e.feeAmount),render:({field:e,meta:t})=>Object(a.jsx)(rt,Object(j.a)(Object(j.a)(Object(j.a)({},e),t),{},{"data-testid":"fee-amount-percent-field",error:t.touched&&t.error,helperText:t.touched&&!!t.error&&t.error,label:"FEE-PERCENT",autoComplete:"refundAmount",type:"percent",variant:"filled",onChange:e=>{n("feeAmount",e.target.value.replace(/%/g,"").replace(/\s/g,"").replace(/,/g,""))},className:"fee-amount"}))})})]}),"Percentage Fee + Cap"===T&&Object(a.jsx)(Ce.a,{container:!0,spacing:2,children:Object(a.jsx)(Ce.a,{item:!0,xs:4,children:Object(a.jsx)(Ia.a,{"data-testid":"fee-cap-field",name:"feeCap",validate:xN(e.feeCap),render:({field:e,meta:t})=>Object(a.jsx)(rt,Object(j.a)(Object(j.a)(Object(j.a)({},e),t),{},{"data-testid":"fee-Cap-money-field",error:t.touched&&t.error,helperText:t.touched&&!!t.error&&t.error,label:"FEE-CAP",autoComplete:"feeCap",variant:"filled",onChange:e=>{n("feeCap",e.target.value.replace(/\$/g,"").replace(/\s/g,"").replace(/,/g,""))},className:"fee-amount"}))})})}),Object(a.jsx)("div",{className:"flex-button-wrapper",children:Object(a.jsx)(Yn,{className:"form-button",primary:!0,variant:"contained",size:"small",type:"submit",disabled:c||!i||!r||Q,"data-testid":"create-group-save",children:"SAVE"})})]})})]})};var yN,AN,wN,NN,SN=Object(se.a)(H.j,A)((e=>(Object(r.useEffect)((()=>{e.location.pathname===ae.SUPER_ADMIN&&e.history.push(ne.SUPER_ADMIN.VENUES)})),Object(a.jsx)(Ed,{perform:Nr,yes:()=>Object(a.jsx)("section",{className:"root-admin",children:Object(a.jsx)(Qw,{children:Object(a.jsxs)(H.d,{children:[Object(a.jsx)(H.b,{exact:!0,path:ne.SUPER_ADMIN.VENUES,component:mN}),Object(a.jsx)(H.b,{exact:!0,path:ne.SUPER_ADMIN.CREATE_VENUE,component:fN})]})})}),no:()=>Object(a.jsx)(H.a,{to:e.user?K:ae.LOGIN})}))));const IN=E.b.p(yN||(yN=Object(k.a)(["\n  &&& {\n    color: rgb(200, 214, 229);\n    ","\n    font-size: 1.125rem;\n    font-weight: 600;\n    letter-spacing: 0.8px;\n  }\n"])),Fe),CN=Object(E.b)(b.c)(AN||(AN=Object(k.a)(["\n  &.active-link {\n    &&& {\n      &:active div[class^='MuiListItemIcon-root'],\n      div[class*='MuiListItemIcon-root'] {\n        color: white;\n      }\n      div[class^='MuiListItemText-root'],\n      div[class*='MuiListItemText-root'] {\n        p {\n          color: white;\n        }\n      }\n    }\n  }\n"]))),DN=Object(E.b)(ru.a)(wN||(wN=Object(k.a)(["\n  &&& {\n    padding: 0;\n  }\n"])));class kN extends r.PureComponent{constructor(...e){super(...e),this.state={open:!1,showAccountDropdown:!1},this.handleDrawerOpen=()=>{this.setState({open:!0})},this.handleDrawerClose=()=>{this.setState({open:!1})},this.toggleAccountDropdown=()=>{this.setState({showAccountDropdown:!this.state.showAccountDropdown})},this.hideAccountDropdown=()=>{this.setState({showAccountDropdown:!1})}}render(){const e=this.props,n=e.classes,t=e.theme,r=e.location,s=this.state.showAccountDropdown;return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)(Dr.a,{}),Object(a.jsx)(Yr,{showHamburger:!0,drawerOpen:this.state.open,handleDrawerOpen:this.handleDrawerOpen,toggleAccountDropdown:this.toggleAccountDropdown,showAccountDropdown:s}),Object(a.jsxs)(su.a,{variant:"permanent",className:_r()(n.drawer,{[n.drawerOpen]:this.state.open,[n.drawerClose]:!this.state.open}),classes:{paper:_r()({[n.drawerOpen]:this.state.open,[n.drawerClose]:!this.state.open})},open:this.state.open,children:[Object(a.jsx)("div",{className:n.toolbar,children:Object(a.jsx)(et.a,{onClick:this.handleDrawerClose,className:n.drawerListItem,children:"rtl"===t.direction?Object(a.jsx)(du.a,{}):Object(a.jsx)(uu.a,{})})}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder}),Object(a.jsxs)(cu.a,{className:n.mainNavContainer,children:[Object(a.jsx)(Ed,{perform:yr,ignoreRoute:!0,yes:()=>Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(CN,{"data-testid":ne.ADMIN.ORDERS,to:ne.ADMIN.ORDERS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(DN,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(pu.a,{})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(IN,{children:"ORDERS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]})})}),Object(a.jsx)(Ed,{perform:Ar,ignoreRoute:!0,yes:()=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(CN,{"data-testid":ne.ADMIN.EVENTS,to:ne.ADMIN.EVENTS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(DN,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(bu.a,{})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(IN,{children:"EVENTS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]}),Object(a.jsxs)(CN,{"data-testid":ne.ADMIN.USERS,to:ne.ADMIN.USERS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(DN,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"renters"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(IN,{children:"USERS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]})]})}),Object(a.jsxs)(CN,{"data-testid":ne.OPS.STALLS,to:ne.OPS.STALLS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(DN,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"stalls"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(IN,{children:"STALLS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]}),Object(a.jsxs)(CN,{"data-testid":ne.OPS.RVS,to:ne.OPS.RVS,className:n.drawerListItem,activeClassName:"active-link",children:[Object(a.jsxs)(DN,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"rvs"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(IN,{children:"RVs"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]}),Object(a.jsx)(Ed,{perform:Ar,ignoreRoute:!0,yes:()=>Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(CN,{to:ne.ADMIN.GROUPS,className:n.drawerListItem,activeClassName:"active-link","data-testid":ne.ADMIN.GROUPS,children:[Object(a.jsxs)(DN,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"groups"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(IN,{children:"GROUPS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]})})}),Object(a.jsx)(Ed,{perform:Ar,ignoreRoute:!0,yes:()=>Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(CN,{to:ne.ADMIN.REPORTS,className:n.drawerListItem,activeClassName:"active-link","data-testid":ne.ADMIN.REPORTS,children:[Object(a.jsxs)(DN,{button:!0,children:[Object(a.jsx)(ou.a,{className:n.drawerListItemIcon,children:Object(a.jsx)(Su,{path:r.pathname,icon:"reports"})}),Object(a.jsx)(lu.a,{children:Object(a.jsx)(IN,{children:"REPORTS"})})]}),Object(a.jsx)(iu.a,{className:n.drawerListItemBorder})]})})})]})]}),Object(a.jsx)(_N,{onClick:this.hideAccountDropdown,children:this.props.children})]})}}const _N=E.b.section(NN||(NN=Object(k.a)(["\n  width: 100%;\n"])));var EN=Object(se.a)(Object(zt.a)((e=>({root:{display:"flex"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{backgroundColor:"rgb(87, 101, 116)",color:"rgb(200, 214, 229)",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{backgroundColor:"rgb(87, 101, 116)",color:"rgb(200, 214, 229)",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1,[e.breakpoints.up("sm")]:{width:e.spacing(9)+1}},toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",backgroundColor:"rgb(87, 101, 116)"},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},drawerListItem:{color:"rgb(200, 214, 229)",marginRight:0,padding:0,textDecoration:"none"},drawerListItemIcon:{color:"rgb(200, 214, 229)",marginRight:0,padding:"24px",width:"72px",height:"72px"},drawerListItemBorder:{backgroundColor:"rgb(200, 214, 229)"},mainNavContainer:{paddingTop:0,paddingBottom:0},listItemButton:{padding:0},logoutContainer:{width:"100%",position:"absolute",bottom:0,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:0},openstallsLogo:{display:"block",position:"absolute",left:0,marginLeft:"130px",width:"150px",height:"33px"}})),{withTheme:!0}),H.j)(kN);var RN,TN=Object(se.a)(H.j,A)((e=>(Object(r.useEffect)((()=>{e.location.pathname===ae.OPS&&e.history.push(ne.OPS.STALLS)})),Object(a.jsx)(Ed,{perform:Sr,yes:()=>Object(a.jsx)("section",{children:Object(a.jsx)(EN,{children:Object(a.jsxs)(H.d,{children:[Object(a.jsx)(H.b,{exact:!0,path:ne.OPS.STALLS,component:Ow}),Object(a.jsx)(H.b,{exact:!0,path:ne.OPS.RVS,component:Nw})]})})}),no:()=>Object(a.jsx)(H.a,{to:e.user?K:ae.LOGIN})}))));var PN,MN=Object(E.b)((e=>{const n=e.className,t=e.description,r=e.passwordRequirements,s=e.formik;return Object(a.jsxs)("div",{className:"".concat(n,"__create-password-container"),children:[Object(a.jsx)(We,{description:t}),Object(a.jsx)(pn.a,{className:"".concat(n,"__form-section"),children:Object(a.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(a.jsx)("h2",{children:"WELCOME"}),Object(a.jsx)("p",{children:"Create a password to finish setting up your Open Stalls account"}),s.touched.checkedTermsAndConditions&&s.errors.checkedTermsAndConditions&&Object(a.jsx)("p",{className:"".concat(n,"__error-message e2e-error-message"),children:s.errors.checkedTermsAndConditions}),Object(a.jsx)("div",{className:"".concat(n,"__password-field"),children:Object(a.jsx)(tt,Object(j.a)({label:"Password"},s.getFieldProps("password")))}),Object(a.jsx)("div",{className:"".concat(n,"__password-requirements"),children:Object(a.jsx)(Dn,Object(j.a)(Object(j.a)({},r),{},{passwordFieldBlurred:s.touched.password}))}),Object(a.jsxs)("div",{className:"".concat(n,"__terms-section"),children:[Object(a.jsx)(Qt.a,Object(j.a)({className:"".concat(n,"__checkbox"),color:P.text.link},s.getFieldProps("checkedTermsAndConditions"))),Object(a.jsxs)("p",{children:["I have read and accept the",Object(a.jsx)(b.b,{to:"/terms",children:" Terms of Use "}),"and",Object(a.jsx)(b.b,{to:"/privacy",children:" Privacy Policy "})]})]}),Object(a.jsx)(_n.a,{primary:"true",variant:"contained",size:"large",className:"".concat(n,"__submit-button"),type:"submit",children:"SUBMIT"})]})})]})}))(RN||(RN=Object(k.a)(["\n  &__create-password-container {\n    box-shadow: 0 2px 5px 0 rgba(17, 24, 31, 0.3), 0 2px 10px 0 rgba(17, 24, 31, 0.1);\n    border-radius: 0;\n    font-size: 16px;\n    font-family: 'IBMPlexSans-Regular';\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: auto;\n  }\n\n  &__error-message {\n    background-color: #ee5253;\n    border-radius: 3px;\n    color: white;\n    font-size: 14px;\n    padding: 12px 10px 11px 10px;\n    margin: 0 0 10px 0 !important;\n  }\n\n  &__password-requirements {\n    font-size: 16px;\n  }\n\n  &__password-field {\n    width: 100%;\n  }\n\n  &__terms-section {\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    margin: 5px 0 10px 0;\n  }\n\n  &__checkbox {\n    color: "," !important;\n  }\n\n  &__checkbox:hover,\n  &__checkbox:active {\n    background-color: none !important;\n  }\n\n  &__submit-button {\n    align-self: center;\n    width: 100%;\n    font-size: 16px !important;\n    margin: 0 0 25px 0 !important;\n    color: "," !important;\n    background-color: "," !important;\n  }\n\n  &__form-section {\n    flex: 1;\n    align-self: flex-start;\n    padding: 0 !important;\n    height: 100%;\n    margin: auto;\n    form {\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: flex-start;\n      height: 100%;\n      padding: 0 18px;\n\n      h2 {\n        font-family: 'IBMPlexSans-SemiBold';\n        margin: 35px 0 0 0;\n        letter-spacing: 1px;\n        font-size: 1.875rem;\n      }\n      p {\n        text-align: left;\n        padding: 12px 10px 11px 10px;\n        margin: 5px 0 20px 0;\n        line-height: 1.5;\n      }\n    }\n  }\n\n  @media screen and (min-width: ",") {\n    &__create-password-container {\n      display: flex;\n      flex-direction: row;\n      width: 100vw;\n      max-width: 800px;\n      height: 635px;\n      left: 50%;\n      top: 50%;\n      position: absolute;\n      -webkit-transform: translate3d(-50%, -50%, 0);\n      -moz-transform: translate3d(-50%, -50%, 0);\n      transform: translate3d(-50%, -50%, 0);\n      background-color: white;\n    }\n\n    &__form-section {\n      flex: 1;\n      align-self: flex-start;\n\n      form {\n        padding: 20px 25px;\n\n        h2 {\n          margin: 0 0 10px 0;\n          padding: 15px 0 0 0;\n        }\n\n        p {\n          margin: 0;\n          padding-right: 25px;\n        }\n      }\n    }\n\n    &__password-field {\n      margin: 0 0 15px 0;\n    }\n\n    &__terms-section {\n      margin: 20px 0 0 0;\n    }\n\n    &__submit-button {\n      align-self: center;\n      padding: 0 0 15px 0;\n      margin: 15px 0 0 0 !important;\n    }\n  }\n"])),P.text.link,P.white,P.button.primary.active,Xe);var BN,FN=Object(E.b)((e=>{const n=e.className;return Object(a.jsxs)("div",{className:"".concat(n,"__password-success-container"),children:[Object(a.jsxs)("div",{className:"".concat(n,"__password-success-header"),children:[Object(a.jsx)("img",{className:"".concat(n,"__open-stalls-logo"),src:ra,alt:"Open Stalls"}),Object(a.jsx)("img",{className:"".concat(n,"__rodeo-logo"),src:aa,alt:"Rodeo Logistics"})]}),Object(a.jsxs)("div",{className:"".concat(n,"__password-success-info"),children:[Object(a.jsx)("h2",{children:"SUCCESS!"}),Object(a.jsx)("p",{children:"Your account has been succesfully set up."}),Object(a.jsx)("p",{children:"You can now sign in with your email and password that you created."}),Object(a.jsx)(b.c,{className:"".concat(n,"__button"),to:"/login",children:"GO TO SIGN IN"})]})]})}))(PN||(PN=Object(k.a)(["\n  &__password-success-container {\n    width: 90%;\n    margin: 25px auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n\n  &__password-success-header {\n    width: 80%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n\n  &__open-stalls-logo {\n    width: 80%;\n  }\n\n  &__rodeo-logo {\n    width: 80%;\n  }\n\n  &__button {\n    align-self: center;\n    width: 95%;\n    margin: 25px 0 10px 0 !important;\n    color: "," !important;\n    background-color: "," !important;\n    padding: 10px;\n    border-radius: 2px;\n    box-shadow: 0 2px 5px 0 rgba(17, 24, 31, 0.3), 0 2px 10px 0 rgba(17, 24, 31, 0.1);\n  }\n\n  &__password-success-info {\n    background-color: ",";\n    box-shadow: 0 2px 5px 0 rgba(17, 24, 31, 0.3), 0 2px 10px 0 rgba(17, 24, 31, 0.1);\n    border-radius: 0;\n    font-family: 'IBMPlexSans-Regular';\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    padding: 20px;\n    margin: 20px 0 0 0;\n\n    h2 {\n      margin: 0 0 15px 0;\n      font-family: 'IBMPlexSans-SemiBold';\n      letter-spacing: 1px;\n      font-size: 1.875rem;\n    }\n    p {\n      align-self: flex-start;\n      text-align: left;\n      font-size: 15px;\n      letter-spacing: 1px;\n      line-height: 1.5;\n      margin: 0;\n    }\n  }\n\n  @media screen and (min-width: ",") {\n    &__password-success-container {\n      width: 600px;\n      margin: 150px auto;\n    }\n    &__password-success-header {\n      width: 500px;\n    }\n    &__open-stalls-logo {\n      width: 275px;\n      margin: 0 0 15px 0;\n    }\n    &__rodeo-logo {\n      width: 300px;\n    }\n    &__password-success-info {\n      margin: 25px 0 0 0;\n      padding: 25px;\n      width: 350px;\n    }\n  }\n"])),P.white,P.button.primary.active,P.white,Xe);const LN=L()(BN||(BN=Object(k.a)(["\n  mutation CreatePassword($input: CreatePasswordInputType!) {\n    createPassword(input: $input) {\n      success\n      error\n    }\n  }\n"])));var qN,zN=Object(re.a)(LN,{props:({mutate:e})=>({createPassword:n=>e({variables:{input:n}})}),options:()=>({onCompleted:e=>e,onError:e=>e})})((e=>{const n=Object(r.useState)(!1),t=Object(w.a)(n,2),s=t[0],i=t[1],c=Object(Ia.e)({initialValues:{password:"",checkedTermsAndConditions:!1},validationSchema:Ca.e().shape({password:Ca.f().required().min(8).matches(ct).matches(it).matches(st),checkedTermsAndConditions:Ca.b().oneOf([!0],'You must please read and accept the "Terms of Use", "Privacy Policy" and "End User Agreement" before proceeding')}),onSubmit:function(){var n=Object(O.a)(x.a.mark((function n(t){var a,r,s,c;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.token,r=t.password,n.next=4,e.createPassword({password:r,token:a});case 4:s=n.sent,c=s.data.createPassword.success,i(c);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),o=c.values.password,l=!!o.match(ct),d=!!o.match(it),u=!!o.match(st),p=!!o.match(ot);return s?Object(a.jsx)(FN,{}):Object(a.jsx)(MN,{description:St,formik:c,passwordRequirements:{hasOneNumber:l,hasOneUppercase:d,hasOneLowercase:u,hasEightCharacters:p}})}));const YN=Object(E.b)((e=>{const n=e.className,t=e.location,r=new URLSearchParams(t.search).get("token"),s=Object(_.c)(Ea,{variables:{token:r}}),i=s.data,c=s.error;return!r||c?Object(a.jsx)(H.a,{to:"/login"}):i&&i.checkResetPasswordTokenExpired.expired?Object(a.jsx)(H.a,{to:"/forgot-password?expired=true"}):Object(a.jsx)("div",{className:"".concat(n,"__create-password e2e-create-password"),children:Object(a.jsx)(zN,{token:r})})}))(qN||(qN=Object(k.a)(["\n  &_create-password {\n    width: 100%;\n  }\n"])));var VN,UN=Object(H.j)(YN);L()(VN||(VN=Object(k.a)(["\n  query CurrentRentableEvents($orderBy: [String], $filterBy: EventFilterInput, $limit: Int, $offset: Int) {\n    events(orderBy: $orderBy, filterBy: $filterBy, limit: $limit, offset: $offset) {\n      id\n      name\n      checkInTime\n      checkOutTime\n      startDate\n      endDate\n      openDate\n      closeDate\n      venue {\n        id\n        city\n        state\n        phone\n        timeZone\n      }\n      stallProducts {\n        nightly\n        startDate\n        endDate\n        name\n        description\n        price\n      }\n      rvProducts {\n        startDate\n        nightly\n        endDate\n        price\n      }\n    }\n  }\n"])));var WN;E.b.div(WN||(WN=Object(k.a)(["\n  ","\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 100%;\n  max-width: 1200px;\n  background-color: ",";\n  padding-left: 6px;\n  display: flex !important;\n  justify-content: space-between !important;\n  position: sticky;\n  align-items: center !important;\n  margin-bottom: 0 !important;\n  top: 64px;\n  padding: 20px 20px 36px !important;\n  z-index: 2;\n  width: 100%;\n\n  @media screen and (max-width: 600px) {\n    top: 0px;\n  }\n\n  .dropdown-menu {\n    display: none !important;\n  }\n  ","\n  .event-search-bar {\n    height: 36px;\n    width: 600px;\n    background-color: $white;\n    border: 1px solid ",";\n    border-radius: 113px;\n    border-radius: 24px;\n    box-shadow: none;\n    position: relative;\n    padding-left: 80px;\n\n    @media screen and (max-width: 600px) {\n      width: 100%;\n    }\n\n    &.is-focused {\n      padding-left: 30px;\n\n      & :nth-child(2) {\n        left: 0px;\n        margin-left: 0px;\n      }\n\n      input {\n        text-align: left;\n\n        &::placeholder {\n          opacity: 0;\n        }\n      }\n    }\n\n    input {\n      font: revert;\n      padding: inherit;\n      text-align: center;\n\n      &::placeholder {\n        opacity: 0.6;\n      }\n    }\n\n    & :nth-child(2) {\n      position: absolute;\n      color: ",";\n      left: 50%;\n      margin-left: -90px;\n      padding: 6px 8px\n      transform: scale(1, 1) !important;\n\n    }\n    & :nth-child(3) {\n      svg {\n        fill: ",";\n      }\n    }\n  }\n"])),Ke,P.background.primary,en("SMALL_TABLET_WIDTH","\n    margin: 0 auto 25px auto;\n  "),P.border.primary,P.primary,P.border.primary);var QN,GN=t.p+"static/media/horse-in-stall-v2-flipped.afd90fc8.jpg";const HN=E.b.div(QN||(QN=Object(k.a)(['\n  & {\n    font-family: "IBMPlexSans-Regular";\n    font-size: 16px;\n    letter-spacing: 0.7px;\n    line-height: 25px;\n\n    .landing-page {\n      ',"\n      flex-flow: column nowrap;\n\n      .header {\n        width: 100%;\n        background: ",";\n\n\n        .container {\n          width: 100%;\n          max-width: 1200px;\n          ","\n          flex-flow: row nowrap;\n          justify-content: space-between;\n          margin: 10px auto;\n        }\n\n        img.openstalls {\n          height: 32px;\n          margin: 12px 20px 12px 25px;\n        }\n\n        img.rolo {\n          display: none;\n          ","\n          width: 212px;\n          margin: 12px 25px;\n        }\n\n        .actions {\n          ","\n          flex-direction: row;\n\n          a {\n            color: ",";\n            font-family: 'IBMPlexSans-Regular';\n            font-size: 16px;\n            letter-spacing: 0.7px;\n            line-height: 25px;\n            margin: 17px 25px 0 0;\n          }\n\n          .create-account {\n            display: none;\n            font-family: 'IBMPlexSans-Bold';\n            ","\n          }\n        }\n      }\n\n      .banner {\n        ",";\n        flex-direction: column;\n        background: ",";\n        ","\n      }\n\n      .banner-background {\n        background: no-repeat center/100% url(",");\n        height: 212px;\n        ","\n        ","\n\n        .banner-triangle {\n          width: 0;\n          height: 0;\n          border-bottom: 120px solid ",";\n          border-right: 100vw solid transparent;\n          display: block;\n          align-self: flex-end;\n          margin: 0;\n          position: relative;\n          top: 1px;\n          ","\n          ","\n        }\n\n        ","\n\n        ","\n      }\n\n      .signup {\n        ","\n        ","\n        .container {\n          width: 100%;\n          max-width: 600px;\n          ","\n          flex-flow: column nowrap;\n          text-align: left;\n          margin: 0 auto;\n          ","\n        }\n\n        .title {\n          max-width: 95%;\n          width: 80%;\n          color: ",';\n          font-family: "IBMPlexSans-SemiBold";\n          font-size: 25px;\n          letter-spacing: 1.1px;\n          line-height: 29px;\n          margin: 0 25px;\n\n          ',"\n\n          ","\n        }\n\n        div {\n          color: ",";\n          font-family: 'IBMPlexSans-Regular';\n          font-size: 16px;\n          letter-spacing: 0;\n          line-height: 22px;\n          margin: 10px 10px;\n        }\n\n        .text {\n          width: 80%;\n          margin: 10px 25px;\n          color: ",";\n          ","\n          ","\n        }\n\n        .actions {\n          ","\n          flex-flow: row nowrap;\n          margin: 20px 25px 30px;\n          ","\n          ","\n\n          button {\n            height: 45px;\n          }\n        }\n      }\n\n      .events-list {\n        ","\n        flex-direction: column;\n\n        .actions {\n          margin: 25px 0;\n          button.MuiButtonBase-root{\n            height: 45px;\n          }\n        }\n      }\n\n      .upcoming-events {\n        width: -webkit-fill-available;\n        max-width: 1200px;\n        padding: 25px 20px\n        color: ",";\n        font-family: 'IBMPlexSans-SemiBold';\n        font-size: 25px;\n        letter-spacing: 1.1px;\n        line-height: 25px;\n        text-align: left;\n        margin: 0 auto;\n\n        ","\n      }\n\n      .rectangle {\n        margin-top: 8px;\n        height: 5px;\n        width: 90px;\n        background-color: ",";\n      }\n\n      .how-it-works {\n        background: ",";\n        color: ",';\n        font-family: "IBMPlexSans-Regular";\n        font-size: 16px;\n        letter-spacing: 0;\n        line-height: 25px;\n\n        ',"\n\n        .content {\n          ","\n          flex-flow: column nowrap;\n          padding: 25px 0;\n          ","\n        }\n\n        .hiw-row {\n          margin 12px 25px;\n          ","\n          flex-flow: row nowrap;\n          ","\n        }\n\n        .hiw-row.title {\n          color: ",';\n          font-family: "IBMPlexSans-SemiBold";\n          font-size: 25px;\n          letter-spacing: 1.1px;\n          line-height: 25px;\n          ',"\n          flex-flow: column nowrap;\n          text-align: left;\n          ","\n        }\n\n        .rectangle-white {\n          height: 5px;\n          width: 90px;\n          background-color: ",";\n          display: inline-block;\n          margin-top: 8px;\n        }\n\n        .badge {\n          span {\n            background: ",";\n            color: ",";\n            border-radius: 50%;\n            width: 25px;\n            height: 25px;\n            display: inline-block;\n            font-weight: bold;\n            font-family: 'IBMPlexSans-Bold';\n          }\n        }\n        .text2 {\n          text-align: left;\n          margin-left: 10px;\n        }\n      }\n\n      .horse-bg {\n        background: no-repeat center/160% url(",");\n        height: 343px;\n        width: 100%;\n        transform: scaleX(-1);\n        ","\n        flex-direction: row-reverse;\n        ","\n        ","\n\n        .triangle {\n          width: 0;\n          height: 0;\n          border-bottom: 80px solid ",";\n          border-left: 100vw solid transparent;\n          display: block;\n          align-self: flex-end;\n          position: relative;\n          top: 1px;\n          ","\n        }\n      }\n\n      .venues {\n        color: ",';\n        font-family: "IBMPlexSans-Regular";\n        font-size: 16px;\n        letter-spacing: 0;\n        line-height: 25px;\n        text-align: left;\n        ',"\n        flex-flow: column nowrap;\n\n        ","\n\n        .content {\n          ","\n        }\n\n        .venue-row {\n          margin: 30px 25px;\n\n          ","\n\n          .title {\n            color: ",';\n            font-family: "IBMPlexSans-SemiBold";\n            font-size: 22px;\n            letter-spacing: 0.97px;\n            line-height: 25px;\n            margin-bottom: 15px;\n          }\n        }\n\n        .forvenues {\n          color: ',';\n          font-family: "IBMPlexSans-SemiBold";\n          font-size: 25px;\n          letter-spacing: 1.1px;\n          line-height: 25px;\n          text-align: center;\n          margin: 25px 0 10px;\n          ',"\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          ","\n        }\n      }\n\n      .learn-more {\n        background-color: ",";\n\n        .title {\n          color: ",';\n          font-family: "IBMPlexSans-SemiBold";\n          font-size: 25px;\n          letter-spacing: 1.1px;\n          line-height: 33px;\n          text-align: center;\n          margin: 25px;\n        }\n\n        .actions {\n          margin: 25px;\n\n          a {\n            color: ',';\n            font-family: "IBMPlexSans-Regular";\n            font-size: 16px;\n            letter-spacing: 0.7px;\n            line-height: 25px;\n            text-align: center;\n            border-radius: 3px;\n            background-color: ',";\n            box-shadow: 0 2px 10px 0 rgba(0,0,0,0.16), 0 2px 5px 0 rgba(0,0,0,0.26);\n            padding: 14px 25px;\n          }\n        }\n      }\n\n      .copy-right {\n        background-color: ",";\n        color: ",";\n        padding 15px 0;\n        text-align: center;\n      }\n    }\n\n    .events-list .disabled-button {\n      width: -webkit-fill-available;\n      height: 26px;\n      ","\n\n    }\n\n    .events-list .book-link button.MuiButtonBase-root {\n      height: 45px;\n    }\n  }\n"])),Ke,P.text.primary,Ke,en("BIG_TABLET_WIDTH","display: unset;"),Ke,P.white,en("BIG_TABLET_WIDTH","display: unset;"),Ke,P.button.secondary.active,en("BIG_TABLET_WIDTH","\n        flex-direction: row;\n        "),ke,Ke,en("BIG_TABLET_WIDTH","\n        width: 50vw;\n        order: 2;\n        "),P.button.secondary.active,en("BIG_TABLET_WIDTH","\n            border-bottom: 340px solid ".concat(P.button.secondary.active,";\n            border-right: 25vw solid transparent;\n            top: 0;\n            left: -1px;\n          ")),en("DESKTOP_WIDTH","\n          border-bottom: 400px solid ".concat(P.button.secondary.active,";\n          ")),en("BIG_TABLET_WIDTH","\n          background: no-repeat center/100% url(".concat(ke,");\n          height: 340px;\n        ")),en("DESKTOP_WIDTH","\n        height: 400px;\n        "),en("BIG_TABLET_WIDTH","\n        width: 50vw;\n        order: 1;\n        "),en("DESKTOP_WIDTH","\n        ".concat(Ke,"\n        flex-direction: row;\n        justify-content: flex-end;\n        ")),Ke,en("DESKTOP_WIDTH","\n          margin: 0;\n          "),P.white,en("BIG_TABLET_WIDTH","\n            width: 50vw;\n            font-size: 41px;\n            letter-spacing: 1.24px;\n            line-height: 50px;\n            margin-top: 70px;\n          "),en("DESKTOP_WIDTH","\n          margin-top: 100px;\n          margin-left: 0;\n          "),P.text.primary,P.white,en("BIG_TABLET_WIDTH",'\n            width: 520px;\n            font-family: "IBMPlexSans-Regular";\n            font-size: 20px;\n            letter-spacing: 0;\n            line-height: 25px;\n          '),en("DESKTOP_WIDTH","\n          width: 100%;\n          margin-left: 0;\n          "),Ke,en("BIG_TABLET_WIDTH","\n          margin: 20px 25px 0;\n          "),en("DESKTOP_WIDTH","\n          margin-left: 0;\n          "),Ke,P.text.primary,en("DESKTOP_WIDTH","\n        font-size: 30px;\n        letter-spacing: 0.91px;\n        line-height: 50px;\n        padding: 40px 0 5px;\n        "),P.text.primary,P.button.secondary.active,P.white,en("DESKTOP_WIDTH","\n        ".concat(Ke,"\n        flex-flow: row nowrap;\n        font-size: 20px;\n        ")),Ke,en("DESKTOP_WIDTH","\n            width: 50%;\n            max-width: 600px;\n            margin: 70px 0;\n          "),Ke,en("DESKTOP_WIDTH","\n          margin 20px 25px;\n          "),P.white,Ke,en("DESKTOP_WIDTH","\n          font-size: 30px;\n          "),P.white,P.white,P.button.secondary.active,GN,Ke,en("BIG_TABLET_WIDTH","\n        background: no-repeat center/150% url(".concat(GN,");\n        background-position-x: 10px;\n        ")),en("DESKTOP_WIDTH","\n        width: 50%;\n        margin: 0;\n        height: 600px;\n        flex-direction: row;\n        background: no-repeat center/150% url(".concat(GN,");\n        background-position-x: 10px;\n        ")),P.button.secondary.active,en("DESKTOP_WIDTH","\n            align-self: unset;\n            border-bottom: unset;\n            border-left: unset;\n            border-top: 600px solid ".concat(P.button.secondary.active,";\n            border-right: 350px solid transparent;\n            justify-content: flex-end;\n            right: 1px;\n          ")),P.text.primary,Ke,en("DESKTOP_WIDTH","\n          flex-flow: row wrap;\n          justify-content: space-evenly;\n        "),en("DESKTOP_WIDTH","\n          width: 100%;\n          max-width: 1200px;\n          ".concat(Ke,"\n          flex-flow: row nowrap;\n          justify-content: space-between;\n          margin-bottom: 50px;\n          ")),en("DESKTOP_WIDTH","\n          max-width: 350px;\n          margin: 15px 0;\n          "),P.text.primary,P.text.primary,Ke,en("DESKTOP_WIDTH","\n          width: 100vw;\n          font-size: 30px;\n          margin: 60px 0 50px;\n          "),P.button.secondary.active,P.white,P.white,P.primary,P.text.primary,P.white,en("BIG_TABLET_WIDTH","width: unset;")),KN=()=>{const e=Object(H.g)().push;return Object(r.useEffect)((()=>{window.scrollTo(0,0)}),[]),Object(a.jsx)(HN,{children:Object(a.jsxs)("div",{className:"landing-page",children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:_e,alt:"Open Stalls",className:"openstalls"}),Object(a.jsx)("img",{src:Ee,alt:"Rodeo Logistics",className:"rolo"})]}),Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsx)(b.b,{to:ae.LOGIN,children:"SIGN IN"}),Object(a.jsx)(b.b,{to:ae.CREATE_ACCOUNT,className:"create-account",children:"SIGN UP"})]})]})}),Object(a.jsxs)("div",{className:"banner",children:[Object(a.jsx)("div",{className:"banner-background",children:Object(a.jsx)("div",{className:"banner-triangle"})}),Object(a.jsx)("div",{className:"signup",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"title",children:["Seamless Reservations ",Object(a.jsx)("br",{})," for Stalls & RV Spots"]}),Object(a.jsx)("div",{className:"text",children:"No waiting in line. No wondering whether there'll be availability.\n            Reserve and pay in advance so you can rest easy."}),Object(a.jsx)("div",{className:"actions",children:Object(a.jsx)(Yn,{type:"button",primary:!0,onClick:()=>e(ae.CREATE_ACCOUNT),children:"SIGN UP NOW"})})]})})]}),Object(a.jsxs)("div",{className:"upcoming-events",children:["Upcoming Events",Object(a.jsx)("div",{className:"rectangle"})]}),Object(a.jsxs)("div",{className:"events-list",children:[Object(a.jsx)(pi,{limit:10,noTitle:!0}),Object(a.jsx)("div",{className:"actions",children:Object(a.jsx)(Yn,{secondary:!0,onClick:()=>e(ne.RENTER.EVENTS),children:"SEE ALL EVENTS"})})]}),Object(a.jsxs)("div",{className:"how-it-works",children:[Object(a.jsx)("div",{className:"horse-bg",children:Object(a.jsx)("div",{className:"triangle"})}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("div",{className:"hiw-row title",children:[Object(a.jsx)("div",{children:"How it Works"}),Object(a.jsx)("div",{className:"rectangle-white"})]}),Object(a.jsxs)("div",{className:"hiw-row",children:[Object(a.jsx)("div",{className:"badge",children:Object(a.jsx)("span",{children:"1"})}),Object(a.jsx)("div",{className:"text2",children:"Before the event, use Open Stalls to reserve and pay for stalls, RV spots, shavings and other add ons."})]}),Object(a.jsxs)("div",{className:"hiw-row",children:[Object(a.jsx)("div",{className:"badge",children:Object(a.jsx)("span",{children:"2"})}),Object(a.jsx)("div",{className:"text2",children:"Receive your stall and spot assignments by text message before the event."})]}),Object(a.jsxs)("div",{className:"hiw-row",children:[Object(a.jsx)("div",{className:"badge",children:Object(a.jsx)("span",{children:"3"})}),Object(a.jsx)("div",{className:"text2",children:"When you arrive, you can go directly to your stall with add ons already delivered and unload your horse. No waiting in line or wondering whether there will be stalls left."})]})]})]}),Object(a.jsxs)("div",{className:"venues",children:[Object(a.jsxs)("div",{className:"forvenues",children:[Object(a.jsx)("div",{children:"For Venues"}),Object(a.jsx)("div",{className:"rectangle"})]}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("div",{className:"venue-row",children:[Object(a.jsx)("div",{className:"title",children:"Event Management"}),Object(a.jsx)("div",{className:"text2",children:"Create and manage events that are tailor-fit for your needs, with customizable rate types, booking windows and the ability to choose which stalls and RV spots are reservable for an event."})]}),Object(a.jsxs)("div",{className:"venue-row",children:[Object(a.jsx)("div",{className:"title",children:"Digital Reservations"}),Object(a.jsx)("div",{className:"text2",children:"Manage online reservations booked by renters, create reservations for walk-up and call-in customers, and keep track of check ins and check outs. Capacity management ensures stalls and spots are never double booked."})]}),Object(a.jsxs)("div",{className:"venue-row",children:[Object(a.jsx)("div",{className:"title",children:"Reporting"}),Object(a.jsx)("div",{className:"text2",children:"Various insightful reports help ensure you stay on the top of\n              financials and are able to keep track of what's been booked at\n              each event to optimize your future events."})]})]})]}),Object(a.jsxs)("div",{className:"learn-more",children:[Object(a.jsx)("div",{className:"title",children:"Interested in using Open Stalls at your venue?"}),Object(a.jsx)("div",{className:"actions",children:Object(a.jsx)("a",{href:"https://www.rodeologistics.co/features/openstalls/",rel:"noopener noreferrer",target:"_blank",children:"LEARN MORE"})})]}),Object(a.jsxs)("div",{className:"copy-right",children:["\xa9 ",Hr()().format("YYYY")," Rodeo Logistics"]})]})})};var ZN=()=>Object(a.jsx)(Ie,{children:Object(a.jsxs)(H.d,{children:[Object(a.jsx)(H.b,{exact:!0,path:ae.ROOT,component:KN}),Object(a.jsx)(H.b,{exact:!0,path:ae.LOGIN,component:Et}),Object(a.jsx)(H.b,{exact:!0,path:ae.CREATE_ACCOUNT,component:ea}),Object(a.jsx)(H.b,{exact:!0,path:ae.FORGOT_PASSWORD,component:Na}),Object(a.jsx)(H.b,{exact:!0,path:ae.RESET_PASSWORD,component:Ha}),Object(a.jsx)(H.b,{exact:!0,path:ae.CREATE_PASSWORD,component:UN}),Object(a.jsx)(H.b,{exact:!0,path:ae.TERMS,component:gr}),Object(a.jsx)(H.b,{exact:!0,path:ae.PRIVACY,component:vr}),Object(a.jsx)(H.b,{exact:!0,path:ae.ENDUSER,component:fr}),Object(a.jsx)(H.b,{path:"".concat(ae.ADMIN),component:Dw}),Object(a.jsx)(H.b,{path:"".concat(ae.SUPER_ADMIN),component:SN}),Object(a.jsx)(H.b,{path:"".concat(ae.OPS),component:TN}),Object(a.jsx)(H.b,{path:"".concat(ae.ROOT),component:au})]})}),XN=(t(1139),t(588));var JN=Object(XN.a)({typography:{fontFamily:"IBMPlexSans-Regular, Roboto, Helvetica, Arial, sans-serif"},palette:{primary:{500:"#2875c3"}}});var $N=()=>Object(a.jsx)(b.a,{children:Object(a.jsx)(p.b,{client:G.a,children:Object(a.jsx)(C,{children:Object(a.jsx)(y,{children:Object(a.jsx)(W,{children:Object(a.jsx)(m.a,{theme:JN,children:Object(a.jsx)(ZN,{})})})})})})});l.a.start({apiKey:"f9b5d0939fe3ec042055c5f9a5a48d46",plugins:[new u.a],enabledReleaseStages:["production","staging","dev","pr_app"],releaseStage:"dev"});const eS=l.a.getPlugin("react").createErrorBoundary(s.a);c.a.render(Object(a.jsx)(eS,{children:Object(a.jsx)($N,{})}),document.getElementById("root"))},30:function(e,n,t){"use strict";function a(e,n){const t=Object.keys(e),a=n instanceof Array?new Set(n.map((e=>"".concat(e)))):new Set(["".concat(n)]);return t.reduce(((n,t)=>(a.has(t)||(n[t]=e[t]),n)),{})}function r(e,n,t){if(!e)return t;const a=n.split(".");let r=t;const s=/(\[\d+])$/;try{r=e;for(let e=0;e<a.length;e++){const n=a[e],i=n.match(s);if(i){const e=n.replace(/\[\d+]/,""),a=parseInt(i[0].replace(/[[\]]/g,""),10),s=e?r[e]:r;if(e&&!r.hasOwnProperty(e)){r=t;break}r=s[a]}else{if(!r.hasOwnProperty(n)){r=t;break}r=r[n]}if(void 0===r){r=t;break}}}catch(i){r=t}return r}t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return r}))},475:function(e,n,t){},533:function(e,n,t){},534:function(e,n,t){},535:function(e,n,t){},536:function(e,n){},537:function(e,n,t){"use strict";t.d(n,"c",(function(){return a})),t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return s})),t.d(n,"d",(function(){return i}));const a={dateRange:{startDate:null,endDate:null},entireEvent:!1,name:"",price:"",pricing:"",stallsForThisRate:[]},r={price:"",pricing:"",rvLotId:"",spots:[],dateRange:{startDate:null,endDate:null}},s={id:1,question:"",answerOptions:[{id:1,text:null}],questionType:"singleSelection",required:!1,listOrder:0},i={hasStalls:!1,hasRvs:!1,step:"details",eventDates:{startDate:null,endDate:null},bookingWindow:{startDate:null,endDate:null},stallQuestions:[],rvQuestions:[],openTime:"00:00",closeTime:"23:59",checkInTime:"15:00",checkOutTime:"12:00",eventDescription:"",stalls:[],eventName:"",addOns:[],rvs:[],stallFlip:!0,rvFlip:!0,venueAgreement:"",venueMap:null,validSections:null,isLoading:!1,agreements:[]}},538:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var a=t(11);const r=a.e().shape({bookingWindow:a.e().shape({startDate:a.f().length(10),endDate:a.f().length(10)}),eventDates:a.e().shape({startDate:a.f().length(10),endDate:a.f().length(10)}),eventDescription:a.f().nullable().min(3,"Event Description must be at least 3 characters").max(255,"Event Description must be less than 256 characters"),eventName:a.f().required("Event Name is required").min(3,"Event Name must be at least 3 characters"),stallQuestions:a.a().when("hasStalls",{is:e=>e,then:a.a().of(a.e().shape({question:a.f().required("Question is required").min(7,"Question must be at least 7 characters").max(255,"Max character limit is 255").matches(/^.*[a-zA-Z0-9]+.*$/,"Question cannot be blank")}))}),stalls:a.a().when("hasStalls",{is:e=>e,then:a.a().of(a.e().shape({dateRange:a.e().shape({startDate:a.f().length(10),endDate:a.f().length(10)}),entireEvent:a.c().required(),name:a.f().required("Name is required"),price:a.d().required("Valid price required"),pricing:a.f(),stallsForThisRate:a.a().of(a.f()).min(1)}))}),step:a.f().required("step is not defined"),checkInTime:a.f().required("Check in time is required").matches(/\d|\d{2}:[0-5][0-9]/i,"Invalid time format. H:MMpm"),checkOutTime:a.f().required("Check out time is required").matches(/\d|\d{2}:[0-5][0-9]/i,"Invalid time format. H:MMpm"),addOns:a.a().of(a.e().shape({id:a.f().required("Please select an addon"),name:a.f().required("addOn name is required"),price:a.d().required("Price is required")})),venueAgreement:a.f().required("Invalid venue agreement"),rvQuestions:a.a().when("hasRvs",{is:e=>e,then:a.a().of(a.e().shape({question:a.f().required("Question is required").min(7,"Question must be at least 7 characters").max(255,"Max character limit is 255").matches(/^.*[a-zA-Z0-9]+.*$/,"Question cannot be blank")}))}),rvs:a.a().when("hasRvs",{is:e=>e,then:a.a().of(a.e().shape({price:a.d().required("Price is required"),rvLotId:a.f().required("Please select one Lot"),spots:a.a().of(a.f()).min(1)}))}),hasRvs:a.c().when("hasStalls",{is:e=>!e,then:a.c().oneOf([!0])})})},539:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var a=t(0),r=t(4),s=t(42),i=t(1),c=t(1152),o=t(398),l=t(9),d=t(397),u=t(118),p=t(30);const b=({formId:e,name:n,addOns:t})=>{const b=Object(l.f)(),m=b.values.addOns,j=b.setFieldValue,h=Object(p.a)({addOns:m},n),x=Object(i.useMemo)((()=>t.filter((({id:e})=>!(!h||e!==h)||!m.some((n=>n.id===e)))).map((({id:e,name:n})=>Object(a.jsx)(c.a,{value:e,children:n},e)))),[JSON.stringify(t),h]);return Object(i.useEffect)((()=>{if(h){const n=t.find((({id:e})=>h&&e===h))||{name:"",unitName:""};j("addOns[".concat(e,"].name"),n.name),j("addOns[".concat(e,"].unitName"),n.unitName)}}),[h]),Object(a.jsx)("div",{className:"card-select",children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(o.a,{htmlFor:"addOns",children:"Add On"}),Object(a.jsx)(l.a,{as:"select",name:n,render:e=>{let n=e.meta,t=Object(s.a)(e,["meta"]);return Object(a.jsx)(u.a,Object(r.a)(Object(r.a)({},t),{},{meta:n,error:n.touched&&n.error?n.error:null,helperText:n.touched&&n.error?n.error:null,children:x}))}})]})})}},540:function(e,n,t){},554:function(e,n){},72:function(e,n,t){"use strict";var a=t(536);t.o(a,"CardSelect")&&t.d(n,"CardSelect",(function(){return a.CardSelect})),t.o(a,"ValidationSchema")&&t.d(n,"ValidationSchema",(function(){return a.ValidationSchema})),t.o(a,"emptyQuestionCard")&&t.d(n,"emptyQuestionCard",(function(){return a.emptyQuestionCard})),t.o(a,"emptyRvCard")&&t.d(n,"emptyRvCard",(function(){return a.emptyRvCard})),t.o(a,"emptyStallCard")&&t.d(n,"emptyStallCard",(function(){return a.emptyStallCard})),t.o(a,"initialValues")&&t.d(n,"initialValues",(function(){return a.initialValues}));var r=t(537);t.d(n,"emptyQuestionCard",(function(){return r.a})),t.d(n,"emptyRvCard",(function(){return r.b})),t.d(n,"emptyStallCard",(function(){return r.c})),t.d(n,"initialValues",(function(){return r.d}));var s=t(538);t.d(n,"ValidationSchema",(function(){return s.a}));var i=t(539);t.d(n,"CardSelect",(function(){return i.a}))},90:function(e,n,t){"use strict";var a=t(589);n.a=new class{constructor(){this.getToken=()=>this.cookies.get("rolo-jwt"),this.setToken=e=>this.cookies.set("rolo-jwt",e,{maxAge:1e5}),this.clearToken=()=>this.cookies.remove("rolo-jwt",{path:"/"}),this.cookies=new a.a}}},979:function(e,n,t){},980:function(e,n,t){},981:function(e,n,t){},982:function(e,n,t){},983:function(e,n,t){},989:function(e,n){},990:function(e,n){},991:function(e,n){},992:function(e,n){},993:function(e,n){}},[[1140,1,2]]]);
//# sourceMappingURL=main.a1a8f98f.chunk.js.map